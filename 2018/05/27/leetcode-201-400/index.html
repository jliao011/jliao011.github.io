<!DOCTYPE html>
<html lang=en>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119871741-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-119871741-1');
  </script>
  <meta charset="utf-8">
  <meta name=referrer content=never>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"> <!-- minimal-ui -->
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  <title>LeetCode Solutions 201 - 400 | Jiafeng&#39;s Blog</title>
  <meta name="description" content="201 ~ 300 301 ~ 400     #201-bitwise-and-of-numbers-range-medium    #204-count-primes-easy        #206-reverse-linked-list-easy    #207-course-schedule-medium    #210-course-schedule-ii-medium #310">
<meta name="keywords" content="leetcode, computer science, sde, blog, jiafeng, liao, Jiafeng Liao">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode Solutions 201 - 400">
<meta property="og:url" content="https://jliao011.github.io/2018/05/27/leetcode-201-400/index.html">
<meta property="og:site_name" content="My Blog">
<meta property="og:description" content="201 ~ 300 301 ~ 400     #201-bitwise-and-of-numbers-range-medium    #204-count-primes-easy        #206-reverse-linked-list-easy    #207-course-schedule-medium    #210-course-schedule-ii-medium #310">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://leetcode.com/static/images/problemset/rectangle_area.png">
<meta property="og:updated_time" content="2018-07-31T23:41:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode Solutions 201 - 400">
<meta name="twitter:description" content="201 ~ 300 301 ~ 400     #201-bitwise-and-of-numbers-range-medium    #204-count-primes-easy        #206-reverse-linked-list-easy    #207-course-schedule-medium    #210-course-schedule-ii-medium #310">
<meta name="twitter:image" content="https://leetcode.com/static/images/problemset/rectangle_area.png">
  <!-- Canonical links -->
  <link rel="canonical" href="https://jliao011.github.io/2018/05/27/leetcode-201-400/index.html">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  <!-- font-awesome CSS -->
  <!-- <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="/css/style.css">
  
    
    


  
  <meta name="google-site-verification" content="Q8ZJjFeuFLdQt5A3JEUX1a0PKcngzJNKeU2D5Y24yXA" />
  
</head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Jiafeng Liao</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">New CS Grad</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Dallas, TX</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav">
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">About</span>
          </a>
        </li>
        
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">Categories</span>
          </a>
        </li>
        
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">Tags</span>
          </a>
        </li>
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">Repository</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/jliao011" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://www.linkedin.com/in/jiafengliao" target="_blank" title="Linkedin" data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>Welcome to my blog!</p><br/><p>Seeking full-time positions right now..</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/foundation/">foundation</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/project/">project</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-structure/">data structure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deploy/">deploy</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heap/">heap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/random/">random</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rest/">rest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software/">software</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sort/">sort</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/trie/">trie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/data-structure/" style="font-size: 13px;">data structure</a> <a href="/tags/deploy/" style="font-size: 13.5px;">deploy</a> <a href="/tags/heap/" style="font-size: 13px;">heap</a> <a href="/tags/hexo/" style="font-size: 13px;">hexo</a> <a href="/tags/java/" style="font-size: 13.5px;">java</a> <a href="/tags/random/" style="font-size: 13px;">random</a> <a href="/tags/rest/" style="font-size: 13px;">rest</a> <a href="/tags/software/" style="font-size: 13px;">software</a> <a href="/tags/sort/" style="font-size: 13.5px;">sort</a> <a href="/tags/spring/" style="font-size: 13px;">spring</a> <a href="/tags/trie/" style="font-size: 13px;">trie</a> <a href="/tags/web/" style="font-size: 14px;">web</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">7</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled ">
        
          <li>
            
            <div class="item-thumb">
              <a href="/2018/07/26/random/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/algorithm/">algorithm</a>
              </p>
              <p class="item-title">
                <a href="/2018/07/26/random/" class="title">Random Pick</a>
              </p>
              <p class="item-date">
                <time datetime="2018-07-27T01:17:26.000Z" itemprop="datePublished">2018-07-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2018/07/20/java-ambiguous-overloading/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/foundation/">foundation</a>
              </p>
              <p class="item-title">
                <a href="/2018/07/20/java-ambiguous-overloading/" class="title">How is ambiguous overloaded method call resolved in java?</a>
              </p>
              <p class="item-date">
                <time datetime="2018-07-20T23:28:47.000Z" itemprop="datePublished">2018-07-20</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2018/07/10/top-k-frequent-element/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/algorithm/">algorithm</a>
              </p>
              <p class="item-title">
                <a href="/2018/07/10/top-k-frequent-element/" class="title">Top K Frequent Element</a>
              </p>
              <p class="item-date">
                <time datetime="2018-07-10T21:13:23.000Z" itemprop="datePublished">2018-07-10</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2018/07/08/top-k/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/algorithm/">algorithm</a>
              </p>
              <p class="item-title">
                <a href="/2018/07/08/top-k/" class="title">Top k largest(smallest) in n elements</a>
              </p>
              <p class="item-date">
                <time datetime="2018-07-09T03:43:52.000Z" itemprop="datePublished">2018-07-08</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2018/06/25/gcd/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/algorithm/">algorithm</a>
              </p>
              <p class="item-title">
                <a href="/2018/06/25/gcd/" class="title">Greatest Common Divisor</a>
              </p>
              <p class="item-date">
                <time datetime="2018-06-25T07:59:52.000Z" itemprop="datePublished">2018-06-25</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">Catalogue</h3>
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#201-bitwise-and-of-numbers-range-medium"><span class="toc-number">1.</span> <span class="toc-text">#201-bitwise-and-of-numbers-range-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#204-count-primes-easy"><span class="toc-number">2.</span> <span class="toc-text">#204-count-primes-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#205-isomorphic-strings-easy"><span class="toc-number">3.</span> <span class="toc-text">#205-isomorphic-strings-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#206-reverse-linked-list-easy"><span class="toc-number">4.</span> <span class="toc-text">#206-reverse-linked-list-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#207-course-schedule-medium"><span class="toc-number">5.</span> <span class="toc-text">#207-course-schedule-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#210-course-schedule-ii-medium"><span class="toc-number">6.</span> <span class="toc-text">#210-course-schedule-ii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#211-add-and-search-word-medium"><span class="toc-number">7.</span> <span class="toc-text">#211-add-and-search-word-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#212-word-search-ii-hard"><span class="toc-number">8.</span> <span class="toc-text">#212-word-search-ii-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#217-contains-duplicate-easy"><span class="toc-number">9.</span> <span class="toc-text">#217-contains-duplicate-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#219-contains-duplicate-ii-easy"><span class="toc-number">10.</span> <span class="toc-text">#219-contains-duplicate-ii-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#220-contains-duplicate-iii-medium"><span class="toc-number">11.</span> <span class="toc-text">#220-contains-duplicate-iii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#223-rectangle-area-medium"><span class="toc-number">12.</span> <span class="toc-text">#223-rectangle-area-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#227-basic-calculator-ii-medium"><span class="toc-number">13.</span> <span class="toc-text">#227-basic-calculator-ii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#228-summary-ranges-medium"><span class="toc-number">14.</span> <span class="toc-text">#228-summary-ranges-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#229-majority-element-ii-medium"><span class="toc-number">15.</span> <span class="toc-text">#229-majority-element-ii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#235-lca-of-a-bst-easy"><span class="toc-number">16.</span> <span class="toc-text">#235-lca-of-a-bst-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#236-lca-of-a-binay-tree-medium"><span class="toc-number">17.</span> <span class="toc-text">#236-lca-of-a-binay-tree-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#239-sliding-window-maxmum-hard"><span class="toc-number">18.</span> <span class="toc-text">#239-sliding-window-maxmum-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#241-different-ways-to-add-parentheses-medium"><span class="toc-number">19.</span> <span class="toc-text">#241-different-ways-to-add-parentheses-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#243-shortest-word-distance-easy"><span class="toc-number">20.</span> <span class="toc-text">#243-shortest-word-distance-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#244-shortest-word-distance-ii-medium"><span class="toc-number">21.</span> <span class="toc-text">#244-shortest-word-distance-ii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#245-shortest-word-distance-iii-medium"><span class="toc-number">22.</span> <span class="toc-text">#245-shortest-word-distance-iii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#248-strobogrammatic-number-iii-hard"><span class="toc-number">23.</span> <span class="toc-text">#248-strobogrammatic-number-iii-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#250-count-univalue-subtrees-medium"><span class="toc-number">24.</span> <span class="toc-text">#250-count-univalue-subtrees-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#251-flatten-2d-vector-medium"><span class="toc-number">25.</span> <span class="toc-text">#251-flatten-2d-vector-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#253-meeting-rooms-ii-medium"><span class="toc-number">26.</span> <span class="toc-text">#253-meeting-rooms-ii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#263-ugly-number-easy"><span class="toc-number">27.</span> <span class="toc-text">#263-ugly-number-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#264-ugly-number-ii-medium"><span class="toc-number">28.</span> <span class="toc-text">#264-ugly-number-ii-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#268-missing-number-easy"><span class="toc-number">29.</span> <span class="toc-text">#268-missing-number-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#269-alien-dictionary-hard"><span class="toc-number">30.</span> <span class="toc-text">#269-alien-dictionary-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#271-encode-and-decode-strings-medium"><span class="toc-number">31.</span> <span class="toc-text">#271-encode-and-decode-strings-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#272-closest-bst-value-ii-hard"><span class="toc-number">32.</span> <span class="toc-text">#272-closest-bst-value-ii-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#277-find-celebrity-medium"><span class="toc-number">33.</span> <span class="toc-text">#277-find-celebrity-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#279-perfect-squares-medium"><span class="toc-number">34.</span> <span class="toc-text">#279-perfect-squares-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#285-inorder-successor-in-bst-medium"><span class="toc-number">35.</span> <span class="toc-text">#285-inorder-successor-in-bst-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#287-find-duplicate-number-medium"><span class="toc-number">36.</span> <span class="toc-text">#287-find-duplicate-number-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#295-find-median-from-data-stream-hard"><span class="toc-number">37.</span> <span class="toc-text">#295-find-median-from-data-stream-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#297-encode-and-decode-binary-tree-hard"><span class="toc-number">38.</span> <span class="toc-text">#297-encode-and-decode-binary-tree-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#300-longest-increasing-subsequence-medium"><span class="toc-number">39.</span> <span class="toc-text">#300-longest-increasing-subsequence-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#301-remove-invalid-parentheses-hard"><span class="toc-number">40.</span> <span class="toc-text">#301-remove-invalid-parentheses-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#310-minimum-height-trees-medium"><span class="toc-number">41.</span> <span class="toc-text">#310-minimum-height-trees-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#313-supper-ugly-number-medium"><span class="toc-number">42.</span> <span class="toc-text">#313-supper-ugly-number-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#323-number-of-connected-components-medium"><span class="toc-number">43.</span> <span class="toc-text">#323-number-of-connected-components-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#325-max-size-subarray-sum-equals-k-medium"><span class="toc-number">44.</span> <span class="toc-text">#325-max-size-subarray-sum-equals-k-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#332-reconstruct-itinerary-medium"><span class="toc-number">45.</span> <span class="toc-text">#332-reconstruct-itinerary-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#335-self-crossing-hard"><span class="toc-number">46.</span> <span class="toc-text">#335-self-crossing-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#350-intersection-of-two-arrays-easy"><span class="toc-number">47.</span> <span class="toc-text">#350-intersection-of-two-arrays-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#362-design-hit-counter-medium"><span class="toc-number">48.</span> <span class="toc-text">#362-design-hit-counter-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#371-sum-of-two-integers-easy"><span class="toc-number">49.</span> <span class="toc-text">#371-sum-of-two-integers-easy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#373-find-k-pairs-with-smallest-sum-medium"><span class="toc-number">50.</span> <span class="toc-text">#373-find-k-pairs-with-smallest-sum-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#378-k-th-smallest-element-in-a-sorted-matrix-medium"><span class="toc-number">51.</span> <span class="toc-text">#378-k-th-smallest-element-in-a-sorted-matrix-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#380-insert-delete-getrandom-o1-medium"><span class="toc-number">52.</span> <span class="toc-text">#380-insert-delete-getrandom-o1-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#381-insert-delete-getrandom-duplicates-allowed-hard"><span class="toc-number">53.</span> <span class="toc-text">#381-insert-delete-getrandom-duplicates-allowed-hard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#384-shuffle-an-array-medium"><span class="toc-number">54.</span> <span class="toc-text">#384-shuffle-an-array-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#388-longest-absolute-file-path-medium"><span class="toc-number">55.</span> <span class="toc-text">#388-longest-absolute-file-path-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#394-decode-string-medium"><span class="toc-number">56.</span> <span class="toc-text">#394-decode-string-medium</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#398-random-pick-index-medium"><span class="toc-number">57.</span> <span class="toc-text">#398-random-pick-index-medium</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-leetcode-201-400" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      LeetCode Solutions 201 - 400
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2018/05/27/leetcode-201-400/" class="article-date">
	  <time datetime="2018-05-27T07:31:15.000Z" itemprop="datePublished">2018-05-27</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </span>

        

        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2018/05/27/leetcode-201-400/#comments" class="article-comment-link">Comments</a></span>
        
      </div>
    </div>
    <div class="article-entry markdown-body" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>201 ~ 300</th>
<th>301 ~ 400</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#201-bitwise-and-of-numbers-range-medium">#201-bitwise-and-of-numbers-range-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#204-count-primes-easy">#204-count-primes-easy</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong><a href="#206-reverse-linked-list-easy">#206-reverse-linked-list-easy</a></strong></td>
<td></td>
</tr>
<tr>
<td><a href="#207-course-schedule-medium">#207-course-schedule-medium</a></td>
<td></td>
</tr>
<tr>
<td><strong><a href="#210-course-schedule-ii-medium">#210-course-schedule-ii-medium</a></strong></td>
<td><a href="#310-minimum-height-trees-medium">#310-minimum-height-trees-medium</a></td>
</tr>
<tr>
<td><a href="#211-add-and-search-word-medium">#211-add-and-search-word-medium</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#313-supper-ugly-number-medium">#313-supper-ugly-number-medium</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#217-contains-duplicate-easy">#217-contains-duplicate-easy</a></td>
<td></td>
</tr>
<tr>
<td><a href="#219-contains-duplicate-ii-easy">#219-contains-duplicate-ii-easy</a></td>
<td></td>
</tr>
<tr>
<td><a href="#220-contains-duplicate-iii-medium">#220-contains-duplicate-iii-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#223-rectangle-area-medium">#223-rectangle-area-medium</a></td>
<td><a href="#323-number-of-connected-components-medium">#323-number-of-connected-components-medium</a></td>
</tr>
<tr>
<td></td>
<td><a href="#325-max-size-subarray-sum-equals-k-medium">#325-max-size-subarray-sum-equals-k-medium</a></td>
</tr>
<tr>
<td><a href="#228-summary-ranges-medium">#228-summary-ranges-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#229-majority-element-ii-medium">#229-majority-element-ii-medium</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#332-reconstruct-itinerary-medium">#332-reconstruct-itinerary-medium</a></td>
</tr>
<tr>
<td><a href="#235-lca-of-a-bst-easy">#235-lca-of-a-bst-easy</a></td>
<td><a href="#335-self-crossing-hard">#335-self-crossing-hard</a></td>
</tr>
<tr>
<td><a href="#236-lca-of-a-binary-tree-medium">#236-lca-of-a-binary-tree-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#241-different-ways-to-add-parentheses-medium">#241-different-ways-to-add-parentheses-medium</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#243-shortest-word-distance-easy">#243-shortest-word-distance-easy</a></td>
<td></td>
</tr>
<tr>
<td><a href="#244-shortest-word-distance-ii-medium">#244-shortest-word-distance-ii-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#245-shortest-word-distance-iii-medium">#245-shortest-word-distance-iii-medium</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#347-top-k-frequent-elements-medium">#347-top-k-frequent-elements-medium</a></td>
</tr>
<tr>
<td><a href="#248-strobogrammatic-number-iii-hard">#248-strobogrammatic-number-iii-hard</a></td>
<td></td>
</tr>
<tr>
<td><a href="#250-count-univalue-subtrees-medium">#250-count-univalue-subtrees-medium</a></td>
<td><a href="#350-intersection-of-two-arrays-easy">#350-intersection-of-two-arrays-easy</a></td>
</tr>
<tr>
<td><a href="#251-flatten-2d-vector-medium">#251-flatten-2d-vector-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#253-meeting-rooms-ii-medium">#253-meeting-rooms-ii-medium</a></td>
<td></td>
</tr>
<tr>
<td><a href="#263-ugly-number-easy">#263-ugly-number-easy</a></td>
<td></td>
</tr>
<tr>
<td><a href="#268-missing-number-easy">#268-missing-number-easy</a></td>
<td></td>
</tr>
<tr>
<td><a href="#269-alien-dictionary-hard">#269-alien-dictionary-hard</a></td>
<td></td>
</tr>
<tr>
<td><a href="#271-encode-and-decode-strings-medium">#271-encode-and-decode-strings-medium</a></td>
<td><strong><a href="#371-sum-of-two-integers-easy">#371-sum-of-two-integers-easy</a></strong></td>
</tr>
<tr>
<td><a href="#272-closest-bst-value-ii-hard">#272-closest-bst-value-ii-hard</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#373-find-k-pairs-with-smallest-sum-medium">#373-find-k-pairs-with-smallest-sum-medium</a></td>
</tr>
<tr>
<td></td>
<td><a href="#378-k-th-smallest-element-in-a-sorted-matrix-medium">#378-k-th-smallest-element-in-a-sorted-matrix-medium</a></td>
</tr>
<tr>
<td><a href="#279-perfect-squares-medium">#279-perfect-squares-medium</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#380-insert-delete-getrandom-o1-medium">#380-insert-delete-getrandom-o1-medium</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#384-shuffle-an-array-medium">#384-shuffle-an-array-medium</a></td>
</tr>
<tr>
<td><strong><a href="#285-inorder-successor-in-bst-medium">#285-inorder-successor-in-bst-medium</a></strong></td>
<td></td>
</tr>
<tr>
<td><a href="#287-find-duplicate-number-medium">#287-find-duplicate-number-medium</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#388-longest-absolute-file-path-medium">#388-longest-absolute-file-path-medium</a></td>
</tr>
<tr>
<td></td>
<td><a href="#394-decode-string-medium">#394-decode-string-medium</a></td>
</tr>
<tr>
<td><a href="#295-find-median-from-data-stream-hard">#295-find-median-from-data-stream-hard</a></td>
<td></td>
</tr>
<tr>
<td><a href="#297-encode-and-decode-binary-tree-hard">#297-encode-and-decode-binary-tree-hard</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td><a href="#398-random-pick-index-medium">#398-random-pick-index-medium</a></td>
</tr>
<tr>
<td><a href="#300-longest-increasing-subsequence-medium">#300-longest-increasing-subsequence-medium</a></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="201-bitwise-and-of-numbers-range-medium"><a href="#201-bitwise-and-of-numbers-range-medium" class="headerlink" title="#201-bitwise-and-of-numbers-range-medium"></a>#201-bitwise-and-of-numbers-range-medium</h4><p>Given a range [m, n] where 0 &lt;= m &lt;= n &lt;= 2147483647, return the bitwise AND of all numbers in this range, inclusive.</p>
<p>For example, given the range [5, 7], you should return 4.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rangeBitwiseAnd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// right shift, all tail digits are 0</span></span><br><span class="line">    <span class="comment">// until m == n, this is the head</span></span><br><span class="line">    <span class="comment">// append 0 tail to head</span></span><br><span class="line">    <span class="keyword">if</span>(m == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// 0 &amp; x == 0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tailLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(m != n)&#123;</span><br><span class="line">        m &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        tailLen ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m &lt;&lt; tailLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="204-count-primes-easy"><a href="#204-count-primes-easy" class="headerlink" title="#204-count-primes-easy"></a>#204-count-primes-easy</h4><p><strong>Description:</strong></p>
<p>Count the number of prime numbers less than a non-negative number, <strong>n</strong>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// indicate whether prime</span></span><br><span class="line">    <span class="keyword">boolean</span>[] prime = <span class="keyword">new</span> <span class="keyword">boolean</span>[n]; </span><br><span class="line">    Arrays.fill(prime,<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prime[i])&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>; i*j&lt;n; j++)&#123;</span><br><span class="line">                prime[i * j] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="205-isomorphic-strings-easy"><a href="#205-isomorphic-strings-easy" class="headerlink" title="#205-isomorphic-strings-easy"></a>#205-isomorphic-strings-easy</h4><p>Given two strings <strong>s</strong> and <strong>t</strong>, determine if they are isomorphic.</p>
<p>Two strings are isomorphic if the characters in <strong>s</strong> can be replaced to get <strong>t</strong>.</p>
<p>All occurrences of a character must be replaced with another character while preserving the order of characters. No two characters may map to the same character but a character may map to itself.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;egg&quot;, t = &quot;add&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;foo&quot;, t = &quot;bar&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;paper&quot;, t = &quot;title&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isIsomorphic</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || t == <span class="keyword">null</span> || s.length() != t.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Map&lt;Character,Character&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">char</span> c1 = s.charAt(i), c2 = t.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(c1))&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.get(c1) != c2)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsValue(c2))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            map.put(c1,c2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>change <code>map.containsValue()</code> from  O(n) to O(1)</strong></p>
<p><strong>But add extra O(n) space</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isIsomorphic</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || t == <span class="keyword">null</span> || s.length() != t.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span>[] map = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] set = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">256</span>];</span><br><span class="line">    Arrays.fill(map,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">char</span> c1 = s.charAt(i), c2 = t.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(map[c1] != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map[c1] != c2)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(set[c2])</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            map[c1] = c2;</span><br><span class="line">            set[c2] = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="206-reverse-linked-list-easy"><a href="#206-reverse-linked-list-easy" class="headerlink" title="#206-reverse-linked-list-easy"></a>#206-reverse-linked-list-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode newhead = <span class="keyword">null</span>, next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>)&#123;</span><br><span class="line">        next = head.next;</span><br><span class="line">        head.next = newhead;</span><br><span class="line">        newhead = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newhead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode newhead = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> newhead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="207-course-schedule-medium"><a href="#207-course-schedule-medium" class="headerlink" title="#207-course-schedule-medium"></a>#207-course-schedule-medium</h4><p>There are a total of <em>n</em> courses you have to take, labeled from <code>0</code> to <code>n-1</code>.</p>
<p>Some courses may have prerequisites, for example to take course 0 you have to first take course 1, which is expressed as a pair: <code>[0,1]</code></p>
<p>Given the total number of courses and a list of prerequisite <strong>pairs</strong>, is it possible for you to finish all courses?</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: 2, [[1,0]] </span><br><span class="line">Output: true</span><br><span class="line">Explanation: There are a total of 2 courses to take. </span><br><span class="line">             To take course 1 you should have finished course 0. So it is possible.</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// detect cycle</span></span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; adjList = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] pre : prerequisites)&#123;</span><br><span class="line">        <span class="comment">// only add edge relations</span></span><br><span class="line">        <span class="comment">// notice parent child relation</span></span><br><span class="line">        <span class="keyword">int</span> parent = pre[<span class="number">1</span>], child = pre[<span class="number">0</span>];</span><br><span class="line">        Set&lt;Integer&gt; children = adjList.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            adjList.put(parent,children);</span><br><span class="line">        &#125;</span><br><span class="line">        children.add(child);</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> parent : adjList.keySet())&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(adjList,parent,visited,<span class="keyword">new</span> HashSet&lt;&gt;()))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;           </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(Map&lt;Integer,Set&lt;Integer&gt;&gt; adjList,<span class="keyword">int</span> curr,Set&lt;Integer&gt; visited,Set&lt;Integer&gt; path)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(path.contains(curr)) <span class="comment">// check visited first yields error</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(visited.contains(curr) || !adjList.containsKey(curr))</span><br><span class="line">        <span class="comment">// visited or has reach leaf</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    path.add(curr);</span><br><span class="line">    Set&lt;Integer&gt; children = adjList.get(curr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(adjList,child,visited,path))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;           </span><br><span class="line">    &#125;</span><br><span class="line">    visited.add(curr);  <span class="comment">// could add to visit before or after for loop</span></span><br><span class="line">    path.remove(curr);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>BFS check indegree:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// detect cycle, bfs</span></span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; adjList = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; inDegree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] pre : prerequisites)&#123;</span><br><span class="line">        <span class="comment">// only add edge relations</span></span><br><span class="line">        <span class="comment">// notice parent child relation</span></span><br><span class="line">        <span class="keyword">int</span> parent = pre[<span class="number">1</span>], child = pre[<span class="number">0</span>];</span><br><span class="line">        Set&lt;Integer&gt; children = adjList.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            adjList.put(parent,children);</span><br><span class="line">        &#125;</span><br><span class="line">        children.add(child);</span><br><span class="line">        <span class="comment">// update indegree</span></span><br><span class="line">        inDegree.put(child,inDegree.getOrDefault(child,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// queue is inited using node with 0 indegree</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> parent : adjList.keySet())&#123;</span><br><span class="line">        <span class="comment">// children has non-0 indegree for sure, check parents only</span></span><br><span class="line">        <span class="keyword">if</span>(!inDegree.containsKey(parent))</span><br><span class="line">            queue.offer(parent);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> parent = queue.poll();</span><br><span class="line">        Set&lt;Integer&gt; children = adjList.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">            <span class="comment">// remove one indegree, since parent is visited</span></span><br><span class="line">            inDegree.put(child,inDegree.get(child)-<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// only add non-0 degree node</span></span><br><span class="line">            <span class="keyword">if</span>(inDegree.get(child) == <span class="number">0</span>)</span><br><span class="line">                queue.offer(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if no cycle, all degrees are set to 0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> degree : inDegree.values())</span><br><span class="line">        <span class="keyword">if</span>(degree != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="210-course-schedule-ii-medium"><a href="#210-course-schedule-ii-medium" class="headerlink" title="#210-course-schedule-ii-medium"></a>#210-course-schedule-ii-medium</h4><p><strong>topological sort a directed graph</strong></p>
<p><strong>dfs with check cycle:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] pre : prerequisites)&#123;</span><br><span class="line">        <span class="keyword">int</span> parent = pre[<span class="number">1</span>], child = pre[<span class="number">0</span>];</span><br><span class="line">        Set&lt;Integer&gt; children = graph.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            graph.put(parent,children);</span><br><span class="line">        &#125;</span><br><span class="line">        children.add(child);</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> curr=<span class="number">0</span>; curr&lt;numCourses; ++curr)&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(graph,curr,visited,stack,<span class="keyword">new</span> HashSet&lt;&gt;()))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        result[i++] = stack.pop();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(Map&lt;Integer,Set&lt;Integer&gt;&gt; graph,<span class="keyword">int</span> curr,Set&lt;Integer&gt; visited,Stack&lt;Integer&gt; stack,Set&lt;Integer&gt; path)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(path.contains(curr))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(visited.contains(curr))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    path.add(curr);</span><br><span class="line">    visited.add(curr);</span><br><span class="line">    Set&lt;Integer&gt; children = graph.get(curr);</span><br><span class="line">    <span class="keyword">if</span>(children != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hasCycle(graph,child,visited,stack,path))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// visited.add(curr);</span></span><br><span class="line">    stack.push(curr);</span><br><span class="line">    path.remove(curr);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>BFS: ADJ list save outcome, then count income</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">    <span class="comment">// topological output: no income node firse, this case no pre</span></span><br><span class="line">    <span class="comment">// check degree 0 node (no prerequisites), add to queue,</span></span><br><span class="line">    <span class="comment">// adj list save out edge [0,1] =&gt; 1 -&gt; 0, when save 1 : 0</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// graph saved is node and outcome</span></span><br><span class="line">    <span class="comment">// but countPre save income number</span></span><br><span class="line">    <span class="keyword">int</span>[] countPre = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)</span><br><span class="line">        graph.add(<span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p : prerequisites)&#123;</span><br><span class="line">        graph.get(p[<span class="number">1</span>]).add(p[<span class="number">0</span>]); <span class="comment">// save outcome</span></span><br><span class="line">        countPre[p[<span class="number">0</span>]]++; <span class="comment">// count income (pre)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// init queue, find course with no pre</span></span><br><span class="line">    <span class="keyword">int</span>[] order = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;countPre.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(countPre[i] == <span class="number">0</span>)</span><br><span class="line">            queue.offer(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// start bfs</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">        order[idx++] = curr; <span class="comment">// no income(pre)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : graph.get(curr))&#123;</span><br><span class="line">            <span class="comment">// for all outcome node, income --</span></span><br><span class="line">            countPre[child]--;</span><br><span class="line">            <span class="keyword">if</span>(countPre[child] == <span class="number">0</span>)</span><br><span class="line">                queue.offer(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx == numCourses ? order : <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="211-add-and-search-word-medium"><a href="#211-add-and-search-word-medium" class="headerlink" title="#211-add-and-search-word-medium"></a>#211-add-and-search-word-medium</h4><p>Design a data structure that supports the following two operations:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void addWord(word)</span><br><span class="line">bool search(word)</span><br></pre></td></tr></table></figure>
<p>search(word) can search a literal word or a regular expression string containing only letters <code>a-z</code> or <code>.</code>. A <code>.</code> means it can represent any one letter.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addWord(&quot;bad&quot;)</span><br><span class="line">addWord(&quot;dad&quot;)</span><br><span class="line">addWord(&quot;mad&quot;)</span><br><span class="line">search(&quot;pad&quot;) -&gt; false</span><br><span class="line">search(&quot;bad&quot;) -&gt; true</span><br><span class="line">search(&quot;.ad&quot;) -&gt; true</span><br><span class="line">search(&quot;b..&quot;) -&gt; true</span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong><br>You may assume that all words are consist of lowercase letters <code>a-z</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">        TrieNode[] children;</span><br><span class="line">        <span class="keyword">boolean</span> isEnd;</span><br><span class="line">        TrieNode()&#123;</span><br><span class="line">            children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">            isEnd = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> TrieNode root;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Adds a word into the data structure. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        TrieNode curr = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)&#123;</span><br><span class="line">                child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                curr.children[c - <span class="string">'a'</span>] = child;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = child;</span><br><span class="line">        &#125;</span><br><span class="line">        curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> search(root,word,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(TrieNode curr,String word,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">            <span class="keyword">return</span> curr.isEnd;</span><br><span class="line">        <span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">        <span class="keyword">if</span>(c != <span class="string">'.'</span>)&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span> search(child,word,idx+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)&#123;</span><br><span class="line">                TrieNode child = curr.children[i];</span><br><span class="line">                <span class="keyword">if</span>(child!=<span class="keyword">null</span> &amp;&amp; search(child,word,idx+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="212-word-search-ii-hard"><a href="#212-word-search-ii-hard" class="headerlink" title="#212-word-search-ii-hard"></a>#212-word-search-ii-hard</h4><p>Given a 2D board and a list of words from the dictionary, find all words in the board.</p>
<p>Each word must be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once in a word.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">words = [&quot;oath&quot;,&quot;pea&quot;,&quot;eat&quot;,&quot;rain&quot;] and board =</span><br><span class="line">[</span><br><span class="line">  [&apos;o&apos;,&apos;a&apos;,&apos;a&apos;,&apos;n&apos;],</span><br><span class="line">  [&apos;e&apos;,&apos;t&apos;,&apos;a&apos;,&apos;e&apos;],</span><br><span class="line">  [&apos;i&apos;,&apos;h&apos;,&apos;k&apos;,&apos;r&apos;],</span><br><span class="line">  [&apos;i&apos;,&apos;f&apos;,&apos;l&apos;,&apos;v&apos;]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">Output: [&quot;eat&quot;,&quot;oath&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong><br>You may assume that all inputs are consist of lowercase letters <code>a-z</code>.</p>
<p><strong>Using trie and dfs, notice when to add word and avoid duplicate</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findWords</span><span class="params">(<span class="keyword">char</span>[][] board, String[] words)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">for</span>(String word : words)</span><br><span class="line">        buildTrie(word,root);</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)&#123;</span><br><span class="line">            dfs(board,root,i,j,result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board,TrieNode curr,<span class="keyword">int</span> i,<span class="keyword">int</span> j,List&lt;String&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// invalid i,j or visited char, or no child</span></span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=m || j&lt;<span class="number">0</span> || j&gt;=n || board[i][j]==<span class="string">'.'</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">char</span> prev = board[i][j];</span><br><span class="line">    TrieNode child = curr.children[prev - <span class="string">'a'</span>];</span><br><span class="line">    <span class="keyword">if</span>(child == <span class="keyword">null</span>) <span class="comment">// no child return</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// check word here not beginning, or 4 duplicate result</span></span><br><span class="line">    <span class="keyword">if</span>(child.word != <span class="keyword">null</span>)&#123;</span><br><span class="line">        result.add(child.word);</span><br><span class="line">        child.word = <span class="keyword">null</span>;  <span class="comment">// set to null to deduplicate</span></span><br><span class="line">    &#125;</span><br><span class="line">    board[i][j] = <span class="string">'.'</span>; <span class="comment">// mark as visited</span></span><br><span class="line">    dfs(board,child,i-<span class="number">1</span>,j,result);</span><br><span class="line">    dfs(board,child,i+<span class="number">1</span>,j,result);</span><br><span class="line">    dfs(board,child,i,j-<span class="number">1</span>,result);</span><br><span class="line">    dfs(board,child,i,j+<span class="number">1</span>,result);</span><br><span class="line">    board[i][j] = prev; <span class="comment">// restore</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildTrie</span><span class="params">(String word,TrieNode curr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = word.charAt(i) - <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(curr.children[idx] == <span class="keyword">null</span>)</span><br><span class="line">            curr.children[idx] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">        curr = curr.children[idx];</span><br><span class="line">    &#125;</span><br><span class="line">    curr.word = word;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">    TrieNode[] children;</span><br><span class="line">    String word;</span><br><span class="line">    TrieNode()&#123;</span><br><span class="line">        children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">        word = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="217-contains-duplicate-easy"><a href="#217-contains-duplicate-easy" class="headerlink" title="#217-contains-duplicate-easy"></a>#217-contains-duplicate-easy</h4><p>Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct.</p>
<p><strong>Use HashSet: time O(n), space O(n)</strong></p>
<p><strong>Use Sort: time O(nlgn), space O(1)</strong></p>
<hr>
<h4 id="219-contains-duplicate-ii-easy"><a href="#219-contains-duplicate-ii-easy" class="headerlink" title="#219-contains-duplicate-ii-easy"></a>#219-contains-duplicate-ii-easy</h4><p>Given an array of integers and an integer <em>k</em>, find out whether there are two distinct indices <em>i</em> and <em>j</em> in the array such that <strong>nums[i] = nums[j]</strong> and the <strong>absolute</strong> difference between <em>i</em> and <em>j</em> is at most <em>k</em>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i-k&gt;<span class="number">0</span>) visited.remove(nums[i-k-<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span>(!visited.add(nums[i])) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="220-contains-duplicate-iii-medium"><a href="#220-contains-duplicate-iii-medium" class="headerlink" title="#220-contains-duplicate-iii-medium"></a>#220-contains-duplicate-iii-medium</h4><p>Given an array of integers, find out whether there are two distinct indices <em>i</em> and <em>j</em> in the array such that the <strong>absolute</strong> difference between <strong>nums[i]</strong> and <strong>nums[j]</strong> is at most <em>t</em> and the <strong>absolute</strong> difference between <em>i</em> and <em>j</em> is at most <em>k</em>. <strong>Use TreeSet</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyAlmostDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// abs(nums[i] - nums[j]) &lt;= t</span></span><br><span class="line">    <span class="comment">// abs(i - j) &lt;= k</span></span><br><span class="line">    <span class="comment">// O(n log k)</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span> || t&lt;<span class="number">0</span> || k&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="comment">// maintance a window</span></span><br><span class="line">        <span class="keyword">if</span>(i - k &gt; <span class="number">0</span>)</span><br><span class="line">            set.remove(nums[i - k - <span class="number">1</span>]);</span><br><span class="line">        <span class="comment">// floor: greatest less or equal to</span></span><br><span class="line">        <span class="comment">// ceiling: smallest greater or equal to</span></span><br><span class="line">        <span class="comment">// NOTICE: overflow</span></span><br><span class="line">        Integer left = set.ceiling(Integer.MIN_VALUE + t &lt; nums[i] ? </span><br><span class="line">                                   nums[i] - t : Integer.MIN_VALUE);</span><br><span class="line">        Integer right = set.floor(Integer.MAX_VALUE - t &gt; nums[i] ?</span><br><span class="line">                                 nums[i] + t : Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">if</span>(left != <span class="keyword">null</span> &amp;&amp; left &lt;= nums[i] ||</span><br><span class="line">          right != <span class="keyword">null</span> &amp;&amp; right &gt;= nums[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// add set</span></span><br><span class="line">        set.add(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="223-rectangle-area-medium"><a href="#223-rectangle-area-medium" class="headerlink" title="#223-rectangle-area-medium"></a>#223-rectangle-area-medium</h4><p>Find the total area covered by two <strong>rectilinear</strong> rectangles in a <strong>2D</strong> plane.</p>
<p>Each rectangle is defined by its bottom left corner and top right corner as shown in the figure.</p>
<p><img src="https://leetcode.com/static/images/problemset/rectangle_area.png" alt="Rectangle Area"></p>
<p>Assume that the total area is never beyond the maximum possible value of <strong>int</strong>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">computeArea</span><span class="params">(<span class="keyword">int</span> A, <span class="keyword">int</span> B, <span class="keyword">int</span> C, <span class="keyword">int</span> D, <span class="keyword">int</span> E, <span class="keyword">int</span> F, <span class="keyword">int</span> G, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// FIND INTERSECTION</span></span><br><span class="line">    <span class="comment">// x axis: A---C E---F</span></span><br><span class="line">    <span class="keyword">int</span> X = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(C-A&gt;G-E &amp;&amp; E&gt;=A &amp;&amp; G&lt;=C)</span><br><span class="line">        X = G - E;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(C-A&lt;=G-E &amp;&amp; A&gt;=E &amp;&amp; C&lt;=G)</span><br><span class="line">        X = C - A;</span><br><span class="line">    <span class="comment">// after above 2, low priority</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(G&gt;A &amp;&amp; E&lt;A)</span><br><span class="line">        X = G - A;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(E&lt;C &amp;&amp; G&gt;C)</span><br><span class="line">        X = C - E;</span><br><span class="line">    <span class="comment">// y axis: B---D F---H</span></span><br><span class="line">    <span class="keyword">int</span> Y = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// check include relation first</span></span><br><span class="line">    <span class="keyword">if</span>(D-B&gt;H-F &amp;&amp; F&gt;=B &amp;&amp; H&lt;=D)</span><br><span class="line">        Y = H - F;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(D-B&lt;=H-F &amp;&amp; B&gt;=F &amp;&amp; D&lt;=H)</span><br><span class="line">        Y = D - B;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(H&gt;B &amp;&amp; F&lt;B)</span><br><span class="line">        Y = H - B;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(F&lt;D &amp;&amp; H&gt;D)</span><br><span class="line">        Y = D - F;        </span><br><span class="line">    <span class="comment">// compute</span></span><br><span class="line">    <span class="keyword">int</span> area1 = (C-A) * (D-B);</span><br><span class="line">    <span class="keyword">int</span> area2 = (G-E) * (H-F);</span><br><span class="line">    <span class="keyword">int</span> area3 = X * Y;</span><br><span class="line">    <span class="keyword">return</span> area1 + area2 - area3;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="227-basic-calculator-ii-medium"><a href="#227-basic-calculator-ii-medium" class="headerlink" title="#227-basic-calculator-ii-medium"></a>#227-basic-calculator-ii-medium</h4><p>Implement a basic calculator to evaluate a simple expression string.</p>
<p>The expression string contains only <strong>non-negative</strong> integers, <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> operators and empty spaces <code></code>. The integer division should truncate toward zero.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;3+2*2&quot;</span><br><span class="line">Output: 7</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot; 3/2 &quot;</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot; 3+5 / 2 &quot;</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">char</span> sign = <span class="string">'+'</span>;    <span class="comment">// for first number;</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(i)))</span><br><span class="line">            num = num * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="comment">// when to add prev val</span></span><br><span class="line">        <span class="comment">// cannot use else if</span></span><br><span class="line">        <span class="keyword">if</span>(!Character.isDigit(s.charAt(i)) &amp;&amp; s.charAt(i) != <span class="string">' '</span> || i == s.length()-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">switch</span>(sign)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'+'</span>: stack.push(num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'-'</span>: stack.push(-num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'*'</span>: stack.push(stack.pop()*num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'/'</span>: stack.push(stack.pop()/num); <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sign = s.charAt(i);</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        num += stack.pop();</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="228-summary-ranges-medium"><a href="#228-summary-ranges-medium" class="headerlink" title="#228-summary-ranges-medium"></a>#228-summary-ranges-medium</h4><p>Given a sorted integer array without duplicates, return the summary of its ranges.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [0,1,2,4,5,7]</span><br><span class="line">Output: [&quot;0-&gt;2&quot;,&quot;4-&gt;5&quot;,&quot;7&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [0,2,3,4,6,8,9]</span><br><span class="line">Output: [&quot;0&quot;,&quot;2-&gt;4&quot;,&quot;6&quot;,&quot;8-&gt;9&quot;]</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">summaryRanges</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Integer head = <span class="keyword">null</span>;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">            head = nums[i];</span><br><span class="line">        <span class="keyword">if</span>(i&lt;nums.length-<span class="number">1</span> &amp;&amp; nums[i]+<span class="number">1</span>==nums[i+<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;   <span class="comment">// last one or new range</span></span><br><span class="line">            sb.append(head);</span><br><span class="line">            <span class="comment">// notice one num</span></span><br><span class="line">            <span class="keyword">if</span>(head != nums[i])</span><br><span class="line">                sb.append(<span class="string">"-&gt;"</span>+nums[i]);</span><br><span class="line">            result.add(sb.toString());</span><br><span class="line">            sb.setLength(<span class="number">0</span>);</span><br><span class="line">            head = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">summaryRanges</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> head=<span class="number">0</span>; head&lt;nums.length; head++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tail = head;</span><br><span class="line">        <span class="keyword">while</span>(tail&lt;nums.length-<span class="number">1</span> &amp;&amp; nums[tail]+<span class="number">1</span>==nums[tail+<span class="number">1</span>])</span><br><span class="line">            tail ++;</span><br><span class="line">        <span class="keyword">if</span>(head != tail)</span><br><span class="line">            result.add(nums[head] + <span class="string">"-&gt;"</span> + nums[tail]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result.add(nums[head] + <span class="string">""</span>);</span><br><span class="line">        head = tail;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="229-majority-element-ii-medium"><a href="#229-majority-element-ii-medium" class="headerlink" title="#229-majority-element-ii-medium"></a>#229-majority-element-ii-medium</h4><p>Given an integer array of size <em>n</em>, find all elements that appear more than <code>⌊ n/3 ⌋</code> times. The algorithm should run in linear time and in O(1) space.</p>
<p><strong>Check existence first!!</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// majority vote</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> major1 = <span class="number">0</span>, major2 = <span class="number">0</span>, cnt1 = <span class="number">0</span>, cnt2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="comment">// order matters</span></span><br><span class="line">        <span class="keyword">if</span>(major1 == num)</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(major2 == num)</span><br><span class="line">            cnt2 ++;             </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cnt1 == <span class="number">0</span>)&#123;</span><br><span class="line">            major1 = num;</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cnt2 == <span class="number">0</span>)&#123;</span><br><span class="line">            major2 = num;  </span><br><span class="line">            cnt2 ++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cnt1 --;</span><br><span class="line">            cnt2 --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2nd pass, cnt accurance</span></span><br><span class="line">    cnt1 = cnt2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(major1 == num)</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(major2 == num)</span><br><span class="line">            cnt2 ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// add to result</span></span><br><span class="line">    <span class="keyword">if</span>(cnt1 &gt; nums.length / <span class="number">3</span>)</span><br><span class="line">        result.add(major1);</span><br><span class="line">    <span class="keyword">if</span>(cnt2 &gt; nums.length / <span class="number">3</span>)</span><br><span class="line">        result.add(major2);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="235-lca-of-a-bst-easy"><a href="#235-lca-of-a-bst-easy" class="headerlink" title="#235-lca-of-a-bst-easy"></a>#235-lca-of-a-bst-easy</h4><p>Given a binary search tree (BST), find the lowest common ancestor (LCA) of two given nodes in the BST.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(root.val &lt; p.val &amp;&amp; root.val &lt; q.val)</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.right,p,q);</span><br><span class="line">    <span class="keyword">if</span>(root.val &gt; p.val &amp;&amp; root.val &gt; q.val)</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.left,p,q);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="236-lca-of-a-binay-tree-medium"><a href="#236-lca-of-a-binay-tree-medium" class="headerlink" title="#236-lca-of-a-binay-tree-medium"></a>#236-lca-of-a-binay-tree-medium</h4><p>Given a binary tree, find the lowest common ancestor (LCA) of two given nodes in the tree.</p>
<p>According to the <a href="https://en.wikipedia.org/wiki/Lowest_common_ancestor" target="_blank" rel="noopener">definition of LCA on Wikipedia</a>: “The lowest common ancestor is defined between two nodes v and w as the lowest node in T that has both v and w as descendants (where we allow <strong>a node to be a descendant of itself</strong>).”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(root == <span class="keyword">null</span> || root == p || root == q)</span><br><span class="line">           <span class="keyword">return</span> root;</span><br><span class="line">       TreeNode left = lowestCommonAncestor(root.left,p,q);</span><br><span class="line">       TreeNode right = lowestCommonAncestor(root.right,p,q);</span><br><span class="line">       <span class="keyword">if</span>(left == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> right;</span><br><span class="line">       <span class="keyword">if</span>(right == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> left;</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="239-sliding-window-maxmum-hard"><a href="#239-sliding-window-maxmum-hard" class="headerlink" title="#239-sliding-window-maxmum-hard"></a>#239-sliding-window-maxmum-hard</h4><p>Given an array <em>nums</em>, there is a sliding window of size <em>k</em> which is moving from the very left of the array to the very right. You can only see the <em>k</em> numbers in the window. Each time the sliding window moves right by one position. Return the max sliding window.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,3,-1,-3,5,3,6,7], and k = 3</span><br><span class="line">Output: [3,3,5,5,6,7] </span><br><span class="line">Explanation: </span><br><span class="line"></span><br><span class="line">Window position                Max</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use deque maintains max at head</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length - k + <span class="number">1</span>];</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k-<span class="number">1</span>;i++)</span><br><span class="line">        inQueue(deque,nums[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=k-<span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        inQueue(deque,nums[i]);</span><br><span class="line">        result[i-k+<span class="number">1</span>] = deque.peekFirst();</span><br><span class="line">        outQueue(deque,nums[i-k+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inQueue</span><span class="params">(Deque&lt;Integer&gt; deque,<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast()&lt;num)</span><br><span class="line">        deque.pollLast();</span><br><span class="line">    deque.offerLast(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">outQueue</span><span class="params">(Deque&lt;Integer&gt; deque,<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(deque.peekFirst() == num)</span><br><span class="line">        deque.pollFirst();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="241-different-ways-to-add-parentheses-medium"><a href="#241-different-ways-to-add-parentheses-medium" class="headerlink" title="#241-different-ways-to-add-parentheses-medium"></a>#241-different-ways-to-add-parentheses-medium</h4><p>Given a string of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. The valid operators are <code>+</code>, <code>-</code> and <code>*</code>.</p>
<p>Example 1</p>
<p>Input: <code>&quot;2-1-1&quot;</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">((2-1)-1) = 0</span><br><span class="line">(2-(1-1)) = 2</span><br></pre></td></tr></table></figure>
<p>Output: <code>[0, 2]</code></p>
<p>Example 2</p>
<p>Input: <code>&quot;2*3-4*5&quot;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(2*(3-(4*5))) = -34</span><br><span class="line">((2*3)-(4*5)) = -14</span><br><span class="line">((2*(3-4))*5) = -10</span><br><span class="line">(2*((3-4)*5)) = -10</span><br><span class="line">(((2*3)-4)*5) = 10</span><br></pre></td></tr></table></figure>
<p>Output: <code>[-34, -14, -10, -10, 10]</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">diffWaysToCompute</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use recursion</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;input.length();i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = input.charAt(i);</span><br><span class="line">        <span class="comment">// divide input to two part</span></span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'+'</span> || c==<span class="string">'-'</span> || c==<span class="string">'*'</span>)&#123;</span><br><span class="line">            String left = input.substring(<span class="number">0</span>,i);</span><br><span class="line">            String right = input.substring(i+<span class="number">1</span>);</span><br><span class="line">            List&lt;Integer&gt; list1 = diffWaysToCompute(left);</span><br><span class="line">            List&lt;Integer&gt; list2 = diffWaysToCompute(right);</span><br><span class="line">            <span class="comment">// combine to subset</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> num1 : list1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> num2 : list2)&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">                            temp = num1 + num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                            temp = num1 - num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                            temp = num1 * num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// one possible result</span></span><br><span class="line">                    result.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case theres no operator in input</span></span><br><span class="line">    <span class="keyword">if</span>(result.size() == <span class="number">0</span>)</span><br><span class="line">        result.add(Integer.parseInt(input));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>add memory and optimization</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">diffWaysToCompute</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    Map&lt;String,List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">return</span> dfs(input,map,<span class="number">0</span>,input.length());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;Integer&gt; <span class="title">dfs</span><span class="params">(String input,Map&lt;String,List&lt;Integer&gt;&gt; map,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="comment">// use recursion</span></span><br><span class="line">    <span class="comment">// if this expression is saved</span></span><br><span class="line">    String expression = input.substring(start,end);</span><br><span class="line">    <span class="keyword">if</span>(map.containsKey(expression))</span><br><span class="line">        <span class="keyword">return</span> map.get(expression);</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;end;i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = input.charAt(i);</span><br><span class="line">        <span class="comment">// divide input to two part</span></span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'+'</span> || c==<span class="string">'-'</span> || c==<span class="string">'*'</span>)&#123;</span><br><span class="line">            List&lt;Integer&gt; list1 = dfs(input,map,start,i);</span><br><span class="line">            List&lt;Integer&gt; list2 = dfs(input,map,i+<span class="number">1</span>,end);</span><br><span class="line">            <span class="comment">// combine to subset</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> num1 : list1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> num2 : list2)&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">                            temp = num1 + num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                            temp = num1 - num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                            temp = num1 * num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// one possible result</span></span><br><span class="line">                    result.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case theres no operator in input</span></span><br><span class="line">    <span class="keyword">if</span>(result.size() == <span class="number">0</span>)</span><br><span class="line">        result.add(Integer.parseInt(expression));</span><br><span class="line">    map.put(expression,result);</span><br><span class="line">    <span class="keyword">return</span> result;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="243-shortest-word-distance-easy"><a href="#243-shortest-word-distance-easy" class="headerlink" title="#243-shortest-word-distance-easy"></a>#243-shortest-word-distance-easy</h4><p>Given a list of words and two words <em>word1</em> and <em>word2</em>, return the shortest distance between these two words in the list.</p>
<p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p>
<p>Given <em>word1</em> = <code>“coding”</code>, <em>word2</em> = <code>“practice”</code>, return 3.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;coding&quot;</code>, return 1.</p>
<p><strong>Note:</strong><br>You may assume that <em>word1</em> <strong>does not equal to</strong> <em>word2</em>, and <em>word1</em> and <em>word2</em> are both in the list.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>, min = words.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">            idx1 = i;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(words[i].equals(word2))</span><br><span class="line">            idx2 = i;</span><br><span class="line">        <span class="comment">// need to check whether idx are set</span></span><br><span class="line">        <span class="keyword">if</span>(idx1!=-<span class="number">1</span> &amp;&amp; idx2!=-<span class="number">1</span>)</span><br><span class="line">            min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="244-shortest-word-distance-ii-medium"><a href="#244-shortest-word-distance-ii-medium" class="headerlink" title="#244-shortest-word-distance-ii-medium"></a>#244-shortest-word-distance-ii-medium</h4><p>This is a <strong>follow up</strong> of <a href="https://leetcode.com/problems/shortest-word-distance" target="_blank" rel="noopener">Shortest Word Distance</a>. The only difference is now you are given the list of words and your method will be called <em>repeatedly</em> many times with different parameters. How would you optimize it?</p>
<p>Design a class which receives a list of words in the constructor, and implements a method that takes two words <em>word1</em> and <em>word2</em> and return the shortest distance between these two words in the list.</p>
<p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p>
<p>Given <em>word1</em> = <code>“coding”</code>, <em>word2</em> = <code>“practice”</code>, return 3.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;coding&quot;</code>, return 1.</p>
<p><strong>Note:</strong><br>You may assume that <em>word1</em> <strong>does not equal to</strong> <em>word2</em>, and <em>word1</em> and <em>word2</em> are both in the list.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDistance</span> </span>&#123;</span><br><span class="line">    Map&lt;String,List&lt;Integer&gt;&gt; map;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDistance</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!map.containsKey(words[i]))</span><br><span class="line">                map.put(words[i],<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            map.get(words[i]).add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortest</span><span class="params">(String word1, String word2)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; l1 = map.get(word1);</span><br><span class="line">        List&lt;Integer&gt; l2 = map.get(word2);</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// utilize two pointer to optimize</span></span><br><span class="line">        <span class="keyword">while</span>(idx1&lt;l1.size() &amp;&amp; idx2&lt;l2.size())&#123;</span><br><span class="line">            min = Math.min(min,Math.abs(l1.get(idx1)-l2.get(idx2)));</span><br><span class="line">            <span class="keyword">if</span>(l1.get(idx1) &lt; l2.get(idx2))</span><br><span class="line">                idx1++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                idx2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="245-shortest-word-distance-iii-medium"><a href="#245-shortest-word-distance-iii-medium" class="headerlink" title="#245-shortest-word-distance-iii-medium"></a>#245-shortest-word-distance-iii-medium</h4><p>This is a <strong>follow up</strong> of <a href="https://leetcode.com/problems/shortest-word-distance" target="_blank" rel="noopener">Shortest Word Distance</a>. The only difference is now <em>word1</em> could be the same as <em>word2</em>.</p>
<p>Given a list of words and two words <em>word1</em> and <em>word2</em>, return the shortest distance between these two words in the list.</p>
<p><em>word1</em> and <em>word2</em> may be the same and they represent two individual words in the list.</p>
<p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p>
<p>Given <em>word1</em> = <code>“makes”</code>, <em>word2</em> = <code>“coding”</code>, return 1.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;makes&quot;</code>, return 3.</p>
<p><strong>Note:</strong><br>You may assume <em>word1</em> and <em>word2</em> are both in the list.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min = words.length;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;words.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">            idx1 = i;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word2))&#123;</span><br><span class="line">            <span class="keyword">if</span>(word1.equals(word2))</span><br><span class="line">            <span class="comment">// set idx1 to prev idx2</span></span><br><span class="line">                idx1 = idx2;</span><br><span class="line">            idx2 = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(idx1 != -<span class="number">1</span> &amp;&amp; idx2 != -<span class="number">1</span>)&#123;</span><br><span class="line">            min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>quicker</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min = words.length;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(word1.equals(word2))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(words[i].equals(word1))&#123;</span><br><span class="line">                <span class="keyword">if</span>(idx1 == -<span class="number">1</span>)</span><br><span class="line">                    idx1 = i;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    min = Math.min(min,i-idx1);</span><br><span class="line">                    idx1 = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;            </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">                idx1 = i;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(words[i].equals(word2))</span><br><span class="line">                idx2 = i;</span><br><span class="line">            <span class="keyword">if</span>(idx1!=-<span class="number">1</span> &amp;&amp; idx2!=-<span class="number">1</span>)</span><br><span class="line">                min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="248-strobogrammatic-number-iii-hard"><a href="#248-strobogrammatic-number-iii-hard" class="headerlink" title="#248-strobogrammatic-number-iii-hard"></a>#248-strobogrammatic-number-iii-hard</h4><p>A strobogrammatic number is a number that looks the same when rotated 180 degrees (looked at upside down).</p>
<p>Write a function to count the total strobogrammatic numbers that exist in the range of low &lt;= num &lt;= high.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: low = &quot;50&quot;, high = &quot;100&quot;</span><br><span class="line">Output: 3 </span><br><span class="line">Explanation: 69, 88, and 96 are three strobogrammatic numbers.</span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong><br>Because the range might be a large number, the <em>low</em> and <em>high</em> numbers are represented as string.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">strobogrammaticInRange</span><span class="params">(String low, String high)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=low.length(); i&lt;=high.length(); i++)&#123;</span><br><span class="line">        list.addAll(findStrobogrammatic(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length()==low.length() &amp;&amp; s.compareTo(low)&lt;<span class="number">0</span> || </span><br><span class="line">           s.length()==high.length() &amp;&amp; s.compareTo(high)&gt;<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        count ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findStrobogrammatic</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        result = Arrays.asList(<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        result = Arrays.asList(<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"8"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=(n%<span class="number">2</span>)+<span class="number">2</span>; i&lt;=n; i+=<span class="number">2</span>)&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String s : result)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != n)</span><br><span class="line">                list.add(<span class="string">"0"</span> + s + <span class="string">"0"</span>);</span><br><span class="line">            list.add(<span class="string">"1"</span> + s + <span class="string">"1"</span>);</span><br><span class="line">            list.add(<span class="string">"8"</span> + s + <span class="string">"8"</span>);</span><br><span class="line">            list.add(<span class="string">"6"</span> + s + <span class="string">"9"</span>);</span><br><span class="line">            list.add(<span class="string">"9"</span> + s + <span class="string">"6"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        result = list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="250-count-univalue-subtrees-medium"><a href="#250-count-univalue-subtrees-medium" class="headerlink" title="#250-count-univalue-subtrees-medium"></a>#250-count-univalue-subtrees-medium</h4><p>Given a binary tree, count the number of uni-value subtrees.</p>
<p>A Uni-value subtree means all nodes of the subtree have the same value.</p>
<p><strong>Example :</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:  root = [5,1,5,5,5,null,5]</span><br><span class="line"></span><br><span class="line">              5</span><br><span class="line">             / \</span><br><span class="line">            1   5</span><br><span class="line">           / \   \</span><br><span class="line">          5   5   5</span><br><span class="line"></span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countUnivalSubtrees</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    helper(root);</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// if left &amp; right are univalue, check curr</span></span><br><span class="line">    <span class="comment">// notice &amp; not &amp;&amp;, left false still check right</span></span><br><span class="line">    <span class="keyword">if</span>(helper(root.left) &amp; helper(root.right))&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.left != <span class="keyword">null</span> &amp;&amp; root.left.val != root.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(root.right != <span class="keyword">null</span> &amp;&amp; root.right.val != root.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        count += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="251-flatten-2d-vector-medium"><a href="#251-flatten-2d-vector-medium" class="headerlink" title="#251-flatten-2d-vector-medium"></a>#251-flatten-2d-vector-medium</h4><p>Implement an iterator to flatten a 2d vector.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: 2d vector =</span><br><span class="line">[</span><br><span class="line">  [1,2],</span><br><span class="line">  [3],</span><br><span class="line">  [4,5,6]</span><br><span class="line">]</span><br><span class="line">Output: [1,2,3,4,5,6]</span><br><span class="line">Explanation: By calling next repeatedly until hasNext returns false, </span><br><span class="line">             the order of elements returned by next should be: [1,2,3,4,5,6].</span><br></pre></td></tr></table></figure>
<p><strong>Use queue:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    Queue&lt;List&lt;Integer&gt;&gt; listQueue;</span><br><span class="line">    Queue&lt;Integer&gt; queue;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</span><br><span class="line">        listQueue = <span class="keyword">new</span> LinkedList&lt;&gt;(vec2d);</span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(queue.isEmpty() &amp;&amp; !listQueue.isEmpty())</span><br><span class="line">            queue = <span class="keyword">new</span> LinkedList&lt;&gt;(listQueue.poll());</span><br><span class="line">        <span class="keyword">return</span> !queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Use iterator:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    Iterator&lt;List&lt;Integer&gt;&gt; listIterator;</span><br><span class="line">    Iterator&lt;Integer&gt; iterator;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</span><br><span class="line">        listIterator = vec2d.iterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> iterator.next();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>((iterator==<span class="keyword">null</span> || !iterator.hasNext()) &amp;&amp; listIterator.hasNext())</span><br><span class="line">            iterator = listIterator.next().iterator();</span><br><span class="line">        <span class="keyword">return</span> iterator != <span class="keyword">null</span> &amp;&amp; iterator.hasNext();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="253-meeting-rooms-ii-medium"><a href="#253-meeting-rooms-ii-medium" class="headerlink" title="#253-meeting-rooms-ii-medium"></a>#253-meeting-rooms-ii-medium</h4><p>Given an array of meeting time intervals consisting of start and end times <code>[[s1,e1],[s2,e2],...]</code> (si &lt; ei), find the minimum number of conference rooms required.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[0, 30],[5, 10],[15, 20]]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[7,10],[2,4]]</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// seperate array of start and end then sort</span></span><br><span class="line">    <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] starts = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">    <span class="keyword">int</span>[] ends = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++)&#123;</span><br><span class="line">        starts[i] = intervals[i].start;</span><br><span class="line">        ends[i] = intervals[i].end;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(starts);</span><br><span class="line">    Arrays.sort(ends);</span><br><span class="line">    <span class="comment">// if start &lt; end add room, else update end</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;starts.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(starts[i] &lt; ends[end])</span><br><span class="line">            <span class="comment">// curr start &lt; curr end,neet a room</span></span><br><span class="line">            count ++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            end ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Greedy: </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// greedy, sort on start first</span></span><br><span class="line">      <span class="comment">// then use heap on end time to track rooms</span></span><br><span class="line">      <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// sort start time and init end sorted heap</span></span><br><span class="line">      Arrays.sort(intervals,(o1,o2)-&gt;o1.start-o2.start);</span><br><span class="line">      PriorityQueue&lt;Interval&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1.end-o2.end);</span><br><span class="line"><span class="comment">// start</span></span><br><span class="line">      heap.offer(intervals[<span class="number">0</span>]);</span><br><span class="line">Interval prev = intervals[<span class="number">0</span>], curr = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line">	<span class="comment">// find min end room, cannot use peek</span></span><br><span class="line">	prev = heap.poll(); <span class="comment">// first end</span></span><br><span class="line">	curr = intervals[i]; <span class="comment">// next start</span></span><br><span class="line">	<span class="comment">// can put in this min end room, update end time</span></span><br><span class="line">	<span class="keyword">if</span>(curr.start &gt;= prev.end) <span class="comment">// can in same room</span></span><br><span class="line">		prev.end = curr.end; <span class="comment">// merge for curr room</span></span><br><span class="line">	<span class="keyword">else</span>	<span class="comment">// sign a new room</span></span><br><span class="line">		heap.offer(curr); <span class="comment">// add meeting to heap</span></span><br><span class="line">	heap.offer(prev);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> heap.size();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><strong>count max schedules</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSchedules</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="comment">// sort on end time</span></span><br><span class="line">	Arrays.sort(intervals, (o1,o2)-&gt;o1.end-o2.end);</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">	Interval prev = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span>(prev == <span class="keyword">null</span> || intervals[i].start&gt;=prev.end) &#123;</span><br><span class="line">			count ++;</span><br><span class="line">			prev = intervals[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="263-ugly-number-easy"><a href="#263-ugly-number-easy" class="headerlink" title="#263-ugly-number-easy"></a>#263-ugly-number-easy</h4><p>Write a program to check whether a given number is an ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>6, 8</code> are ugly while <code>14</code> is not ugly since it includes another prime factor <code>7</code>.</p>
<p><strong>Note:</strong></p>
<ol>
<li><code>1</code> is typically treated as an ugly number.</li>
<li>Input is within the 32-bit signed integer range.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">2</span> == <span class="number">0</span>) num /= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">3</span> == <span class="number">0</span>) num /= <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">5</span> == <span class="number">0</span>) num /= <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="264-ugly-number-ii-medium"><a href="#264-ugly-number-ii-medium" class="headerlink" title="#264-ugly-number-ii-medium"></a>#264-ugly-number-ii-medium</h4><p>Write a program to find the <code>n</code>-th ugly number.</p>
<p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>1, 2, 3, 4, 5, 6, 8, 9, 10, 12</code> is the sequence of the first <code>10</code> ugly numbers.</p>
<p>Note that <code>1</code> is typically treated as an ugly number, and <em>n</em> <strong>does not exceed 1690</strong>.</p>
<p>The idea of this solution is from this page:<a href="http://www.geeksforgeeks.org/ugly-numbers/" target="_blank" rel="noopener">http://www.geeksforgeeks.org/ugly-numbers/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// pointer for multi of 2,3,5</span></span><br><span class="line">    <span class="keyword">int</span> i2 = <span class="number">0</span>, i3 = <span class="number">0</span>, i5 = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// dp </span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> ugly = Math.min(dp[i5]*<span class="number">5</span>,</span><br><span class="line">                   Math.min(dp[i2]*<span class="number">2</span>,</span><br><span class="line">                            dp[i3]*<span class="number">3</span>));</span><br><span class="line">        dp[i] = ugly;</span><br><span class="line">        <span class="comment">// check to increase pointer</span></span><br><span class="line">        <span class="keyword">if</span>(dp[i2]*<span class="number">2</span> == ugly) i2++;</span><br><span class="line">        <span class="keyword">if</span>(dp[i3]*<span class="number">3</span> == ugly) i3++;</span><br><span class="line">        <span class="keyword">if</span>(dp[i5]*<span class="number">5</span> == ugly) i5++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="268-missing-number-easy"><a href="#268-missing-number-easy" class="headerlink" title="#268-missing-number-easy"></a>#268-missing-number-easy</h4><p>Given an array containing <em>n</em> distinct numbers taken from <code>0, 1, 2, ..., n</code>, find the one that is missing from the array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [3,0,1]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [9,6,4,2,3,5,7,0,1]</span><br><span class="line">Output: 8</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(nums[i]!=nums.length &amp;&amp; nums[i]!=nums[nums[i]])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = nums[nums[i]];</span><br><span class="line">            nums[nums[i]] = nums[i];</span><br><span class="line">            nums[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != i)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="269-alien-dictionary-hard"><a href="#269-alien-dictionary-hard" class="headerlink" title="#269-alien-dictionary-hard"></a>#269-alien-dictionary-hard</h4><p>There is a new alien language which uses the latin alphabet. However, the order among letters are unknown to you. You receive a list of <strong>non-empty</strong> words from the dictionary, where <strong>words are sorted lexicographically by the rules of this new language</strong>. Derive the order of letters in this language.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  &quot;wrt&quot;,</span><br><span class="line">  &quot;wrf&quot;,</span><br><span class="line">  &quot;er&quot;,</span><br><span class="line">  &quot;ett&quot;,</span><br><span class="line">  &quot;rftt&quot;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">Output: &quot;wertf&quot;</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  &quot;z&quot;,</span><br><span class="line">  &quot;x&quot;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">Output: &quot;zx&quot;</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  &quot;z&quot;,</span><br><span class="line">  &quot;x&quot;,</span><br><span class="line">  &quot;z&quot;</span><br><span class="line">] </span><br><span class="line"></span><br><span class="line">Output: &quot;&quot; </span><br><span class="line"></span><br><span class="line">Explanation: The order is invalid, so return &quot;&quot;.</span><br></pre></td></tr></table></figure>
<p><strong>Use topological sort, build graph first based on word order, need to populate all chars for easier implementation</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">//["ab","adc"],["adc"],["aa","abb","aba"]</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">alienOrder</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(words == <span class="keyword">null</span> || words.length == <span class="number">0</span>)</span><br><span class="line">            <span class="comment">// len could be only one word</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="comment">// use map to save adjList and population</span></span><br><span class="line">        Map&lt;Character,Set&lt;Character&gt;&gt; adjList = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// put all character in case of orphan</span></span><br><span class="line">        <span class="keyword">for</span>(String word : words)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())</span><br><span class="line">                adjList.put(c,<span class="keyword">null</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;words.length-<span class="number">1</span>; ++i)&#123;</span><br><span class="line">            String a = words[i], b = words[i+<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> idx=<span class="number">0</span>; idx&lt;a.length() &amp;&amp; idx&lt;b.length(); ++idx)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a.charAt(idx) != b.charAt(idx))&#123;</span><br><span class="line">                    Set&lt;Character&gt; children = adjList.get(a.charAt(idx));</span><br><span class="line">                    <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">                        children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">                        adjList.put(a.charAt(idx),children);</span><br><span class="line">                    &#125;</span><br><span class="line">                    children.add(b.charAt(idx));  </span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// topological sort, since input may not valid, need to check cycle: z,x,z</span></span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        Set&lt;Character&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;Character&gt; path = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> key : adjList.keySet())&#123;</span><br><span class="line">            <span class="keyword">if</span>(hasCycle(adjList,stack,visited,path,key))</span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">            sb.append(stack.pop());</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(Map&lt;Character,Set&lt;Character&gt;&gt; adjList,Stack&lt;Character&gt; stack,Set&lt;Character&gt; visited,Set&lt;Character&gt; path,<span class="keyword">char</span> curr)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(path.contains(curr))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(visited.contains(curr))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        visited.add(curr);</span><br><span class="line">        path.add(curr);</span><br><span class="line">        Set&lt;Character&gt; children = adjList.get(curr);</span><br><span class="line">        <span class="keyword">if</span>(children != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> child : children)&#123;</span><br><span class="line">                <span class="keyword">if</span>(hasCycle(adjList,stack,visited,path,child))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;            </span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(curr);</span><br><span class="line">        path.remove(curr);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="271-encode-and-decode-strings-medium"><a href="#271-encode-and-decode-strings-medium" class="headerlink" title="#271-encode-and-decode-strings-medium"></a>#271-encode-and-decode-strings-medium</h4><p>Design an algorithm to encode <strong>a list of strings</strong> to <strong>a string</strong>. The encoded string is then sent over the network and is decoded back to the original list of strings.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// count#str</span></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(String str : strs)&#123;</span><br><span class="line">            <span class="comment">// append one by one</span></span><br><span class="line">            sb.append(str.length() + <span class="string">"#"</span> + str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; s.length())&#123;</span><br><span class="line">            <span class="keyword">int</span> j = i;</span><br><span class="line">            <span class="keyword">while</span>(s.charAt(j) != <span class="string">'#'</span>)</span><br><span class="line">                j ++;</span><br><span class="line">            <span class="keyword">int</span> len = Integer.parseInt(s.substring(i,j));</span><br><span class="line">            result.add(s.substring(j+<span class="number">1</span>,j+<span class="number">1</span>+len));</span><br><span class="line">            i = j + <span class="number">1</span> + len;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Your Codec object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// Codec codec = new Codec();</span></span><br><span class="line"><span class="comment">// codec.decode(codec.encode(strs));</span></span><br></pre></td></tr></table></figure>
<p><strong>num#len1#len2#12</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    sb.append(strs.size() + <span class="string">"#"</span>);</span><br><span class="line">    <span class="keyword">for</span>(String str : strs)</span><br><span class="line">        sb.append(str.length() + <span class="string">"#"</span>);</span><br><span class="line">    <span class="keyword">for</span>(String str : strs)</span><br><span class="line">        sb.append(str);</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// find count</span></span><br><span class="line">    <span class="keyword">while</span>(tail&lt;s.length() &amp;&amp; s.charAt(tail)!=<span class="string">'#'</span>)</span><br><span class="line">        tail++;</span><br><span class="line">    <span class="keyword">int</span> count = Integer.parseInt(s.substring(head,tail));</span><br><span class="line">    <span class="keyword">int</span>[] len = <span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; i++)&#123;</span><br><span class="line">        head = tail + <span class="number">1</span>;</span><br><span class="line">        tail = head;</span><br><span class="line">        <span class="keyword">while</span>(tail&lt;s.length() &amp;&amp; s.charAt(tail)!=<span class="string">'#'</span>)</span><br><span class="line">            tail++;</span><br><span class="line">        len[i] = Integer.parseInt(s.substring(head,tail));</span><br><span class="line">    &#125;</span><br><span class="line">    head = tail + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == s.length())</span><br><span class="line">            result.add(<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            result.add(s.substring(head,head+len[i]));</span><br><span class="line">            head += len[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="272-closest-bst-value-ii-hard"><a href="#272-closest-bst-value-ii-hard" class="headerlink" title="#272-closest-bst-value-ii-hard"></a>#272-closest-bst-value-ii-hard</h4><p>Given a non-empty binary search tree and a target value, find <em>k</em> values in the BST that are closest to the target.</p>
<p><strong>Note:</strong></p>
<ul>
<li>Given target value is a floating point.</li>
<li>You may assume <em>k</em> is always valid, that is: <em>k</em> ≤ total nodes.</li>
<li>You are guaranteed to have only one unique set of <em>k</em> values in the BST that are closest to the target.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [4,2,5,1,3], target = 3.714286, and k = 2</span><br><span class="line"></span><br><span class="line">    4</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \</span><br><span class="line">1   3</span><br><span class="line"></span><br><span class="line">Output: [4,3]</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">closestKValues</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two stack, one for pre one for suc</span></span><br><span class="line">    <span class="comment">// 12345, 3,7</span></span><br><span class="line">    <span class="comment">// =&gt; pres 1,2,3</span></span><br><span class="line">    <span class="comment">// =&gt; succ 5,4</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Stack&lt;Integer&gt; pres = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; sucs = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// notice one of should have equal condition</span></span><br><span class="line">    inorderPre(root,target,pres);</span><br><span class="line">    inorderSuc(root,target,sucs);</span><br><span class="line">    <span class="comment">// then find k</span></span><br><span class="line">    <span class="keyword">while</span>(k-- &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(pres.isEmpty())</span><br><span class="line">            result.add(sucs.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sucs.isEmpty())</span><br><span class="line">            result.add(pres.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(Math.abs(pres.peek()-target) &lt; Math.abs(sucs.peek()-target))</span><br><span class="line">            result.add(pres.pop());</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result.add(sucs.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorderPre</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, Stack&lt;Integer&gt; pres)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    inorderPre(root.left, target, pres);</span><br><span class="line">    <span class="comment">// push all smaller pred, choose equal (or sucs equal)</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &gt;= target)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    pres.push(root.val);</span><br><span class="line">    inorderPre(root.right, target, pres);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorderSuc</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, Stack&lt;Integer&gt; sucs)</span></span>&#123;</span><br><span class="line">    <span class="comment">// reverse inorder</span></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    inorderSuc(root.right, target, sucs);</span><br><span class="line">    <span class="comment">// find all larger suc</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &lt; target)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    sucs.push(root.val);</span><br><span class="line">    inorderSuc(root.left, target, sucs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="277-find-celebrity-medium"><a href="#277-find-celebrity-medium" class="headerlink" title="#277-find-celebrity-medium"></a>#277-find-celebrity-medium</h4><p>Suppose you are at a party with <code>n</code> people (labeled from <code>0</code> to <code>n - 1</code>) and among them, there may exist one celebrity. The definition of a celebrity is that all the other <code>n - 1</code> people know him/her but he/she does not know any of them.</p>
<p>Now you want to find out who the celebrity is or verify that there is not one. The only thing you are allowed to do is to ask questions like: “Hi, A. Do you know B?” to get information of whether A knows B. You need to find out the celebrity (or verify there is not one) by asking as few questions as possible (in the asymptotic sense).</p>
<p>You are given a helper function <code>bool knows(a, b)</code> which tells you whether A knows B. Implement a function <code>int findCelebrity(n)</code>, your function should minimize the number of calls to <code>knows</code>.</p>
<p><strong>Note</strong>: There will be exactly one celebrity if he/she is in the party. Return the celebrity’s label if there is a celebrity in the party. If there is no celebrity, return <code>-1</code>.</p>
<p><strong>brute force n^2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Relation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        candidate:</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a=<span class="number">0</span>; a&lt;n; ++a)&#123;</span><br><span class="line">            <span class="comment">// check if a knows no one</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b=<span class="number">0</span>; b&lt;n; ++b)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a != b &amp;&amp; knows(a,b))</span><br><span class="line">                    <span class="keyword">continue</span> candidate;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// check if everyone knows a</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b=<span class="number">0</span>; b&lt;n; ++b)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a != b &amp;&amp; !knows(b,a))</span><br><span class="line">                    <span class="keyword">continue</span> candidate;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><strong>stack O(n)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        stack.push(i);</span><br><span class="line">    <span class="keyword">while</span>(stack.size() &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> a = stack.pop(), b = stack.pop();</span><br><span class="line">        <span class="keyword">if</span>(knows(a,b)) <span class="comment">// b is candidate</span></span><br><span class="line">            stack.push(b);</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">// a is candidate</span></span><br><span class="line">            stack.push(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> candidate = stack.pop();</span><br><span class="line">    <span class="comment">// double check</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i != candidate &amp;&amp; (!knows(i,candidate) || knows(candidate,i)))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Two pass similar as stack but space O(1)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> candidate = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(knows(candidate,i))</span><br><span class="line">            candidate = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i != candidate &amp;&amp; (!knows(i,candidate) || knows(candidate,i)))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="279-perfect-squares-medium"><a href="#279-perfect-squares-medium" class="headerlink" title="#279-perfect-squares-medium"></a>#279-perfect-squares-medium</h4><p>Given a positive integer <em>n</em>, find the least number of perfect square numbers (for example, <code>1, 4, 9, 16, ...</code>) which sum to <em>n</em>.</p>
<p>For example, given <em>n</em> = <code>12</code>, return <code>3</code> because <code>12 = 4 + 4 + 4</code>; given <em>n</em> = <code>13</code>, return <code>2</code> because <code>13 = 4 + 9</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use dp check prev sum</span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// dp iteration</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="comment">// for num i, check all squares</span></span><br><span class="line">        <span class="comment">// curr square + (i-square)</span></span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j*j&lt;=i; j++)&#123;</span><br><span class="line">            <span class="comment">// dp[j*j] is 1</span></span><br><span class="line">            <span class="comment">// so population not needed</span></span><br><span class="line">            min = Math.min(min, dp[i-j*j] + <span class="number">1</span>);</span><br><span class="line">        &#125;      </span><br><span class="line">        dp[i] = min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="285-inorder-successor-in-bst-medium"><a href="#285-inorder-successor-in-bst-medium" class="headerlink" title="#285-inorder-successor-in-bst-medium"></a>#285-inorder-successor-in-bst-medium</h4><p>Given a binary search tree and a node in it, find the in-order successor of that node in the BST.</p>
<p><strong>Note</strong>: If the given node has no in-order successor in the tree, return <code>null</code>.</p>
<p><strong>recursion: </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderSuccessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// if root &lt;= p, just check right side</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &lt;= p.val)</span><br><span class="line">        <span class="keyword">return</span> inorderSuccessor(root.right,p);</span><br><span class="line">    <span class="comment">// if root &gt; p, root is possible result</span></span><br><span class="line">    TreeNode result = inorderSuccessor(root.left,p);</span><br><span class="line">    <span class="keyword">return</span> result == <span class="keyword">null</span>? root : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>iteration:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderSuccessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// if root.val &gt; p, it's possible result</span></span><br><span class="line">    TreeNode result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.val &gt; p.val)&#123;</span><br><span class="line">            result = root;</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            root = root.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>predecessor:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderPredecessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// if root.val &lt; p, possible result</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &gt;= p)</span><br><span class="line">        <span class="keyword">return</span> inorderPredecessor(root.left,p);</span><br><span class="line">    TreeNode result = inorderPredecessor(root.right,p);</span><br><span class="line">    <span class="keyword">return</span> result == <span class="keyword">null</span> ? root : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="287-find-duplicate-number-medium"><a href="#287-find-duplicate-number-medium" class="headerlink" title="#287-find-duplicate-number-medium"></a>#287-find-duplicate-number-medium</h4><p>Given an array <em>nums</em> containing <em>n</em> + 1 integers where each integer is between 1 and <em>n</em> (inclusive), prove that at least one duplicate number must exist. Assume that there is only one duplicate number, find the duplicate one.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,3,4,2,2]</span><br><span class="line">Output: 2</span><br><span class="line">[2,2,2,2]</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// find entrance of cycle</span></span><br><span class="line">    <span class="keyword">int</span> slow = nums[<span class="number">0</span>], fast = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">int</span> idx1 = nums[<span class="number">0</span>], idx2 = slow;</span><br><span class="line">    <span class="keyword">while</span>(idx1 != idx2)&#123;</span><br><span class="line">        idx1 = nums[idx1];</span><br><span class="line">        idx2 = nums[idx2];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="295-find-median-from-data-stream-hard"><a href="#295-find-median-from-data-stream-hard" class="headerlink" title="#295-find-median-from-data-stream-hard"></a>#295-find-median-from-data-stream-hard</h4><p>Median is the middle value in an ordered integer list. If the size of the list is even, there is no middle value. So the median is the mean of the two middle value.</p>
<p>For example,</p>
<p><code>[2,3,4]</code>, the median is <code>3</code></p>
<p><code>[2,3]</code>, the median is <code>(2 + 3) / 2 = 2.5</code></p>
<p>Design a data structure that supports the following two operations:</p>
<ul>
<li>void addNum(int num) - Add a integer number from the data stream to the data structure.</li>
<li>double findMedian() - Return the median of all elements so far.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addNum(1)</span><br><span class="line">addNum(2)</span><br><span class="line">findMedian() -&gt; 1.5</span><br><span class="line">addNum(3) </span><br><span class="line">findMedian() -&gt; 2</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two heap (min &amp; max)</span></span><br><span class="line">    PriorityQueue&lt;Long&gt; minHeap, maxHeap;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MedianFinder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        minHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">        maxHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// left max heap, right min heap</span></span><br><span class="line">        <span class="comment">// every time add to left, </span></span><br><span class="line">        maxHeap.offer((<span class="keyword">long</span>)num);</span><br><span class="line">        minHeap.offer(maxHeap.poll());</span><br><span class="line">        <span class="comment">// keep max heap larger</span></span><br><span class="line">        <span class="keyword">if</span>(maxHeap.size() &lt; minHeap.size())</span><br><span class="line">            maxHeap.offer(minHeap.poll());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedian</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(minHeap.size() == maxHeap.size())</span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">double</span>)(minHeap.peek() + maxHeap.peek()) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">double</span>)maxHeap.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="297-encode-and-decode-binary-tree-hard"><a href="#297-encode-and-decode-binary-tree-hard" class="headerlink" title="#297-encode-and-decode-binary-tree-hard"></a>#297-encode-and-decode-binary-tree-hard</h4><p>Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.</p>
<p>Design an algorithm to serialize and deserialize a binary tree. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary tree can be serialized to a string and this string can be deserialized to the original tree structure.</p>
<p><strong>preorder bfs recursion</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use preorder dfs</span></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        buildString(root,sb);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildString</span><span class="params">(TreeNode root,StringBuilder sb)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            sb.append(<span class="string">"X"</span>).append(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(root.val).append(<span class="string">","</span>);</span><br><span class="line">        buildString(root.left,sb);</span><br><span class="line">        buildString(root.right,sb);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.addAll(Arrays.asList(data.split(<span class="string">","</span>)));</span><br><span class="line">        <span class="keyword">return</span> buildTree(queue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(Queue&lt;String&gt; queue)</span></span>&#123;</span><br><span class="line">        String val = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(val==<span class="keyword">null</span> || val.equals(<span class="string">"X"</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.parseInt(val));</span><br><span class="line">        root.left = buildTree(queue);</span><br><span class="line">        root.right = buildTree(queue);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>bfs iteration</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            TreeNode node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(node == <span class="keyword">null</span>)&#123;</span><br><span class="line">                sb.append(<span class="string">"X,"</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(node.val+<span class="string">","</span>);</span><br><span class="line">            queue.offer(node.left);</span><br><span class="line">            queue.offer(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data==<span class="keyword">null</span> || data.length()==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        String[] values = data.split(<span class="string">","</span>);</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[<span class="number">0</span>]));</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            TreeNode node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(!values[idx].equals(<span class="string">"X"</span>))&#123;</span><br><span class="line">                node.left = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[idx]));</span><br><span class="line">                queue.offer(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;</span><br><span class="line">            <span class="keyword">if</span>(!values[idx].equals(<span class="string">"X"</span>))&#123;</span><br><span class="line">                node.right = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[idx]));</span><br><span class="line">                queue.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="300-longest-increasing-subsequence-medium"><a href="#300-longest-increasing-subsequence-medium" class="headerlink" title="#300-longest-increasing-subsequence-medium"></a>#300-longest-increasing-subsequence-medium</h4><p>Given an unsorted array of integers, find the length of longest increasing subsequence.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [10,9,2,5,3,7,101,18]</span><br><span class="line">Output: 4 </span><br><span class="line">Explanation: The longest increasing subsequence is [2,3,7,101], therefore the length is 4.</span><br></pre></td></tr></table></figure>
<p><strong>n^2 dp:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; nums[j])</span><br><span class="line">                maxLen = Math.max(maxLen,dp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[i] = maxLen + <span class="number">1</span>;</span><br><span class="line">        result = Math.max(result,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>binary search dp:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="comment">// maintain an increasing dp array</span></span><br><span class="line">    <span class="comment">// use maxLen as tail</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = maxLen;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(dp[mid] &lt; num)</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[left] = num;</span><br><span class="line">        <span class="keyword">if</span>(left == maxLen)</span><br><span class="line">            maxLen ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="301-remove-invalid-parentheses-hard"><a href="#301-remove-invalid-parentheses-hard" class="headerlink" title="#301-remove-invalid-parentheses-hard"></a>#301-remove-invalid-parentheses-hard</h4><p>Remove the minimum number of invalid parentheses in order to make the input string valid. Return all possible results.</p>
<p><strong>Note:</strong> The input string may contain letters other than the parentheses <code>(</code> and <code>)</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;()())()&quot;</span><br><span class="line">Output: [&quot;()()()&quot;, &quot;(())()&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;(a)())()&quot;</span><br><span class="line">Output: [&quot;(a)()()&quot;, &quot;(a())()&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;)(&quot;</span><br><span class="line">Output: [&quot;&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>BFS: find optimal directly</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use bfs, find shortest result first</span></span><br><span class="line"><span class="comment">// use set to check visited substring</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">removeInvalidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    queue.offer(s);</span><br><span class="line">    <span class="keyword">boolean</span> foundResult = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        String curr = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(isValid(curr))&#123;</span><br><span class="line">            result.add(curr);</span><br><span class="line">            foundResult = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// might be same len valid result in queue</span></span><br><span class="line">        <span class="keyword">if</span>(foundResult)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">// remove a char add to queue</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.length(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.charAt(i) != <span class="string">'('</span> &amp;&amp; curr.charAt(i) != <span class="string">')'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// remove i th char</span></span><br><span class="line">            String next = curr.substring(<span class="number">0</span>,i) + curr.substring(i+<span class="number">1</span>,curr.length());</span><br><span class="line">            <span class="keyword">if</span>(!visited.contains(next))&#123;</span><br><span class="line">                queue.offer(next);</span><br><span class="line">                visited.add(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function to check if s is valid</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray())&#123;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'('</span>)</span><br><span class="line">            count ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">')'</span>)&#123;</span><br><span class="line">            count --;</span><br><span class="line">            <span class="keyword">if</span>(count &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="310-minimum-height-trees-medium"><a href="#310-minimum-height-trees-medium" class="headerlink" title="#310-minimum-height-trees-medium"></a>#310-minimum-height-trees-medium</h4><p>For a undirected graph with tree characteristics, we can choose any node as the root. The result graph is then a rooted tree. Among all possible rooted trees, those with minimum height are called minimum height trees (MHTs). Given such a graph, write a function to find all the MHTs and return a list of their root labels.</p>
<p><strong>Format</strong><br>The graph contains <code>n</code> nodes which are labeled from <code>0</code> to <code>n - 1</code>. You will be given the number <code>n</code> and a list of undirected <code>edges</code>(each edge is a pair of labels).</p>
<p>You can assume that no duplicate edges will appear in <code>edges</code>. Since all edges are undirected, <code>[0, 1]</code> is the same as <code>[1, 0]</code>and thus will not appear together in <code>edges</code>.</p>
<p><strong>Example 1 :</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 4, edges = [[1, 0], [1, 2], [1, 3]]</span><br><span class="line"></span><br><span class="line">        0</span><br><span class="line">        |</span><br><span class="line">        1</span><br><span class="line">       / \</span><br><span class="line">      2   3 </span><br><span class="line"></span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure>
<p><strong>Example 2 :</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 6, edges = [[0, 3], [1, 3], [2, 3], [4, 3], [5, 4]]</span><br><span class="line"></span><br><span class="line">     0  1  2</span><br><span class="line">      \ | /</span><br><span class="line">        3</span><br><span class="line">        |</span><br><span class="line">        4</span><br><span class="line">        |</span><br><span class="line">        5 </span><br><span class="line"></span><br><span class="line">Output: [3, 4]</span><br></pre></td></tr></table></figure>
<p><strong>Brute force BFS TLE:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findMinHeightTrees</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs  TLE, remove leaves until 2 node left</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges)&#123;</span><br><span class="line">        graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</span><br><span class="line">        graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> minHeight = Integer.MAX_VALUE;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> height = getHeight(graph,i);</span><br><span class="line">        <span class="keyword">if</span>(height &lt; minHeight)&#123;</span><br><span class="line">            minHeight = height;</span><br><span class="line">            result.clear();</span><br><span class="line">            result.add(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(height == minHeight)</span><br><span class="line">            result.add(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph,<span class="keyword">int</span> root)</span></span>&#123;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    visited.add(root);</span><br><span class="line">    <span class="keyword">int</span> h = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        h ++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">            List&lt;Integer&gt; children = graph.get(curr);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">                <span class="comment">// prone, only add node that has children</span></span><br><span class="line">                <span class="keyword">if</span>(visited.add(child))&#123;</span><br><span class="line">                    queue.offer(child);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>similar bfs topological, remove leaves:</strong></p>
<p><strong>leaves polled in the last level are result</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findMinHeightTrees</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs  TLE, remove leaves until 2 node left</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)  <span class="comment">// coner case</span></span><br><span class="line">        <span class="keyword">return</span> Arrays.asList(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// count out degree</span></span><br><span class="line">    <span class="keyword">int</span>[] degree = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges)&#123;</span><br><span class="line">        graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</span><br><span class="line">        graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</span><br><span class="line">        degree[edge[<span class="number">0</span>]] ++;</span><br><span class="line">        degree[edge[<span class="number">1</span>]] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// using bfs, adding leaves to init</span></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(degree[i] == <span class="number">1</span>)  <span class="comment">// leaf</span></span><br><span class="line">            queue.offer(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// last level poll are results !!!</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        result.clear(); </span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">            <span class="comment">// all currs are leaves</span></span><br><span class="line">            <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">            degree[curr] --;    <span class="comment">// == 0</span></span><br><span class="line">            result.add(curr);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> nei : graph.get(curr))&#123;</span><br><span class="line">                degree[nei] --;</span><br><span class="line">                <span class="keyword">if</span>(degree[nei] == <span class="number">1</span>)&#123; <span class="comment">// one is leaf</span></span><br><span class="line">                    queue.offer(nei);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="313-supper-ugly-number-medium"><a href="#313-supper-ugly-number-medium" class="headerlink" title="#313-supper-ugly-number-medium"></a>#313-supper-ugly-number-medium</h4><p>Write a program to find the nth super ugly number.</p>
<p>Super ugly numbers are positive numbers whose all prime factors are in the given prime list <code>primes</code> of size <code>k</code>. For example, <code>[1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32]</code>is the sequence of the first 12 super ugly numbers given <code>primes</code> = <code>[2, 7, 13, 19]</code> of size 4.</p>
<p><strong>Note:</strong><br>(1) <code>1</code> is a super ugly number for any given <code>primes</code>.<br>(2) The given numbers in <code>primes</code> are in ascending order.<br>(3) 0 &lt; <code>k</code> ≤ 100, 0 &lt; <code>n</code> ≤ 106, 0 &lt; <code>primes[i]</code> &lt; 1000.<br>(4) The nth super ugly number is guaranteed to fit in a 32-bit signed integer.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use idea of ugly number ii</span></span><br><span class="line">    <span class="comment">// array to save result, first is 1</span></span><br><span class="line">    <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// array to save index</span></span><br><span class="line">    <span class="keyword">int</span>[] idx = <span class="keyword">new</span> <span class="keyword">int</span>[primes.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="comment">// find min to be curr ugly num</span></span><br><span class="line">        <span class="keyword">int</span> ugly = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;idx.length; j++)&#123;</span><br><span class="line">            <span class="comment">// nums[idx for j] * primes[j]</span></span><br><span class="line">            <span class="keyword">int</span> candidate = primes[j] * nums[idx[j]];</span><br><span class="line">            ugly = Math.min(ugly,candidate);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// set curr result</span></span><br><span class="line">        nums[i] = ugly;</span><br><span class="line">        <span class="comment">// update index for all primes</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;idx.length; j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> prev = nums[idx[j]];</span><br><span class="line">            <span class="keyword">if</span>(prev * primes[j] == ugly)</span><br><span class="line">                idx[j] ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="323-number-of-connected-components-medium"><a href="#323-number-of-connected-components-medium" class="headerlink" title="#323-number-of-connected-components-medium"></a>#323-number-of-connected-components-medium</h4><p>Given <code>n</code> nodes labeled from <code>0</code> to <code>n - 1</code> and a list of undirected edges (each edge is a pair of nodes), write a function to find the number of connected components in an undirected graph.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 5 and edges = [[0, 1], [1, 2], [3, 4]]</span><br><span class="line"></span><br><span class="line">     0          3</span><br><span class="line">     |          |</span><br><span class="line">     1 --- 2    4 </span><br><span class="line"></span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure>
<p><strong>visited DFS similar to count island</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countComponents</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges)&#123;</span><br><span class="line">        graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</span><br><span class="line">        graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited.contains(i))&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            dfs(graph,i,visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph,<span class="keyword">int</span> curr,Set&lt;Integer&gt; visited)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(visited.contains(curr))</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    visited.add(curr);</span><br><span class="line">    List&lt;Integer&gt; children = graph.get(curr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> child : children)</span><br><span class="line">        <span class="keyword">if</span>(!visited.contains(child))</span><br><span class="line">            dfs(graph,child,visited);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="325-max-size-subarray-sum-equals-k-medium"><a href="#325-max-size-subarray-sum-equals-k-medium" class="headerlink" title="#325-max-size-subarray-sum-equals-k-medium"></a>#325-max-size-subarray-sum-equals-k-medium</h4><p>Given an array <em>nums</em> and a target value <em>k</em>, find the maximum length of a subarray that sums to <em>k</em>. If there isn’t one, return 0 instead.</p>
<p><strong>Note:</strong><br>The sum of the entire <em>nums</em> array is guaranteed to fit within the 32-bit signed integer range.</p>
<p><strong>Example 1:</strong></p>
<p>Given <em>nums</em> = <code>[1, -1, 5, -2, 3]</code>, <em>k</em> = <code>3</code>,<br>return <code>4</code>. (because the subarray <code>[1, -1, 5, -2]</code> sums to 3 and is the longest)</p>
<p><strong>Example 2:</strong></p>
<p>Given <em>nums</em> = <code>[-2, -1, 2, 1]</code>, <em>k</em> = <code>1</code>,<br>return <code>2</code>. (because the subarray <code>[-1, 2]</code> sums to 1 and is the longest)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArrayLen</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(sum - k))</span><br><span class="line">            maxLen = Math.max(maxLen,i-map.get(sum-k));</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(sum))</span><br><span class="line">            map.put(sum,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="332-reconstruct-itinerary-medium"><a href="#332-reconstruct-itinerary-medium" class="headerlink" title="#332-reconstruct-itinerary-medium"></a>#332-reconstruct-itinerary-medium</h4><p>Given a list of airline tickets represented by pairs of departure and arrival airports <code>[from, to]</code>, reconstruct the itinerary in order. All of the tickets belong to a man who departs from <code>JFK</code>. Thus, the itinerary must begin with <code>JFK</code>.</p>
<p><strong>Note:</strong></p>
<ol>
<li>If there are multiple valid itineraries, you should return the itinerary that has the smallest lexical order when read as a single string. For example, the itinerary <code>[&quot;JFK&quot;, &quot;LGA&quot;]</code> has a smaller lexical order than <code>[&quot;JFK&quot;, &quot;LGB&quot;]</code>.</li>
<li>All airports are represented by three capital letters (IATA code).</li>
<li>You may assume all tickets form at least one valid itinerary.</li>
</ol>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: tickets = [[&quot;MUC&quot;, &quot;LHR&quot;], [&quot;JFK&quot;, &quot;MUC&quot;], [&quot;SFO&quot;, &quot;SJC&quot;], [&quot;LHR&quot;, &quot;SFO&quot;]]</span><br><span class="line">Output: [&quot;JFK&quot;, &quot;MUC&quot;, &quot;LHR&quot;, &quot;SFO&quot;, &quot;SJC&quot;]</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: tickets = [[&quot;JFK&quot;,&quot;SFO&quot;],[&quot;JFK&quot;,&quot;ATL&quot;],[&quot;SFO&quot;,&quot;ATL&quot;],[&quot;ATL&quot;,&quot;JFK&quot;],[&quot;ATL&quot;,&quot;SFO&quot;]]</span><br><span class="line">Output: [&quot;JFK&quot;,&quot;ATL&quot;,&quot;JFK&quot;,&quot;SFO&quot;,&quot;ATL&quot;,&quot;SFO&quot;]</span><br><span class="line">Explanation: Another possible reconstruction is [&quot;JFK&quot;,&quot;SFO&quot;,&quot;ATL&quot;,&quot;JFK&quot;,&quot;ATL&quot;,&quot;SFO&quot;]. But it is larger in lexical order.</span><br></pre></td></tr></table></figure>
<p><strong>DFS sorted children, invalid add to end:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">	Map&lt;String, List&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span> (String[] t : tickets) &#123;</span><br><span class="line">		String parent = t[<span class="number">0</span>], child = t[<span class="number">1</span>];</span><br><span class="line">		List&lt;String&gt; children = graph.get(parent);</span><br><span class="line">		<span class="keyword">if</span> (children == <span class="keyword">null</span>) &#123;</span><br><span class="line">			children = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">			graph.put(parent, children);</span><br><span class="line">		&#125;</span><br><span class="line">		children.add(child);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (String key : graph.keySet())</span><br><span class="line">		Collections.sort(graph.get(key));</span><br><span class="line">	List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       result.add(<span class="string">"JFK"</span>);</span><br><span class="line">	<span class="keyword">if</span>(dfs(graph, <span class="string">"JFK"</span>, result, tickets.length))</span><br><span class="line">	    <span class="keyword">return</span> result;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// return if find result</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(Map&lt;String, List&lt;String&gt;&gt; graph, String curr, List&lt;String&gt; result, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	List&lt;String&gt; children = graph.get(curr);</span><br><span class="line">	<span class="keyword">if</span> (children != <span class="keyword">null</span>) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; children.size(); ++i) &#123;</span><br><span class="line">			String child = children.remove(<span class="number">0</span>);</span><br><span class="line">               result.add(child);</span><br><span class="line">			<span class="keyword">if</span> (dfs(graph, child, result, count - <span class="number">1</span>))</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">			children.add(child);</span><br><span class="line">               result.remove(result.size()-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Stack iteration: add invalid to stack, remove prev from path</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// using heap for sorting, invalid will reconsidered from stack</span></span><br><span class="line">	Map&lt;String, PriorityQueue&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span> (String[] t : tickets) &#123;</span><br><span class="line">		String parent = t[<span class="number">0</span>], child = t[<span class="number">1</span>];</span><br><span class="line">		PriorityQueue&lt;String&gt; children = graph.get(parent);</span><br><span class="line">		<span class="keyword">if</span> (children == <span class="keyword">null</span>) &#123;</span><br><span class="line">			children = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">			graph.put(parent, children);</span><br><span class="line">		&#125;</span><br><span class="line">		children.offer(child);</span><br><span class="line">	&#125;</span><br><span class="line">       String curr = <span class="string">"JFK"</span>;</span><br><span class="line">       Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">       List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;tickets.length; ++i)&#123;</span><br><span class="line">           <span class="comment">// case invalid path, add to stack and remove from path</span></span><br><span class="line">           <span class="keyword">while</span>(!graph.containsKey(curr) || graph.get(curr).size()==<span class="number">0</span>)&#123;</span><br><span class="line">               stack.push(curr);</span><br><span class="line">               curr = result.remove(result.size()-<span class="number">1</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           result.add(curr);</span><br><span class="line">           curr = graph.get(curr).poll();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// add curr and rest in stack</span></span><br><span class="line">       result.add(curr);</span><br><span class="line">       <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">           result.add(stack.pop());</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="335-self-crossing-hard"><a href="#335-self-crossing-hard" class="headerlink" title="#335-self-crossing-hard"></a>#335-self-crossing-hard</h4><p>You are given an array <em>x</em> of <code>n</code> positive numbers. You start at point <code>(0,0)</code> and moves <code>x[0]</code> metres to the north, then <code>x[1]</code> metres to the west, <code>x[2]</code> metres to the south, <code>x[3]</code> metres to the east and so on. In other words, after each move your direction changes counter-clockwise.</p>
<p>Write a one-pass algorithm with <code>O(1)</code> extra space to determine, if your path crosses itself, or not.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Given x = [2, 1, 1, 2],</span><br><span class="line">?????</span><br><span class="line">?   ?</span><br><span class="line">???????&gt;</span><br><span class="line">    ?</span><br><span class="line"></span><br><span class="line">Return true (self crossing)</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Given x = [1, 2, 3, 4],</span><br><span class="line">????????</span><br><span class="line">?      ?</span><br><span class="line">?</span><br><span class="line">?</span><br><span class="line">?????????????&gt;</span><br><span class="line"></span><br><span class="line">Return false (not self crossing)</span><br></pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given x = [1, 1, 1, 1],</span><br><span class="line">?????</span><br><span class="line">?   ?</span><br><span class="line">?????&gt;</span><br><span class="line"></span><br><span class="line">Return true (self crossing)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSelfCrossing</span><span class="params">(<span class="keyword">int</span>[] x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// i could cross with i-3, i-4, i-5</span></span><br><span class="line">    <span class="keyword">if</span>(x==<span class="keyword">null</span> || x.length&lt;=<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// start from 3</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>; i&lt;x.length; i++)&#123;</span><br><span class="line">        <span class="comment">// check i &amp; i-3</span></span><br><span class="line">        <span class="comment">// 7 4: 7&gt;=5, 6&gt;=4</span></span><br><span class="line">        <span class="keyword">if</span>(x[i]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">1</span>]&lt;=x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// check i &amp; i-4</span></span><br><span class="line">        <span class="comment">// 7 3: 7+3&gt;=5, 6==4</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=<span class="number">4</span> &amp;&amp; x[i]+x[i-<span class="number">4</span>]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">1</span>]==x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// check i &amp; i-5</span></span><br><span class="line">        <span class="comment">// 7 2: 7+3&gt;=5, 5&gt;=3, 6+2&gt;=4, 6&lt;=4 !(4&gt;=2)</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=<span class="number">5</span> &amp;&amp; x[i]+x[i-<span class="number">4</span>]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">2</span>]&gt;=x[i-<span class="number">4</span>] &amp;&amp;</span><br><span class="line">          x[i-<span class="number">1</span>]+x[i-<span class="number">5</span>]&gt;=x[i-<span class="number">3</span>] &amp;&amp; x[i-<span class="number">1</span>]&lt;=x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="350-intersection-of-two-arrays-easy"><a href="#350-intersection-of-two-arrays-easy" class="headerlink" title="#350-intersection-of-two-arrays-easy"></a>#350-intersection-of-two-arrays-easy</h4><p>Given two arrays, write a function to compute their intersection.</p>
<p><strong>Example:</strong><br>Given <em>nums1</em> = <code>[1, 2, 2, 1]</code>, <em>nums2</em> = <code>[2, 2]</code>, return <code>[2, 2]</code>.</p>
<p><strong>sort O(nlogn)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    Arrays.sort(nums1);</span><br><span class="line">    Arrays.sort(nums2);</span><br><span class="line">    <span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(idx1 &lt; nums1.length &amp;&amp; idx2 &lt; nums2.length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums1[idx1] == nums2[idx2])&#123;</span><br><span class="line">            list.add(nums1[idx1]);</span><br><span class="line">            idx1++;idx2++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums1[idx1] &lt; nums2[idx2])</span><br><span class="line">            idx1 ++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            idx2 ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; i++)</span><br><span class="line">        result[i] = list.get(i);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>map count O(1)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums1.length &gt; nums2.length)</span><br><span class="line">        <span class="keyword">return</span> intersect(nums2,nums1);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums1)</span><br><span class="line">        map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.getOrDefault(num,<span class="number">0</span>) != <span class="number">0</span>)&#123;</span><br><span class="line">            list.add(num);</span><br><span class="line">            map.put(num,map.get(num)-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; i++)</span><br><span class="line">        result[i] = list.get(i);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="362-design-hit-counter-medium"><a href="#362-design-hit-counter-medium" class="headerlink" title="#362-design-hit-counter-medium"></a>#362-design-hit-counter-medium</h4><p>Design a hit counter which counts the number of hits received in the past 5 minutes.</p>
<p>Each function accepts a timestamp parameter (in seconds granularity) and you may assume that calls are being made to the system in chronological order (ie, the timestamp is monotonically increasing). You may assume that the earliest timestamp starts at 1.</p>
<p>It is possible that several hits arrive roughly at the same time.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">HitCounter counter = new HitCounter();</span><br><span class="line"></span><br><span class="line">// hit at timestamp 1.</span><br><span class="line">counter.hit(1);</span><br><span class="line"></span><br><span class="line">// hit at timestamp 2.</span><br><span class="line">counter.hit(2);</span><br><span class="line"></span><br><span class="line">// hit at timestamp 3.</span><br><span class="line">counter.hit(3);</span><br><span class="line"></span><br><span class="line">// get hits at timestamp 4, should return 3.</span><br><span class="line">counter.getHits(4);</span><br><span class="line"></span><br><span class="line">// hit at timestamp 300.</span><br><span class="line">counter.hit(300);</span><br><span class="line"></span><br><span class="line">// get hits at timestamp 300, should return 4.</span><br><span class="line">counter.getHits(300);</span><br><span class="line"></span><br><span class="line">// get hits at timestamp 301, should return 3.</span><br><span class="line">counter.getHits(301);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HitCounter</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 300s time cycle</span></span><br><span class="line">    <span class="keyword">int</span>[] times, hits;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HitCounter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.times = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">300</span>];</span><br><span class="line">        <span class="keyword">this</span>.hits = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">300</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Record a hit.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hit</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = timestamp % <span class="number">300</span>;  <span class="comment">// find bucket</span></span><br><span class="line">        <span class="keyword">if</span>(times[idx] != timestamp)&#123; <span class="comment">// check time</span></span><br><span class="line">            times[idx] = timestamp;</span><br><span class="line">            hits[idx] = <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            hits[idx] += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Return the number of hits in the past 5 minutes.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHits</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// find timestamp in most recent cycle</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">300</span>; ++i)</span><br><span class="line">            <span class="keyword">if</span>(timestamp - times[i] &lt; <span class="number">300</span>)</span><br><span class="line">                count += hits[i];</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your HitCounter object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * HitCounter obj = new HitCounter();</span></span><br><span class="line"><span class="comment"> * obj.hit(timestamp);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.getHits(timestamp);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="371-sum-of-two-integers-easy"><a href="#371-sum-of-two-integers-easy" class="headerlink" title="#371-sum-of-two-integers-easy"></a>#371-sum-of-two-integers-easy</h4><p>Calculate the sum of two integers <em>a</em> and <em>b</em>, but you are <strong>not allowed</strong> to use the operator <code>+</code> and <code>-</code>.</p>
<p><strong>Example:</strong><br>Given <em>a</em> = 1 and <em>b</em> = 2, return 3.</p>
<p><strong>Iteration:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = a, carry = b;</span><br><span class="line">    <span class="keyword">while</span>(carry != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> nextSum = sum ^ carry;</span><br><span class="line">        <span class="keyword">int</span> nextCarry = (sum &amp; carry) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        sum = nextSum;</span><br><span class="line">        carry = nextCarry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Recursion:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">int</span> sum = a ^ b;</span><br><span class="line">    <span class="keyword">int</span> carry = (a &amp; b) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> getSum(sum,carry);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="373-find-k-pairs-with-smallest-sum-medium"><a href="#373-find-k-pairs-with-smallest-sum-medium" class="headerlink" title="#373-find-k-pairs-with-smallest-sum-medium"></a>#373-find-k-pairs-with-smallest-sum-medium</h4><p>You are given two integer arrays <strong>nums1</strong> and <strong>nums2</strong> sorted in ascending order and an integer <strong>k</strong>. </p>
<p>Define a pair <strong>(u,v)</strong> which consists of one element from the first array and one element from the second array.</p>
<p>Find the k pairs <strong>(u1,v1),(u2,v2) …(uk,vk)</strong> with the smallest sums.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums1 = [1,7,11], nums2 = [2,4,6],  k = 3</span><br><span class="line"></span><br><span class="line">Return: [1,2],[1,4],[1,6]</span><br><span class="line"></span><br><span class="line">The first 3 pairs are returned from the sequence:</span><br><span class="line">[1,2],[1,4],[1,6],[7,2],[7,4],[11,2],[7,6],[11,4],[11,6]</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; kSmallestPairs(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums1.length==<span class="number">0</span> || nums2.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(k,<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1,<span class="keyword">int</span>[] o2)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o1[<span class="number">0</span>] + o1[<span class="number">1</span>] - o2[<span class="number">0</span>] - o2[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// populate first array first, curr[2] save index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums1.length &amp;&amp; i&lt;k;i++)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nums1[i],nums2[<span class="number">0</span>],<span class="number">0</span>&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.isEmpty() &amp;&amp; result.size()&lt;k)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] curr = heap.poll();</span><br><span class="line">        <span class="keyword">int</span> n1 = curr[<span class="number">0</span>], n2 = curr[<span class="number">1</span>], idx2 = curr[<span class="number">2</span>];</span><br><span class="line">        result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;n1,n2&#125;);</span><br><span class="line">        <span class="keyword">if</span>(idx2 == nums2.length - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;n1,nums2[idx2+<span class="number">1</span>],idx2+<span class="number">1</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="378-k-th-smallest-element-in-a-sorted-matrix-medium"><a href="#378-k-th-smallest-element-in-a-sorted-matrix-medium" class="headerlink" title="#378-k-th-smallest-element-in-a-sorted-matrix-medium"></a>#378-k-th-smallest-element-in-a-sorted-matrix-medium</h4><p>Given a <em>n</em> x <em>n</em> matrix where each of the rows and columns are sorted in ascending order, find the kth smallest element in the matrix.</p>
<p>Note that it is the kth smallest element in the sorted order, not the kth distinct element.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">matrix = [</span><br><span class="line">   [ 1,  5,  9],</span><br><span class="line">   [10, 11, 13],</span><br><span class="line">   [12, 13, 15]</span><br><span class="line">],</span><br><span class="line">k = 8,</span><br><span class="line"></span><br><span class="line">return 13.</span><br></pre></td></tr></table></figure>
<p><strong>Could use Dijkstra</strong></p>
<p><strong>Use heap init with row</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to #373</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// use [val,i,j] to save cell</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// init heap with first row, space O(c)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[<span class="number">0</span>][j],<span class="number">0</span>,j&#125;);</span><br><span class="line">    <span class="comment">// push cell below</span></span><br><span class="line">    <span class="keyword">int</span>[] curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty())&#123;</span><br><span class="line">        curr = heap.poll();</span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">int</span> val = curr[<span class="number">0</span>], i = curr[<span class="number">1</span>], j = curr[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i + <span class="number">1</span> &lt; m)</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[i+<span class="number">1</span>][j],i+<span class="number">1</span>,j&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>if k th distinct:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to #373</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// use [val,i,j] to save cell</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// init heap with first row, space O(c)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[<span class="number">0</span>][j],<span class="number">0</span>,j&#125;);</span><br><span class="line">    <span class="comment">// push cell below</span></span><br><span class="line">    <span class="keyword">int</span>[] curr = <span class="keyword">null</span>, prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty())&#123;</span><br><span class="line">        curr = heap.poll();</span><br><span class="line">        <span class="keyword">if</span>(prev==<span class="keyword">null</span> || prev!=<span class="keyword">null</span> &amp;&amp; curr[<span class="number">0</span>]!=prev[<span class="number">0</span>])</span><br><span class="line">            k--;</span><br><span class="line">        prev = curr;</span><br><span class="line">        <span class="keyword">int</span> val = curr[<span class="number">0</span>], i = curr[<span class="number">1</span>], j = curr[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i + <span class="number">1</span> &lt; m)</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[i+<span class="number">1</span>][j],i+<span class="number">1</span>,j&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Binary Search:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> low = matrix[<span class="number">0</span>][<span class="number">0</span>], high = matrix[row-<span class="number">1</span>][col-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(low &lt; high)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = low + (high - low)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;  <span class="comment">// count smallest num</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> j = col - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; matrix[i][j] &gt; mid)</span><br><span class="line">                j --;</span><br><span class="line">            count += j + <span class="number">1</span>; <span class="comment">// count &lt;= mid</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(count &lt; k) <span class="comment">// mid too small</span></span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            high = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="380-insert-delete-getrandom-o1-medium"><a href="#380-insert-delete-getrandom-o1-medium" class="headerlink" title="#380-insert-delete-getrandom-o1-medium"></a>#380-insert-delete-getrandom-o1-medium</h4><p>Design a data structure that supports all following operations in <em>average</em> <strong>O(1)</strong> time.</p>
<ol>
<li><code>insert(val)</code>: Inserts an item val to the set if not already present.</li>
<li><code>remove(val)</code>: Removes an item val from the set if present.</li>
<li><code>getRandom</code>: Returns a random element from current set of elements. Each element must have the <strong>same probability</strong> of being returned.</li>
</ol>
<p><strong>Use map save val and idx, use list save val, remove from last (swap)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; list;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(val))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        map.put(val,list.size()); <span class="comment">// save val and idx in list</span></span><br><span class="line">        list.add(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(val))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(map.get(val) != list.size()-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// val not last</span></span><br><span class="line">            <span class="keyword">int</span> idx = map.get(val); <span class="comment">// replace with last val</span></span><br><span class="line">            <span class="keyword">int</span> last = list.get(list.size()-<span class="number">1</span>);</span><br><span class="line">            list.set(idx,last);    </span><br><span class="line">            map.put(last,idx);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 1. val at end, 2. after replace </span></span><br><span class="line">        map.remove(val);</span><br><span class="line">        list.remove(list.size()-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get a random element from the set. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">return</span> list.get(random.nextInt(list.size()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RandomizedSet object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RandomizedSet obj = new RandomizedSet();</span></span><br><span class="line"><span class="comment"> * boolean param_1 = obj.insert(val);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.remove(val);</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.getRandom();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="381-insert-delete-getrandom-duplicates-allowed-hard"><a href="#381-insert-delete-getrandom-duplicates-allowed-hard" class="headerlink" title="#381-insert-delete-getrandom-duplicates-allowed-hard"></a>#381-insert-delete-getrandom-duplicates-allowed-hard</h4><p>Design a data structure that supports all following operations in <em>average</em> <strong>O(1)</strong> time.</p>
<p>Note: Duplicate elements are allowed.</p>
<ol>
<li><code>insert(val)</code>: Inserts an item val to the collection.</li>
<li><code>remove(val)</code>: Removes an item val from the collection if present.</li>
<li><code>getRandom</code>: Returns a random element from current collection of elements. The probability of each element being returned is <strong>linearly related</strong> to the number of same value the collection contains.</li>
</ol>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// Init an empty collection.</span><br><span class="line">RandomizedCollection collection = new RandomizedCollection();</span><br><span class="line"></span><br><span class="line">// Inserts 1 to the collection. Returns true as the collection did not contain 1.</span><br><span class="line">collection.insert(1);</span><br><span class="line"></span><br><span class="line">// Inserts another 1 to the collection. Returns false as the collection contained 1. Collection now contains [1,1].</span><br><span class="line">collection.insert(1);</span><br><span class="line"></span><br><span class="line">// Inserts 2 to the collection, returns true. Collection now contains [1,1,2].</span><br><span class="line">collection.insert(2);</span><br><span class="line"></span><br><span class="line">// getRandom should return 1 with the probability 2/3, and returns 2 with the probability 1/3.</span><br><span class="line">collection.getRandom();</span><br><span class="line"></span><br><span class="line">// Removes 1 from the collection, returns true. Collection now contains [1,2].</span><br><span class="line">collection.remove(1);</span><br><span class="line"></span><br><span class="line">// getRandom should return 1 and 2 both equally likely.</span><br><span class="line">collection.getRandom();</span><br></pre></td></tr></table></figure>
<p><strong>similar, use hash set save idx (iterator to pick)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedCollection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; collection;</span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; map;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedCollection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Inserts a value to the collection. Returns true if the collection did not already contain the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// collection.size() is idx for new val</span></span><br><span class="line">        <span class="keyword">boolean</span> contain = map.containsKey(val);</span><br><span class="line">        <span class="keyword">if</span>(!contain)    <span class="comment">// add idx set</span></span><br><span class="line">            map.put(val,<span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">        map.get(val).add(collection.size());</span><br><span class="line">        collection.add(val);</span><br><span class="line">        <span class="keyword">return</span> !contain;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes a value from the collection. Returns true if the collection contained the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(val))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> lastIdx = collection.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> lastNum = collection.get(lastIdx);</span><br><span class="line">        <span class="comment">// if last==val, same object here</span></span><br><span class="line">        Set&lt;Integer&gt; valSet = map.get(val);</span><br><span class="line">        Set&lt;Integer&gt; lastSet = map.get(lastNum);</span><br><span class="line">        <span class="comment">// if last==val, val will remove here</span></span><br><span class="line">        <span class="comment">// if last!=val, last will remove anyway</span></span><br><span class="line">        lastSet.remove(lastIdx);</span><br><span class="line">        collection.remove(lastIdx);</span><br><span class="line">        <span class="keyword">if</span>(lastNum != val)&#123;</span><br><span class="line">            <span class="keyword">int</span> repIdx = valSet.iterator().next();<span class="comment">//to be replace</span></span><br><span class="line">            lastSet.add(repIdx); <span class="comment">// add replace idx, will not be empty</span></span><br><span class="line">            collection.set(repIdx,lastNum);</span><br><span class="line">            valSet.remove(repIdx); <span class="comment">// remove replaced, check empty outside</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// whether last or not, check empty</span></span><br><span class="line">        <span class="keyword">if</span>(valSet.isEmpty())</span><br><span class="line">            map.remove(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get a random element from the collection. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = random.nextInt(collection.size());</span><br><span class="line">        <span class="keyword">return</span> collection.get(idx);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RandomizedCollection object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RandomizedCollection obj = new RandomizedCollection();</span></span><br><span class="line"><span class="comment"> * boolean param_1 = obj.insert(val);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.remove(val);</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.getRandom();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="384-shuffle-an-array-medium"><a href="#384-shuffle-an-array-medium" class="headerlink" title="#384-shuffle-an-array-medium"></a>#384-shuffle-an-array-medium</h4><p>Shuffle a set of numbers without duplicates.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// Init an array with set 1, 2, and 3.</span><br><span class="line">int[] nums = &#123;1,2,3&#125;;</span><br><span class="line">Solution solution = new Solution(nums);</span><br><span class="line"></span><br><span class="line">// Shuffle the array [1,2,3] and return its result. Any permutation of [1,2,3] must equally likely to be returned.</span><br><span class="line">solution.shuffle();</span><br><span class="line"></span><br><span class="line">// Resets the array back to its original configuration [1,2,3].</span><br><span class="line">solution.reset();</span><br><span class="line"></span><br><span class="line">// Returns the random shuffling of array [1,2,3].</span><br><span class="line">solution.shuffle();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] shuffleNums;</span><br><span class="line">    <span class="keyword">int</span>[] nums;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">        <span class="keyword">this</span>.shuffleNums = nums.clone();</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Resets the array to its original configuration and return it. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] reset() &#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns a random shuffling of the array. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] shuffle() &#123;</span><br><span class="line">        <span class="comment">// for each num P(change to i) = 1/n</span></span><br><span class="line">        <span class="comment">// i not replaced: P = n-1/n * n-2/n-1 * ... * i/i+1 * (1/i)</span></span><br><span class="line">        <span class="comment">// for j relocate to i</span></span><br><span class="line">        <span class="comment">// if j &gt; i P = n-1/n * n-2/n-1 * ... * j/j+1 * (1/j)</span></span><br><span class="line">        <span class="comment">// if j &lt; i P = n-1/n * n-2/n-1 * ... * i/i+1 * (1/i)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=nums.length-<span class="number">1</span>; i&gt;<span class="number">0</span>; --i)&#123;</span><br><span class="line">            <span class="keyword">int</span> j = random.nextInt(i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> temp = shuffleNums[i];</span><br><span class="line">            shuffleNums[i] = shuffleNums[j];</span><br><span class="line">            shuffleNums[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> shuffleNums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h4 id="388-longest-absolute-file-path-medium"><a href="#388-longest-absolute-file-path-medium" class="headerlink" title="#388-longest-absolute-file-path-medium"></a>#388-longest-absolute-file-path-medium</h4><p>Suppose we abstract our file system by a string in the following manner:</p>
<p>The string <code>&quot;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&quot;</code> represents:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br><span class="line">    subdir1</span><br><span class="line">    subdir2</span><br><span class="line">        file.ext</span><br></pre></td></tr></table></figure>
<p>The directory <code>dir</code> contains an empty sub-directory <code>subdir1</code> and a sub-directory <code>subdir2</code> containing a file <code>file.ext</code>.</p>
<p>The string <code>&quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot;</code> represents:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br><span class="line">    subdir1</span><br><span class="line">        file1.ext</span><br><span class="line">        subsubdir1</span><br><span class="line">    subdir2</span><br><span class="line">        subsubdir2</span><br><span class="line">            file2.ext</span><br></pre></td></tr></table></figure>
<p>The directory <code>dir</code> contains two sub-directories <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and an empty second-level sub-directory <code>subsubdir1</code>. <code>subdir2</code> contains a second-level sub-directory <code>subsubdir2</code> containing a file <code>file2.ext</code>.</p>
<p>We are interested in finding the longest (number of characters) absolute path to a file within our file system. For example, in the second example above, the longest absolute path is <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>, and its length is <code>32</code> (not including the double quotes).</p>
<p>Given a string representing the file system in the above format, return the length of the longest absolute path to file in the abstracted file system. If there is no file in the system, return <code>0</code>.</p>
<p><strong>Note:</strong></p>
<ul>
<li>The name of a file contains at least a <code>.</code> and an extension.</li>
<li>The name of a directory or sub-directory will not contain a <code>.</code>.</li>
</ul>
<p>Time complexity required: <code>O(n)</code> where <code>n</code> is the size of the input string.</p>
<p>Notice that <code>a/aa/aaa/file1.txt</code> is not the longest file path, if there is another path <code>aaaaaaaaaaaaaaaaaaaaa/sth.png</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthLongestPath</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use stack, </span></span><br><span class="line">    <span class="comment">// for a level, stack saves only higher level len</span></span><br><span class="line">    <span class="comment">// if same level exit then pop</span></span><br><span class="line">    <span class="keyword">if</span>(input == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="number">0</span>);  <span class="comment">// dummy bottom</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// every \n =&gt; a folder or a file</span></span><br><span class="line">    <span class="keyword">for</span>(String s : input.split(<span class="string">"\n"</span>))&#123;</span><br><span class="line">        <span class="comment">// define the level</span></span><br><span class="line">        <span class="comment">// first level -1+1=0, \t=&gt;1, \t\t=&gt;2</span></span><br><span class="line">        <span class="keyword">int</span> level = s.lastIndexOf(<span class="string">"\t"</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// check whether stack has only higher level</span></span><br><span class="line">        <span class="comment">// l0=&gt;size 1,l1=&gt;size 2,l2=&gt;size 3</span></span><br><span class="line">        <span class="keyword">while</span>(stack.size() &gt; level+<span class="number">1</span>) <span class="comment">// find parent</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        <span class="comment">// push curr level len to stack, remove \t, add /</span></span><br><span class="line">        <span class="keyword">int</span> len = stack.peek() + s.length() - level + <span class="number">1</span>;</span><br><span class="line">        stack.push(len);</span><br><span class="line">        <span class="comment">// if it's a file, compute maxlen</span></span><br><span class="line">        <span class="keyword">if</span>(s.contains(<span class="string">"."</span>))</span><br><span class="line">            maxLen = Math.max(maxLen,len - <span class="number">1</span>);  <span class="comment">// remove /</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="394-decode-string-medium"><a href="#394-decode-string-medium" class="headerlink" title="#394-decode-string-medium"></a>#394-decode-string-medium</h4><p>Given an encoded string, return it’s decoded string.</p>
<p>The encoding rule is: <code>k[encoded_string]</code>, where the <em>encoded_string</em> inside the square brackets is being repeated exactly <em>k</em> times. Note that <em>k</em> is guaranteed to be a positive integer.</p>
<p>You may assume that the input string is always valid; No extra white spaces, square brackets are well-formed, etc.</p>
<p>Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, <em>k</em>. For example, there won’t be input like <code>3a</code> or <code>2[4]</code>.</p>
<p><strong>Examples:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = &quot;3[a]2[bc]&quot;, return &quot;aaabcbc&quot;.</span><br><span class="line">s = &quot;3[a2[c]]&quot;, return &quot;accaccacc&quot;.</span><br><span class="line">s = &quot;2[abc]3[cd]ef&quot;, return &quot;abcabccdcdcdef&quot;.</span><br></pre></td></tr></table></figure>
<p><strong>Idea to save &lt;count,StringBuilder&gt; in stack:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    Stack&lt;Pair&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">while</span>(idx &lt; s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(idx)))&#123;</span><br><span class="line">            <span class="keyword">int</span> end = idx + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(end &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(end)))</span><br><span class="line">                end ++;</span><br><span class="line">            <span class="keyword">int</span> count = Integer.parseInt(s.substring(idx,end));</span><br><span class="line">            stack.push(<span class="keyword">new</span> Pair(count));</span><br><span class="line">            idx = end;  <span class="comment">// jump to letter</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(idx) == <span class="string">']'</span>)&#123;</span><br><span class="line">            Pair curr = stack.pop();</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.count; ++i)</span><br><span class="line">                sb.append(curr.sb.toString());</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">                result.append(sb.toString());</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                stack.peek().sb.append(sb.toString());</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(idx)&gt;=<span class="string">'A'</span> &amp;&amp; s.charAt(idx)&lt;=<span class="string">'z'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">                result.append(s.charAt(idx));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                stack.peek().sb.append(s.charAt(idx));</span><br><span class="line">        &#125;</span><br><span class="line">        idx ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toString();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    StringBuilder sb;</span><br><span class="line">    Pair(<span class="keyword">int</span> count)&#123;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">        <span class="keyword">this</span>.sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Using 2 stack separately</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    Stack&lt;Integer&gt; countStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;StringBuilder&gt; strStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    strStack.push(<span class="keyword">new</span> StringBuilder()); <span class="comment">// for 0 level instead of another sb</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(idx &lt; s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(idx)))&#123;</span><br><span class="line">            <span class="keyword">int</span> end = idx + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(end &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(end)))</span><br><span class="line">                end ++;</span><br><span class="line">            <span class="keyword">int</span> count = Integer.parseInt(s.substring(idx,end));</span><br><span class="line">            countStack.push(count);</span><br><span class="line">            strStack.push(<span class="keyword">new</span> StringBuilder());</span><br><span class="line">            idx = end;  <span class="comment">// now end should be ']'</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(idx) == <span class="string">']'</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> count = countStack.pop();</span><br><span class="line">            String curr = strStack.pop().toString();</span><br><span class="line">            StringBuilder temp = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; ++i)</span><br><span class="line">                temp.append(curr);</span><br><span class="line">            strStack.peek().append(temp.toString()); </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">// assume should be letters</span></span><br><span class="line">            strStack.peek().append(s.charAt(idx));</span><br><span class="line">        &#125;</span><br><span class="line">        idx ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> strStack.peek().toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="398-random-pick-index-medium"><a href="#398-random-pick-index-medium" class="headerlink" title="#398-random-pick-index-medium"></a>#398-random-pick-index-medium</h4><p>Given an array of integers with possible duplicates, randomly output the index of a given target number. You can assume that the given target number must exist in the array.</p>
<p><strong>Note:</strong><br>The array size can be very large. Solution that uses too much extra space will not pass the judge.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">int[] nums = new int[] &#123;1,2,3,3,3&#125;;</span><br><span class="line">Solution solution = new Solution(nums);</span><br><span class="line"></span><br><span class="line">// pick(3) should return either index 2, 3, or 4 randomly. Each index should have equal probability of returning.</span><br><span class="line">solution.pick(3);</span><br><span class="line"></span><br><span class="line">// pick(1) should return 0. Since in the array only nums[0] is equal to 1.</span><br><span class="line">solution.pick(1);</span><br></pre></td></tr></table></figure>
<p><strong>Using index list: Space O(n), Time to pick O(1)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer,List&lt;Integer&gt;&gt; map;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i)&#123;</span><br><span class="line">            List&lt;Integer&gt; list = map.get(nums[i]);</span><br><span class="line">            <span class="keyword">if</span>(list == <span class="keyword">null</span>)&#123;</span><br><span class="line">                list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                map.put(nums[i],list);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(target))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        List&lt;Integer&gt; list = map.get(target);</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> idx = random.nextInt(list.size());</span><br><span class="line">        <span class="keyword">return</span> list.get(idx);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Reservoir Sampling: no extra space, Time to pick O(n):</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] nums;</span><br><span class="line">    Random random;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;    </span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = -<span class="number">1</span>, count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] != target)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// x target, each 1/x probability</span></span><br><span class="line">            <span class="keyword">if</span>(random.nextInt(++count) == <span class="number">0</span>)</span><br><span class="line">                idx = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <div class="article-footer">
      <!-- <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://jliao011.github.io/2018/05/27/leetcode-201-400/" title="LeetCode Solutions 201 - 400" target="_blank" rel="external">https://jliao011.github.io/2018/05/27/leetcode-201-400/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote> -->


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="" target="_blank"><span class="text-dark">Jiafeng Liao</span><small class="ml-1x">New CS Grad</small></a></h3>
        <div>If I wrote something wrong, please comment below, appreciate!</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
       
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2018/05/27/leetcode-801-1000/" title="LeetCode Solutions 801 - 1000"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2018/05/27/leetcode-1-200/" title="LeetCode Solutions 1 - 200"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="Catalogue" role="button">
        <span>[&nbsp;</span><span>Catalogue</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="wechat,facebook,twitter" data-mobile-sites="wechat,facebook,twitter"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/jliao011" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://www.linkedin.com/in/jiafengliao" target="_blank" title="Linkedin" data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2018 Jiafeng Liao
        
        <div class="publishby">
        	<!-- Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>. -->
        	Powered by <a href="https://hexo.io">Hexo</a> || Theme - <a href="https://github.com/cofess/hexo-theme-pure">pure</a>
        </div>
    </div>
</footer>
  <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>
  
    
    
    
        <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>
    
    
    
        


    
    
        
    
    <script defer>
    var disqus_config = function () {
        
            this.page.url = 'https://jliao011.github.io/2018/05/27/leetcode-201-400/';
        
        this.page.identifier = 'leetcode-201-400';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'jliao011' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>


    
    
        <script defer type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-119871741-1', 'auto');
ga('send', 'pageview');

</script>




</body>
</html>