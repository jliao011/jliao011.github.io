<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>My Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://jliao011.github.io/"/>
  <updated>2018-07-31T23:41:48.000Z</updated>
  <id>https://jliao011.github.io/</id>
  
  <author>
    <name>Jiafeng Liao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Random Pick</title>
    <link href="https://jliao011.github.io/2018/07/26/random/"/>
    <id>https://jliao011.github.io/2018/07/26/random/</id>
    <published>2018-07-27T01:17:26.000Z</published>
    <updated>2018-07-31T23:41:48.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Reservoir-Sampling"><a href="#Reservoir-Sampling" class="headerlink" title="Reservoir Sampling"></a>Reservoir Sampling</h1><h2 id="choose-k-samples-randomly-from-stream"><a href="#choose-k-samples-randomly-from-stream" class="headerlink" title="choose k samples randomly from stream"></a>choose k samples randomly from stream</h2><p>Randomly choosing <em>k</em> samples from a list of <em>n</em> items, where <em>n</em> is either a very large or unknown number. We are given a big array (or stream) of numbers (to simplify), and we need to write an efficient function to randomly select <em>k</em> numbers where <em>1 &lt;= k &lt;= n</em>. Let the input array be <em>stream[].</em></p><p><strong>How does this work?</strong></p><p><strong>Case 1: For last n-k stream items, i.e., for stream[i] where k &lt;= i &lt; n</strong> </p><p>for item i in (k,n), it’s chosen <strong>P = k / i</strong>, </p><p>then for item i+1 not choose same as i:  <strong>P=i/i+1</strong>, </p><p>then for item i+2 not choose same as i : <strong>P=i+1/i+2</strong></p><p>So for item in (k,n), <strong>P = k/i <em> (i/i+1) </em> (i+1/i+2) * … (n-1/n) = k/n</strong></p><p><strong>Case 2: For first k stream items, i.e., for stream[i] where 0 &lt;= i &lt; k</strong><br>The first <em>k</em> items are initially copied to <em>reservoir[]</em> and may be removed later</p><p>for item in (0,k), it’s not chosen to be replaced <strong>P=(k/k+1) <em> (k+1/k+2) </em> … * (n-1/n) = k/n</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] selectK(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="comment">// nums could be very large</span></span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="comment">// init result</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;k; ++i) </span><br><span class="line">result[i] = nums[i];</span><br><span class="line"><span class="comment">// random replacement</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=k; i&lt;nums.length; ++i) &#123;</span><br><span class="line"><span class="comment">// pick idx from 0 to i</span></span><br><span class="line"><span class="keyword">int</span> idx = random.nextInt(i+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span>(idx &lt; k)</span><br><span class="line">result[idx] = nums[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="398-random-pick-index"><a href="#398-random-pick-index" class="headerlink" title="398. random pick index"></a>398. random pick index</h2><p>Given an array of integers with possible duplicates, randomly output the index of a given target number. You can assume that the given target number must exist in the array.</p><p><strong>Note:</strong><br>The array size can be very large. Solution that uses too much extra space will not pass the judge.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">int[] nums = new int[] &#123;1,2,3,3,3&#125;;</span><br><span class="line">Solution solution = new Solution(nums);</span><br><span class="line"></span><br><span class="line">// pick(3) should return either index 2, 3, or 4 randomly. Each index should have equal probability of returning.</span><br><span class="line">solution.pick(3);</span><br><span class="line"></span><br><span class="line">// pick(1) should return 0. Since in the array only nums[0] is equal to 1.</span><br><span class="line">solution.pick(1);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] nums;</span><br><span class="line">    Random random;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;    </span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = -<span class="number">1</span>, count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] != target)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// x target, each 1/x probability</span></span><br><span class="line">            <span class="keyword">if</span>(random.nextInt(++count) == <span class="number">0</span>)</span><br><span class="line">                <span class="comment">// == count - 1 works as well</span></span><br><span class="line">                idx = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Select-a-random-number-from-stream-with-O-1-space"><a href="#Select-a-random-number-from-stream-with-O-1-space" class="headerlink" title="Select a random number from stream, with O(1) space"></a>Select a random number from stream, with O(1) space</h2><p>Given a stream of numbers, generate a random number from the stream. You are allowed to use only O(1) space and the input is in the form of stream, so can’t store the previously seen numbers.</p><p><strong>1)</strong> Initialize ‘count’ as 0, ‘count’ is used to store count of numbers seen so far in stream. </p><p><strong>2)</strong> For each number ‘x’ from stream, do following </p><p>​    <strong>a)</strong> Increment ‘count’ by 1. </p><p>​    <strong>b)</strong> If count is 1, set result as x, and return result. </p><p>​    <strong>c)</strong> Generate a random number from 0 to ‘count-1’. Let the generated random number be i. </p><p>​    <strong>d)</strong> If i is equal to ‘count – 1’, update the result as x.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// input element from stream</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">selectRandom</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">if</span> (count == <span class="number">1</span>)</span><br><span class="line">result = x;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="comment">// i from o to count - 1</span></span><br><span class="line"><span class="keyword">int</span> i = random.nextInt(count);</span><br><span class="line"><span class="keyword">if</span> (i == count - <span class="number">1</span>) <span class="comment">// i == 0 works as well</span></span><br><span class="line"><span class="comment">// set result to x</span></span><br><span class="line"><span class="comment">// probability = 1 / count</span></span><br><span class="line">result = x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Weighted-Random-Sampling"><a href="#Weighted-Random-Sampling" class="headerlink" title="Weighted Random Sampling"></a>Weighted Random Sampling</h1><p>Random choose an element from a dict based on frequency</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Let following be the given numbers.</span><br><span class="line">  arr[] = &#123;10, 30, 20, 40&#125;  </span><br><span class="line"></span><br><span class="line">Let following be the frequencies of given numbers.</span><br><span class="line">  freq[] = &#123;1, 6, 2, 1&#125;  </span><br><span class="line"></span><br><span class="line">The output should be</span><br><span class="line">  10 with probability 1/10</span><br><span class="line">  30 with probability 6/10</span><br><span class="line">  20 with probability 2/10</span><br><span class="line">  40 with probability 1/10</span><br></pre></td></tr></table></figure><p><strong>Using array and binary search:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">weightedSelect</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[] freq)</span> </span>&#123;</span><br><span class="line"><span class="comment">// get accumulated freq sum</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; freq.length; ++i)</span><br><span class="line">freq[i] += freq[i - <span class="number">1</span>];</span><br><span class="line">       Random random = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">int</span> idx = random.nextInt(freq[freq.length - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line"><span class="comment">// uses binary search to find position</span></span><br><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line"><span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (freq[mid] == idx)</span><br><span class="line"><span class="keyword">return</span> nums[mid];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (freq[mid] &lt; idx)</span><br><span class="line">left = mid + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">right = mid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> nums[left];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using TreeMap:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">weightedSelect</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[] freq)</span> </span>&#123;</span><br><span class="line"><span class="comment">// using TreeMap</span></span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">TreeMap&lt;Integer, Integer&gt; treeMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; freq.length; ++i) &#123;</span><br><span class="line">sum += freq[i];</span><br><span class="line">treeMap.put(sum, nums[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> idx = random.nextInt(sum) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> treeMap.ceilingEntry(idx).getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Shuffle-Array"><a href="#Shuffle-Array" class="headerlink" title="Shuffle Array"></a>Shuffle Array</h1><p>Given an array, write a program to generate a random permutation of array elements. </p><p>The idea is to start from the last element, swap it with a randomly selected element from the whole array (including last). Now consider the array from 0 to n-2 (size reduced by 1), and repeat the process till we hit the first element. </p><p>Following is the detailed algorithm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">To shuffle an array a of n elements (indices 0..n-1):</span><br><span class="line">  for i from n - 1 downto 1 do</span><br><span class="line">       j = random integer with 0 &lt;= j &lt;= i</span><br><span class="line">       exchange a[j] and a[i]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shuffle</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; --i) &#123;</span><br><span class="line"><span class="keyword">int</span> j = random.nextInt(i+<span class="number">1</span>); <span class="comment">// shoud i+1 not i</span></span><br><span class="line"><span class="keyword">int</span> temp = nums[i];</span><br><span class="line">nums[i] = nums[j];</span><br><span class="line">nums[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>For position i:</p><p>(1) i is not swapped after shuffle = P(i is not selected from n to i+1) * P(i is selected at i)</p><p><strong>P = (n-1/n <em> n-2/n-1 </em> … <em> i/i+1) </em> (1/i) = 1/n</strong></p><p>(2) i is replaced by j P(j is at i):</p><ol><li>j &lt; i. P = P(i not selected from n to i+1) <em> P(j is selected when i) = (n-1/n </em> n-2/n-1 <em> … </em> i/i+1) * (1/i) = 1/n</li><li>j&gt;i. P = P(j not selected from n to j+1) <em> P(i is selected when j) = (n-1/n </em> n-2/n-1 <em> … </em> j/j+1) * (1/j) = 1/n</li></ol><p><strong>For conclusion, all num from o to n, the possibility to at a position i is 1/n</strong></p><h1 id="Random-pick-with-black-list-LC710"><a href="#Random-pick-with-black-list-LC710" class="headerlink" title="Random pick with black list (LC710)"></a>Random pick with black list (LC710)</h1><p>Given a blacklist <code>B</code> containing unique integers from <code>[0, N)</code>, write a function to return a uniform random integer from <code>[0, N)</code> which is <strong>NOT</strong> in <code>B</code>.</p><p>Optimize it such that it minimizes the call to system’s <code>Math.random()</code>.</p><p><strong>Note:</strong></p><ol><li><code>1 &lt;= N &lt;= 1000000000</code></li><li><code>0 &lt;= B.length &lt; min(100000, N)</code></li><li><code>[0, N)</code> does NOT include N. See <a href="https://en.wikipedia.org/wiki/Interval_(mathematics" target="_blank" rel="noopener">interval notation</a>).</li></ol><p>Suppose N=10, blacklist=[3, 5, 8, 9], re-map 3 and 5 to 7 and 6.</p><p><img src="https://s3-lc-upload.s3.amazonaws.com/users/cafebaby/image_1530657902.png" alt="image"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    Set&lt;Integer&gt; blackSet;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="keyword">int</span> range;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span>[] blacklist)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// B black num, N total, N-B valid</span></span><br><span class="line">        <span class="comment">// map black num [0,N-B] to valid num  [N-B,N]</span></span><br><span class="line">        <span class="comment">// [0,N-B)[N-B,N)</span></span><br><span class="line">        <span class="keyword">this</span>.blackSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> B = blacklist.length;</span><br><span class="line">        <span class="comment">// save black num after N-B</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : blacklist)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= N-B)</span><br><span class="line">                blackSet.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> val = N - B;</span><br><span class="line">        <span class="comment">// map black num before N-B</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : blacklist)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &lt; N - B)&#123;</span><br><span class="line">                <span class="keyword">while</span>(blackSet.contains(val))</span><br><span class="line">                    val ++;</span><br><span class="line">                map.put(num,val++);<span class="comment">// notice ++</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.range = N - B;   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key = <span class="keyword">this</span>.random.nextInt(range);</span><br><span class="line">        <span class="comment">// if contains in black map, return val</span></span><br><span class="line">        <span class="comment">// otherwise valid, return directly</span></span><br><span class="line">        <span class="keyword">return</span> map.getOrDefault(key,key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Use-random-m-to-implement-random-n"><a href="#Use-random-m-to-implement-random-n" class="headerlink" title="Use random(m) to implement random(n)"></a>Use random(m) to implement random(n)</h1><h3 id="Use-random-5-to-implement-random-7"><a href="#Use-random-5-to-implement-random-7" class="headerlink" title="Use random(5) to implement random(7)"></a>Use random(5) to implement random(7)</h3><p>random5() returns[1,5] equal possibility, get random7() (return [1,7])equal possibility.</p><p>random5() =&gt; [1,2,3,4,5]</p><p>5*random5() =&gt; [5,10,15,20,25]</p><p>5*random5() + random5() - 5 =&gt; [1,2,3,…,25]</p><p>then get</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">random7</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">5</span> * random5() + random5() - <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">if</span>(num &lt; <span class="number">22</span>)</span><br><span class="line">        <span class="keyword">return</span> num % <span class="number">7</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> random7();<span class="comment">// recursive call</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="LeetCode-470-Use-random-7-to-implement-random-10"><a href="#LeetCode-470-Use-random-7-to-implement-random-10" class="headerlink" title="LeetCode 470. Use random(7) to implement random(10)"></a>LeetCode 470. Use random(7) to implement random(10)</h3><p>7*rand7() + rand7() - 7 =&gt; [1,49]</p><p>then get[1,40] to get rand10()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// get [1,49]</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">7</span> * rand7() + rand7() -<span class="number">7</span>;</span><br><span class="line">    <span class="comment">// get [1,40]</span></span><br><span class="line">    <span class="keyword">if</span>(num &lt; <span class="number">41</span>)</span><br><span class="line">        <span class="comment">// % get [0,9]</span></span><br><span class="line">        <span class="keyword">return</span> num % <span class="number">10</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> rand10();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Reservoir-Sampling&quot;&gt;&lt;a href=&quot;#Reservoir-Sampling&quot; class=&quot;headerlink&quot; title=&quot;Reservoir Sampling&quot;&gt;&lt;/a&gt;Reservoir Sampling&lt;/h1&gt;&lt;h2 id=&quot;c
      
    
    </summary>
    
      <category term="algorithm" scheme="https://jliao011.github.io/categories/algorithm/"/>
    
    
      <category term="random" scheme="https://jliao011.github.io/tags/random/"/>
    
  </entry>
  
  <entry>
    <title>How is ambiguous overloaded method call resolved in java?</title>
    <link href="https://jliao011.github.io/2018/07/20/java-ambiguous-overloading/"/>
    <id>https://jliao011.github.io/2018/07/20/java-ambiguous-overloading/</id>
    <published>2018-07-20T23:28:47.000Z</published>
    <updated>2018-07-20T23:37:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>Source: <a href="http://javabypatel.blogspot.com/2016/05/ambiguous-method-overloading.html" target="_blank" rel="noopener">http://javabypatel.blogspot.com/2016/05/ambiguous-method-overloading.html</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Object object)</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"Object"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(String string)</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"String"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    print(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://2.bp.blogspot.com/-mZ2E4J_tkzE/VzN4NyIpkbI/AAAAAAAABCE/DTnLNrwRyXA9CoecCh-S3NxFZxb-E5-RQCLcB/s400/ambiguous-method-overloading.PNG" alt="img"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Source: &lt;a href=&quot;http://javabypatel.blogspot.com/2016/05/ambiguous-method-overloading.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://javabyp
      
    
    </summary>
    
      <category term="foundation" scheme="https://jliao011.github.io/categories/foundation/"/>
    
    
      <category term="java" scheme="https://jliao011.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Top K Frequent Element</title>
    <link href="https://jliao011.github.io/2018/07/10/top-k-frequent-element/"/>
    <id>https://jliao011.github.io/2018/07/10/top-k-frequent-element/</id>
    <published>2018-07-10T21:13:23.000Z</published>
    <updated>2018-07-10T22:42:47.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Leetcode-347-Top-K-Frequent-Elements"><a href="#Leetcode-347-Top-K-Frequent-Elements" class="headerlink" title="Leetcode 347. Top K Frequent Elements"></a>Leetcode 347. Top K Frequent Elements</h2><p>Given a non-empty array of integers, return the <strong>k</strong> most frequent elements.</p><p>For example,<br>Given <code>[1,1,1,2,2,3]</code> and k = 2, return <code>[1,2]</code>.</p><p><strong>Note:</strong> </p><ul><li>You may assume <em>k</em> is always valid, 1 ≤ <em>k</em> ≤ number of unique elements.</li><li>Your algorithm’s time complexity <strong>must be</strong> better than O(<em>n</em> log <em>n</em>), where <em>n</em> is the array’s size.</li></ul><hr><ul><li>Assume n element</li><li>m distinct element</li><li>f is largest frequency</li></ul><h4 id="Method-1-sort-Entry"><a href="#Method-1-sort-Entry" class="headerlink" title="Method 1. sort Entry:"></a>Method 1. sort Entry:</h4><p>Time <strong>O(n + mlogm + klogm)</strong></p><p>Space <strong>O(m + k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">topKFrequent</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">      List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">      Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">          map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o2.getValue() - o1.getValue());</span><br><span class="line">      <span class="keyword">for</span>(Map.Entry&lt;Integer,Integer&gt; entry : map.entrySet())</span><br><span class="line">          heap.offer(entry);</span><br><span class="line">      <span class="keyword">while</span>(k-- &gt; <span class="number">0</span>)</span><br><span class="line">          result.add(heap.poll().getKey());</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="Method-2-bucket-sort"><a href="#Method-2-bucket-sort" class="headerlink" title="Method 2. bucket sort:"></a>Method 2. bucket sort:</h4><p>Time <strong>O(n + k) = O(n)</strong></p><p>Space <strong>O(n + k)</strong></p><p>Optimize: if find the max frequency <strong>f</strong>, Space complexity is <strong>O(f + k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">topKFrequent</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt;[] buckets = <span class="keyword">new</span> List[nums.length+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(Integer key : map.keySet())&#123;</span><br><span class="line">        <span class="keyword">int</span> count = map.get(key);</span><br><span class="line">        <span class="keyword">if</span>(buckets[count] == <span class="keyword">null</span>)</span><br><span class="line">            buckets[count] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        buckets[count].add(key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=buckets.length-<span class="number">1</span>; i&gt;=<span class="number">0</span> &amp;&amp; k&gt;<span class="number">0</span>; --i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(buckets[i] != <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> val : buckets[i])&#123;</span><br><span class="line">                result.add(val);</span><br><span class="line">                k--;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Method-3-build-heap-in-O-m"><a href="#Method-3-build-heap-in-O-m" class="headerlink" title="Method 3. build heap in O(m)"></a>Method 3. build heap in O(m)</h4><p>Time <strong>O(n + m + klogk)</strong></p><p>Space <strong>O(m + k)</strong></p><p>Build map -&gt; build heap from entry collection -&gt; pop top k</p><h4 id="Method-4-min-heap-size-k"><a href="#Method-4-min-heap-size-k" class="headerlink" title="Method 4. min heap size k"></a>Method 4. min heap size k</h4><p>Time <strong>O(n + k + (m-k)logk + klogk)</strong></p><p>Space <strong>O(m + k)</strong></p><p>Build map -&gt; build heap size k in <strong>O(k)</strong> -&gt; iterate over the rest -&gt; pop k result</p><h4 id="Method-3-tree-map"><a href="#Method-3-tree-map" class="headerlink" title="Method 3. tree map:"></a>Method 3. tree map:</h4><p>Time <strong>O(n + mlogm + klogm )</strong></p><p>Space <strong>O(m + k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">topKFrequent</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">      List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">      Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">          map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">TreeMap&lt;Integer,List&lt;Integer&gt;&gt; treeMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> key : map.keySet())&#123;</span><br><span class="line">          <span class="keyword">int</span> freq = map.get(key);</span><br><span class="line">          List&lt;Integer&gt; list = treeMap.get(freq);</span><br><span class="line">          <span class="keyword">if</span>(list == <span class="keyword">null</span>)&#123;</span><br><span class="line">              list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">              treeMap.put(freq,list);</span><br><span class="line">          &#125;</span><br><span class="line">          list.add(key);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">while</span>(result.size() &lt; k)&#123;   <span class="comment">// notice (k-- &gt; 0) wrong</span></span><br><span class="line">          Map.Entry&lt;Integer,List&lt;Integer&gt;&gt; entry = treeMap.pollLastEntry();</span><br><span class="line">          result.addAll(entry.getValue());</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="Leetcode-692-Top-K-Frequent-Words"><a href="#Leetcode-692-Top-K-Frequent-Words" class="headerlink" title="Leetcode 692. Top K Frequent Words"></a>Leetcode 692. Top K Frequent Words</h2><p>Given a non-empty list of words, return the <em>k</em> most frequent elements.</p><p>Your answer should be sorted by frequency from highest to lowest. If two words have the same frequency, then the word with the lower alphabetical order comes first.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;i&quot;, &quot;love&quot;, &quot;leetcode&quot;, &quot;i&quot;, &quot;love&quot;, &quot;coding&quot;], k = 2</span><br><span class="line">Output: [&quot;i&quot;, &quot;love&quot;]</span><br><span class="line">Explanation: &quot;i&quot; and &quot;love&quot; are the two most frequent words.</span><br><span class="line">    Note that &quot;i&quot; comes before &quot;love&quot; due to a lower alphabetical order.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;the&quot;, &quot;day&quot;, &quot;is&quot;, &quot;sunny&quot;, &quot;the&quot;, &quot;the&quot;, &quot;the&quot;, &quot;sunny&quot;, &quot;is&quot;, &quot;is&quot;], k = 4</span><br><span class="line">Output: [&quot;the&quot;, &quot;is&quot;, &quot;sunny&quot;, &quot;day&quot;]</span><br><span class="line">Explanation: &quot;the&quot;, &quot;is&quot;, &quot;sunny&quot; and &quot;day&quot; are the four most frequent words,</span><br><span class="line">    with the number of occurrence being 4, 3, 2 and 1 respectively.</span><br></pre></td></tr></table></figure><hr><ul><li>Assume n element</li><li>m distinct element</li></ul><h4 id="Method-1-sort-entry-using-heap"><a href="#Method-1-sort-entry-using-heap" class="headerlink" title="Method 1. sort entry using heap:"></a>Method 1. sort entry using heap:</h4><p>Time <strong>O(n + mlogm + klogm )</strong></p><p>Space <strong>O(m)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topKFrequent</span><span class="params">(String[] words, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">     List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">     Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">     <span class="keyword">for</span>(String word : words)</span><br><span class="line">         map.put(word,map.getOrDefault(word,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">     PriorityQueue&lt;Map.Entry&lt;String, Integer&gt;&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(o1.getValue() != o2.getValue())</span><br><span class="line"><span class="keyword">return</span> o2.getValue() - o1.getValue();</span><br><span class="line"><span class="keyword">return</span> o1.getKey().compareTo(o2.getKey());</span><br><span class="line">&#125;</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="keyword">for</span>(Map.Entry&lt;String,Integer&gt; entry : map.entrySet())</span><br><span class="line">         heap.offer(entry);</span><br><span class="line">     <span class="keyword">while</span>(k-- &gt; <span class="number">0</span>)</span><br><span class="line">         result.add(heap.poll().getKey());</span><br><span class="line">     <span class="keyword">return</span> result;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="Method-2-better-heap-use-min-heap-instead-of-max-heap"><a href="#Method-2-better-heap-use-min-heap-instead-of-max-heap" class="headerlink" title="Method 2. better heap (use min heap instead of max heap):"></a>Method 2. better heap (use min heap instead of max heap):</h4><p>Time <strong>O(n + mlogk + klogk)</strong></p><p>Space <strong>O(m + k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topKFrequent</span><span class="params">(String[] words, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">     List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">     Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">     <span class="keyword">for</span>(String word : words)</span><br><span class="line">         map.put(word,map.getOrDefault(word,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">     PriorityQueue&lt;Map.Entry&lt;String, Integer&gt;&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;()&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(o1.getValue() != o2.getValue())</span><br><span class="line"><span class="keyword">return</span> o1.getValue() - o2.getValue();</span><br><span class="line"><span class="keyword">return</span> o2.getKey().compareTo(o1.getKey());</span><br><span class="line">&#125;</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="keyword">for</span>(Map.Entry&lt;String,Integer&gt; entry : map.entrySet())&#123;</span><br><span class="line">         heap.offer(entry);</span><br><span class="line">         <span class="keyword">if</span>(heap.size() &gt; k)</span><br><span class="line">             heap.poll();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">while</span>(!heap.isEmpty())</span><br><span class="line">         result.add(heap.poll().getKey());</span><br><span class="line">     Collections.reverse(result);</span><br><span class="line">     <span class="keyword">return</span> result;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="Method-3-bucket-sort"><a href="#Method-3-bucket-sort" class="headerlink" title="Method 3. bucket sort:"></a>Method 3. bucket sort:</h4><p>Time <strong>O(n + m + nlogn)</strong> worst</p><p>Space <strong>O(n + m)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topKFrequent</span><span class="params">(String[] words, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(String word : words)</span><br><span class="line">        map.put(word,map.getOrDefault(word,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    List&lt;String&gt;[] buckets = <span class="keyword">new</span> List[words.length+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(String key : map.keySet())&#123;</span><br><span class="line">        <span class="keyword">int</span> freq = map.get(key);</span><br><span class="line">        <span class="keyword">if</span>(buckets[freq] == <span class="keyword">null</span>)</span><br><span class="line">            buckets[freq] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        buckets[freq].add(key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=buckets.length-<span class="number">1</span>; i&gt;=<span class="number">0</span> &amp;&amp; result.size()&lt;k; --i)&#123;</span><br><span class="line">        List&lt;String&gt; list = buckets[i];</span><br><span class="line">        <span class="keyword">if</span>(list != <span class="keyword">null</span>)&#123;</span><br><span class="line">            Collections.sort(list);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;list.size() &amp;&amp; result.size()&lt;k; ++j)</span><br><span class="line">                result.add(list.get(j));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Leetcode-347-Top-K-Frequent-Elements&quot;&gt;&lt;a href=&quot;#Leetcode-347-Top-K-Frequent-Elements&quot; class=&quot;headerlink&quot; title=&quot;Leetcode 347. Top K 
      
    
    </summary>
    
      <category term="algorithm" scheme="https://jliao011.github.io/categories/algorithm/"/>
    
    
      <category term="sort" scheme="https://jliao011.github.io/tags/sort/"/>
    
  </entry>
  
  <entry>
    <title>Top k largest(smallest) in n elements</title>
    <link href="https://jliao011.github.io/2018/07/08/top-k/"/>
    <id>https://jliao011.github.io/2018/07/08/top-k/</id>
    <published>2018-07-09T03:43:52.000Z</published>
    <updated>2018-07-10T23:02:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Given an unsorted array of length N, find top k largest (smallest) elements. k&lt;&lt;N.</p><h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><h3 id="method-1-sorting"><a href="#method-1-sorting" class="headerlink" title="method 1. sorting:"></a>method 1. sorting:</h3><p>Sort the array, pick first k elements. Time complexity <strong>O(NlogN)</strong>. Since N is large so it’s not efficient enough.</p><p><strong>Time O(NlogN), Space O(k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] topK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">Arrays.sort(nums);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">result[i] = nums[nums.length - <span class="number">1</span> - i];</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="method-2-k-bubble-sort"><a href="#method-2-k-bubble-sort" class="headerlink" title="method 2. k bubble sort:"></a>method 2. k bubble sort:</h3><p>Run bubble sort for <code>k</code> times. Since bubble sort could move the largest (smallest) element to one end of the array, run the outer loop for <code>k</code> times could find the top k largest or smallest element.</p><p>Each inner loop the time complexity is <strong>O(N)</strong>, and run for <code>k</code> loops, so the total time complexity is <strong>O(kN)</strong>.</p><p>Compare to method 1, if <code>k</code> is less than <code>logN</code> then this method is better.</p><p><strong>Time O(kN), Space O(k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] topK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i) &#123; <span class="comment">// k loops</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = nums.length - <span class="number">1</span>; j &gt; <span class="number">0</span>; --j) &#123;</span><br><span class="line"><span class="keyword">if</span> (nums[j] &gt; nums[j - <span class="number">1</span>]) &#123; <span class="comment">// swap</span></span><br><span class="line"><span class="keyword">int</span> temp = nums[j];</span><br><span class="line">nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">nums[j - <span class="number">1</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">result[i] = nums[i];</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="method-3-arbitrary-k-temp-result"><a href="#method-3-arbitrary-k-temp-result" class="headerlink" title="method 3. arbitrary k temp result:"></a>method 3. arbitrary k temp result:</h3><p>Build a temporary result (find largest k)</p><ol><li>Store first k element in a list.</li><li>Find the smallest element in this list <strong>O(k)</strong></li><li>Traverse the rest element <strong>O(N-k)</strong>, if it’s larger than the smallest element in first k, remove the previous smallest, add the current, and find the smallest again <strong>O(k)</strong></li><li>Return the result, <strong>Time complexity: O((N-k)k), if output is sorted: O((N-k)k + klogk). Space O(k).</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] topK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line"><span class="keyword">int</span> min = Integer.MAX_VALUE, minIdx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i) &#123;</span><br><span class="line">result[i] = nums[i];</span><br><span class="line"><span class="keyword">if</span> (nums[i] &lt; min) &#123;</span><br><span class="line">min = nums[i];</span><br><span class="line">minIdx = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; nums.length; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (nums[i] &gt; min) &#123;</span><br><span class="line">result[minIdx] = nums[i];</span><br><span class="line">min = nums[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; ++j) &#123;</span><br><span class="line"><span class="keyword">if</span> (result[j] &lt; min) &#123;</span><br><span class="line">min = result[j];</span><br><span class="line">minIdx = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Arrays.sort(result);</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="method-4-max-heap-to-find-top-k"><a href="#method-4-max-heap-to-find-top-k" class="headerlink" title="method 4. max heap to find top k:"></a>method 4. max heap to find top k:</h3><ol><li>Build heap from collection takes <strong>O(N)</strong>, explain later.</li><li>Poll from the max heap <code>k</code> times, each time takes <strong>O(logN)</strong></li><li>Return the result, <strong>Time O(N + klogN), Space O(N)</strong>. If <code>k &lt; N/logN</code>, then the runtime is proximately <strong>O(N)</strong>.</li></ol><h4 id="Time-complexity-of-heap"><a href="#Time-complexity-of-heap" class="headerlink" title="Time complexity of heap:"></a>Time complexity of heap:</h4><p>In java PriorityQueue class, the heap initialized from a collection:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initFromCollection</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">    initElementsFromCollection(c);</span><br><span class="line">    heapify();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = (size &gt;&gt;&gt; <span class="number">1</span>) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        siftDown(i, (E) queue[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>siftDown</code> method takes <code>logn</code> time, seems the time complexity is <code>O(n/2 * logn)</code>. But for a heap tree, assume the depth is <code>h</code>, total number of node <code>n = 2^h-1</code>, number of leaves <code>2^(h-1)</code>, approximately <code>n/2</code> nodes, since when doing the heapify, leaves are not considered, the <code>siftDown</code> is called from its above level, which has <code>2^(h-2)= n/4</code> nodes. At this level, if every node is sifted down, the total call is <code>1 * n/4</code>. Above this level, there are <code>n/8</code> nodes, and each node would be sifted down at most 2 levels, so total call is <code>2 * n/8</code>……… So while doing the heapify function, the total call is <code>1*n/4 + 2*n/8 + 3*n/16 + ... + logn*n/2^(logn+1) = n*(1/4+2/8+3/16+...+h/2^(h-1)) &lt;= 2n</code>, so the time complexity is <strong>O(n)</strong>.</p><p>If insert into heap one by one, the time complexity should be <strong>O(nlogn)</strong>. </p><p><strong>Implementation:</strong></p><p>Java PriorityQueue doesn’t allow to init like <code>new PriorityQueue&lt;&gt;(Collection,Comparator)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] topK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">List&lt;Integer&gt; collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> num : nums)</span><br><span class="line">collection.add(num);</span><br><span class="line"><span class="comment">// cannot init using another comparator, so return min K</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(collection);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">result[i] = heap.poll();</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://visualgo.net/en/heap" target="_blank" rel="noopener"><strong>visualization</strong></a></p><p><strong>references:</strong></p><p><a href="https://www.quora.com/Does-Javas-PriorityQueue-constructor-with-a-collection-build-a-heap-in-linear-time" target="_blank" rel="noopener">https://www.quora.com/Does-Javas-PriorityQueue-constructor-with-a-collection-build-a-heap-in-linear-time</a></p><p><a href="https://stackoverflow.com/questions/9755721/how-can-building-a-heap-be-on-time-complexity" target="_blank" rel="noopener">https://stackoverflow.com/questions/9755721/how-can-building-a-heap-be-on-time-complexity</a></p><p><a href="https://www.geeksforgeeks.org/time-complexity-of-building-a-heap/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/time-complexity-of-building-a-heap/</a></p><h3 id="method-5-min-heap-to-find-max-top-k"><a href="#method-5-min-heap-to-find-max-top-k" class="headerlink" title="method 5. min heap to find max top k:"></a>method 5. min heap to find max top k:</h3><ol><li>Init a min heap using first k element in time <strong>O(k)</strong></li><li>Traverse the rest in time <strong>O(n-k)</strong><ol><li>If element is less than top of min heap, ignore. <strong>O(1)</strong></li><li>If element is larger than top of min heap, poll the top and offer current. <strong>O(logk)</strong></li></ol></li><li>Finally element in the min heap are max top k.</li><li>Time complexity <strong>O(k + (n-k)logk)</strong>.</li></ol><p>Compared to method 4, which could reach <code>O(n)</code>, this method is larger than <code>O(n)</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] topK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">list.add(nums[i]);</span><br><span class="line"><span class="comment">// min heap to find top k</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; nums.length; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (nums[i] &gt; heap.peek()) &#123;</span><br><span class="line">heap.poll();</span><br><span class="line">heap.offer(nums[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">result[i] = heap.poll();</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Another method using heap: </strong></p><p><strong>(if cannot use size k collection to build max heap when find min k)</strong></p><ol><li>Init a max heap</li><li>Add element to heap, if size larger than k, pop</li></ol><p>Time <strong>O(nlogk)</strong></p><p>Space <strong>O(k)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] minK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line"><span class="comment">// max heap to find min k</span></span><br><span class="line">PriorityQueue&lt;Integer&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(k, Collections.reverseOrder());</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">heap.offer(nums[i]);</span><br><span class="line"><span class="keyword">if</span> (heap.size() &gt; k)</span><br><span class="line">heap.poll();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">result[i] = heap.poll();</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="method-6-quick-select"><a href="#method-6-quick-select" class="headerlink" title="method 6. quick select:"></a>method 6. quick select:</h3><ol><li>Use quick select method to find the kth largest element, then right side of kth element are all larger than k. <strong>Time complexity O(n)</strong>.</li><li>If sorted result, then <strong>Time complexity is O(n + klogk)</strong>.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] topK(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line"><span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line"><span class="keyword">int</span> pivot = partition(nums, left, right);</span><br><span class="line"><span class="keyword">if</span> (pivot == k - <span class="number">1</span>)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pivot &lt; k - <span class="number">1</span>)</span><br><span class="line">left = pivot + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">right = pivot - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">result[i] = nums[i];</span><br><span class="line">Arrays.sort(result);</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">swap(nums, mid, right);</span><br><span class="line"><span class="keyword">int</span> pivot = left - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = left; i &lt; right; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (nums[i] &gt;= nums[right])</span><br><span class="line">swap(nums, ++pivot, i);</span><br><span class="line">&#125;</span><br><span class="line">swap(nums, ++pivot, right);</span><br><span class="line"><span class="keyword">return</span> pivot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = nums[i];</span><br><span class="line">nums[i] = nums[j];</span><br><span class="line">nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Problems"><a href="#Problems" class="headerlink" title="Problems:"></a>Problems:</h2><blockquote><p>There are total n people, allocate k of n to place A, and the rest to place B. Given a <code>int[2]</code> like <code>[300,500]</code>, represent that the relocation fee to A is 300 and to B is 500. Calculate the min cost for allocation.</p></blockquote><p>This could be a problem of find min k question. Said <code>tuple = [300,500]</code> is the cost for one person. Then <code>tuple[0]</code> is the fee to A, <code>tuple[1]</code> is the fee to B. Assume allocate this person to A, the cost is <code>tuple[0] == 300</code>, then the difference <code>tuple[0] - tuple[1]</code> is how much the cost increase if we move this person from B to A. If it’s negative means that keeps this person in A will decrease the cost. If we sorted the input list based on the difference <code>(o1,o2) -&gt;((o1[1]-o1[2])-(o2[1]-o2[2]))</code>, we could get the result. Assume we put  arbitrary k people to A, then how to minimize the cost? We move people from A to B, whose cost decrease <code>tuple[0]-tuple[1]</code> is the largest. After we find the first k min tuple, they should at A, the rest at B. </p><p><strong>Sort:</strong> time complexity <code>O(nlogn)</code> space <code>O(1)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minCost</span><span class="params">(<span class="keyword">int</span>[][] person, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> cost = <span class="number">0</span>;</span><br><span class="line">Arrays.sort(person, (o1, o2) -&gt; ((o1[<span class="number">0</span>] - o1[<span class="number">1</span>]) - (o2[<span class="number">0</span>] - o2[<span class="number">1</span>])));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i)</span><br><span class="line">cost += person[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt; person.length; ++i)</span><br><span class="line">cost += person[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> cost;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Max heap to get min k:</strong></p><p>Assume put k person to A, then check rest <code>n-k</code> person, if the cost drops larger, move it to A, poll the top move to B.</p><p><strong>Time complexity:</strong> build max heap size k <code>O(klogk)</code> from scratch,  check and poll top <code>O((n-k)logk)</code></p><p>Total is <code>O(nlogk)</code></p><p>If could build max heap from collection, time is <code>O(k)</code>, and traverse rest <code>n-k</code> is <code>O((n-k)logk)</code>, total is <code>O(k + (n-k)logk)</code> will be better.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minCost</span><span class="params">(<span class="keyword">int</span>[][] person, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> cost = <span class="number">0</span>;</span><br><span class="line">PriorityQueue&lt;<span class="keyword">int</span>[]&gt; maxHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(k, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1, <span class="keyword">int</span>[] o2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (o2[<span class="number">0</span>] - o2[<span class="number">1</span>]) - (o1[<span class="number">0</span>] - o1[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span>[] p : person) &#123;</span><br><span class="line"><span class="keyword">if</span> (maxHeap.size() &lt; k) &#123;</span><br><span class="line"><span class="comment">// allocate first k to A</span></span><br><span class="line">maxHeap.offer(p);</span><br><span class="line">cost += p[<span class="number">0</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// for rest in B</span></span><br><span class="line">cost += p[<span class="number">1</span>]; <span class="comment">// to B first</span></span><br><span class="line"><span class="keyword">int</span>[] top = maxHeap.peek();</span><br><span class="line"><span class="keyword">if</span> (p[<span class="number">0</span>] - p[<span class="number">1</span>] &lt; top[<span class="number">0</span>] - top[<span class="number">1</span>]) &#123;</span><br><span class="line"><span class="comment">// cost decrease if move top to B</span></span><br><span class="line">cost += -top[<span class="number">0</span>] + top[<span class="number">1</span>];</span><br><span class="line">maxHeap.poll();</span><br><span class="line">maxHeap.offer(p);</span><br><span class="line">cost += p[<span class="number">0</span>] - p[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cost;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h2><p><a href="http://www.ardendertat.com/2011/05/30/my-favorite-interview-question/" target="_blank" rel="noopener">http://www.ardendertat.com/2011/05/30/my-favorite-interview-question/</a></p><p><a href="https://www.geeksforgeeks.org/k-largestor-smallest-elements-in-an-array/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/k-largestor-smallest-elements-in-an-array/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Question&quot;&gt;&lt;a href=&quot;#Question&quot; class=&quot;headerlink&quot; title=&quot;Question&quot;&gt;&lt;/a&gt;Question&lt;/h2&gt;&lt;p&gt;Given an unsorted array of length N, find top 
      
    
    </summary>
    
      <category term="algorithm" scheme="https://jliao011.github.io/categories/algorithm/"/>
    
    
      <category term="heap" scheme="https://jliao011.github.io/tags/heap/"/>
    
  </entry>
  
  <entry>
    <title>Greatest Common Divisor</title>
    <link href="https://jliao011.github.io/2018/06/25/gcd/"/>
    <id>https://jliao011.github.io/2018/06/25/gcd/</id>
    <published>2018-06-25T07:59:52.000Z</published>
    <updated>2018-07-10T03:29:36.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="GCD-of-2-integer"><a href="#GCD-of-2-integer" class="headerlink" title="GCD of 2 integer"></a>GCD of 2 integer</h3><p><strong>recursive call</strong>: put smaller number first</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    <span class="keyword">return</span> gcd(b % a, a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>example:</p><p><code>gcd(12,18)</code>=&gt; <code>gcd(6,12)</code>=&gt;<code>gcd(0,6)</code>=&gt;<code>6</code></p><p><code>gcd(8,2)</code>=&gt;<code>gcd(2,8)</code>=&gt;<code>gcd(0,2)</code>=&gt;<code>2</code></p><h3 id="GCD-of-an-int-array"><a href="#GCD-of-an-int-array" class="headerlink" title="GCD of an int array"></a>GCD of an int array</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gcd(a, b, c) = gcd(a, gcd(b, c)) </span><br><span class="line">             = gcd(gcd(a, b), c) </span><br><span class="line">             = gcd(gcd(a, c), b)</span><br></pre></td></tr></table></figure><p><strong>assume valid input, no 0s</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> result = nums[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; ++i)</span><br><span class="line">result = gcd(result, nums[i]);</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Question"><a href="#Question" class="headerlink" title="Question:"></a>Question:</h3><h4 id="can-reach"><a href="#can-reach" class="headerlink" title="can reach:"></a>can reach:</h4><blockquote><p>Given 2 points <code>(x1,y1)</code>, <code>(x2,y2)</code>, determine whether point1 can move to point2.</p></blockquote><p>Assume </p><p>Rules: <code>(x1,y1)</code> =&gt; <code>(x1+y1,y1)</code> or  <code>(x1,y1)</code> =&gt; <code>(x1,y1+x1)</code></p><p><strong>first thought</strong> (TLE)</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canReach</span><span class="params">(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x1 &gt; x2 || y1 &gt; y2)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">if</span>(x1 == x2 &amp;&amp; y1 == y2)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span> canReach(x1+y1, y1, x2, y2) || canReach(x1, y1+x1, x2, y2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>from point2 to point1 would be better</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canReach</span><span class="params">(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x1 &gt; x2 || y1 &gt; y2)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">if</span>(x1 == x2 &amp;&amp; y1 == y2)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span> canReach(x1, y1, x2-y2, y2) || canReach(x1, y1, x2, y2-x2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>optimize in path</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canReach</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (x1 &gt; x2 || y1 &gt; y2)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">if</span> (x1 == x2 &amp;&amp; y1 == y2)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">if</span> (x1 == x2 || y1 == y2) &#123;</span><br><span class="line"><span class="keyword">if</span> (x1 == x2 &amp;&amp; (y2 - y1) % x1 == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (y1 == y2 &amp;&amp; (x2 - x1) % y1 == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> canReach(x1, y1, x2 - y2, y2) || canReach(x1, y1, x2, y2 - x2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>GCD</strong></p><p>According to the definition of Greatest Common Divisior, if m is any integer, then <code>gcd(a + m * b, b) = gcd(a, b)</code>. Therefore, the gcd of (a + b, b), (a, a + b), (a - b, b) and (a, a - b) will be the same as the gcd of (a, b). Therefore, in order to move to the target point, the gcd of the target point should be equal to the gcd of the starting point.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canReach</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> gcd(x1, y1)== gcd(x2, y2); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Leetcode-149-Max-points-on-a-line"><a href="#Leetcode-149-Max-points-on-a-line" class="headerlink" title="Leetcode 149. Max points on a line"></a>Leetcode 149. Max points on a line</h4><blockquote><p>Given <em>n</em> points on a 2D plane, find the maximum number of points that lie on the same straight line.</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a point.</span></span><br><span class="line"><span class="comment"> * class Point &#123;</span></span><br><span class="line"><span class="comment"> *     int x;</span></span><br><span class="line"><span class="comment"> *     int y;</span></span><br><span class="line"><span class="comment"> *     Point() &#123; x = 0; y = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Point(int a, int b) &#123; x = a; y = b; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(Point[] points)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// use O(n^2) to find all pair, store slope as key</span></span><br><span class="line">        <span class="keyword">if</span>(points == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// map: slope as key, count as val</span></span><br><span class="line">        Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// loop over all points</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;points.length; ++i)&#123;</span><br><span class="line">            <span class="comment">// check all lines with i and j</span></span><br><span class="line">            <span class="comment">// find max point on a line except i and overlap</span></span><br><span class="line">            <span class="keyword">int</span> max = <span class="number">0</span>, overlap = <span class="number">0</span>;</span><br><span class="line">            map.clear();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;points.length; ++j)&#123;</span><br><span class="line">                <span class="comment">// x,y pair as slope</span></span><br><span class="line">                <span class="keyword">int</span> x = points[j].x - points[i].x;</span><br><span class="line">                <span class="keyword">int</span> y = points[j].y - points[i].y;</span><br><span class="line">                <span class="keyword">if</span>(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>)&#123;   <span class="comment">// points overlap</span></span><br><span class="line">                    overlap ++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> gcd = getGCD(x,y);</span><br><span class="line">                <span class="comment">// vertical and horizontal covered</span></span><br><span class="line">                x /= gcd;</span><br><span class="line">                y /= gcd;</span><br><span class="line">                String key = x + <span class="string">","</span> + y;</span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(key))</span><br><span class="line">                    map.put(key,map.get(key)+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    map.put(key,<span class="number">1</span>);</span><br><span class="line">                <span class="comment">// max for one start point</span></span><br><span class="line">                max = Math.max(max,map.get(key));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// start point + other point on line + same as start</span></span><br><span class="line">            result = Math.max(result,max+overlap+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getGCD</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a == <span class="number">0</span> ? b : getGCD(b%a,a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;GCD-of-2-integer&quot;&gt;&lt;a href=&quot;#GCD-of-2-integer&quot; class=&quot;headerlink&quot; title=&quot;GCD of 2 integer&quot;&gt;&lt;/a&gt;GCD of 2 integer&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;recurs
      
    
    </summary>
    
      <category term="algorithm" scheme="https://jliao011.github.io/categories/algorithm/"/>
    
    
  </entry>
  
  <entry>
    <title>Java Stack vs Heap</title>
    <link href="https://jliao011.github.io/2018/06/23/java-stack-vs-heap/"/>
    <id>https://jliao011.github.io/2018/06/23/java-stack-vs-heap/</id>
    <published>2018-06-24T01:29:46.000Z</published>
    <updated>2018-07-15T21:52:52.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="What-Is-Java-Stack"><a href="#What-Is-Java-Stack" class="headerlink" title="What Is Java Stack?"></a>What Is Java Stack?</h4><p>A Java stack is part of your computer’s memory where <strong>temporary variables</strong>, which are created by all functions you do, are stored. It is used to execute a thread and may have certain short-lived values as well as references to other objects. It uses LIFO data structure, or <a href="http://www.journaldev.com/4098/java-heap-space-vs-stack-memory" target="_blank" rel="noopener">last in first out</a>.</p><p>What does this mean? When a method is invoked, it creates a new block in the stack for that particular method. The new block will have all the local values, as well as references to other objects that are being used by the method. When the method ends, the new block will be erased and will be available for use by the next method. The objects you find here are only accessible to that particular function and will not live beyond it.</p><p>This makes it very easy to keep track of the stack, where the latest reserved block is also the first to be freed. The variables created for the method are directly stored in the memory, allowing for fast access.</p><p>The memory size of a Java stack is generally much less than in a Java heap space because when a method ends, all the variables created on the stack are erased forever.</p><h4 id="What-Is-Java-Heap"><a href="#What-Is-Java-Heap" class="headerlink" title="What Is Java Heap?"></a>What Is Java Heap?</h4><p>Java objects are in an area, which is called the heap. It is created when the program is run, and its size may decrease or increase as your program runs. It can easily become full, and when it does, garbage collection is initiated. This is when objects that are no longer used are deleted to make way for new objects.</p><p>Unlike in a Java <strong>stack where memory allocation is done when your program is compiled</strong>, in <strong>a heap it is allocated as your program is run</strong>. Accessing variables placed here is a bit slower compared to a stack’s direct and fast access.</p><p>Heap is likened to a <a href="https://www.quora.com/How-is-java-memory-pool-divided" target="_blank" rel="noopener">global memory pool</a>. A method or function will use the heap for memory allocation if you need the data or variables to live longer than the method or function in question. The objects you find here are accessible to all the functions.</p><p>Also, there is no specific order in reserving blocks in a heap. You can allocate blocks at any time, and then you can free it when you wish. As you can imagine, it is much more complex to keep track of the parts that are free and can be allocated, but it can also be divided into two generations or sub-areas.</p><p>These sub-areas are called the young space (or nursery) and the old space. The young space is typically earmarked for the memory allocation for new objects. When the young space becomes full, <a href="https://stackify.com/what-is-java-garbage-collection/" target="_blank" rel="noopener">garbage collection</a> happens. Short-lived or temporary objects typically use the young space. This help makes garbage collection faster when compared to a heap without any divisions.</p><h4 id="When-to-use"><a href="#When-to-use" class="headerlink" title="When to use?"></a>When to use?</h4><p><strong>Where is it stored?</strong> Variables that are allocated on the <strong>stack</strong> are accessible directly from memory, and as such, these can run very <strong>fast</strong>. Accessing objects on the <strong>heap</strong>, on the other hand, takes <strong>more time</strong>.</p><p><strong>When does the allocation happen?</strong> On the <strong>stack</strong>, memory allocation happens when the program is <strong>compiled</strong>. Meanwhile, on the <strong>heap</strong>, it begins when the program is <strong>run</strong>.</p><p><a href="https://softwareengineering.stackexchange.com/questions/65281/stack-and-heap-memory-in-java" target="_blank" rel="noopener"><strong>When do you use stack?</strong> </a> <strong>Stack</strong> can only be used for <strong>local variables</strong> that use up small amounts of memory. The good news is that memory allocation and management is not going to be your problem and access to these objects is very fast. It does suffer from size limitations and the fact that you cannot resize variables on the stack.</p><p><a href="https://softwareengineering.stackexchange.com/questions/65281/stack-and-heap-memory-in-java" target="_blank" rel="noopener"><strong>When do you use heap?</strong></a> You use the heap to allocate memory if there are <strong>variables</strong> that you need to be <strong>accessed globally</strong>, as opposed to just being available only to the methods and functions that created it. Heap is also good when you have a need for a lot of memory since it has no limit on memory size. You can also resize the variables on the heap.</p><h4 id="Difference-between-Java-Heap-Space-and-Stack-Memory"><a href="#Difference-between-Java-Heap-Space-and-Stack-Memory" class="headerlink" title="Difference between Java Heap Space and Stack Memory"></a>Difference between Java Heap Space and Stack Memory</h4><p>Based on the above explanations, we can easily conclude following differences between Heap and Stack memory.</p><ol><li><strong>Heap</strong> memory is used by <strong>all the parts of the application</strong> whereas <strong>stack</strong> memory is used only by <strong>one thread</strong> of execution.</li><li>Whenever an <strong>object</strong> is created, it’s always stored in the <strong>Heap</strong> space and <strong>stack</strong> memory contains the <strong>reference</strong> to it. <strong>Stack</strong> memory only contains <strong>local primitive</strong> variables and <strong>reference</strong> variables to objects in heap space. (<strong>Always pass by  value in stack</strong>)</li><li>Objects stored in the heap are globally accessible whereas stack memory can’t be accessed by other threads.</li><li>Memory management in stack is done in LIFO manner whereas it’s more complex in Heap memory because it’s used globally. Heap memory is divided into Young-Generation, Old-Generation etc, more details at <a href="https://www.journaldev.com/2856/java-jvm-memory-model-memory-management-in-java" target="_blank" rel="noopener">Java Garbage Collection</a>.</li><li>Stack memory is short-lived whereas heap memory lives from the start till the end of application execution.</li><li>We can use <strong>-Xms</strong> and <strong>-Xmx</strong> JVM option to define the startup size and maximum size of heap memory. We can use <strong>-Xss</strong> to define the stack memory size.</li><li>When stack memory is full, Java runtime throws <code>java.lang.StackOverFlowError</code> whereas if heap memory is full, it throws <code>java.lang.OutOfMemoryError: Java Heap Space</code> error.</li><li><strong>Stack</strong> memory size is very <strong>less</strong> when compared to <strong>Heap</strong> memory. Because of simplicity in memory allocation (LIFO), stack memory is very fast when compared to heap memory.</li></ol><h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><p><a href="https://dzone.com/articles/stack-vs-heap-understanding-java-memory-allocation" target="_blank" rel="noopener">https://dzone.com/articles/stack-vs-heap-understanding-java-memory-allocation</a></p><p><a href="https://www.journaldev.com/4098/java-heap-space-vs-stack-memory" target="_blank" rel="noopener">https://www.journaldev.com/4098/java-heap-space-vs-stack-memory</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;What-Is-Java-Stack&quot;&gt;&lt;a href=&quot;#What-Is-Java-Stack&quot; class=&quot;headerlink&quot; title=&quot;What Is Java Stack?&quot;&gt;&lt;/a&gt;What Is Java Stack?&lt;/h4&gt;&lt;p&gt;A Ja
      
    
    </summary>
    
      <category term="foundation" scheme="https://jliao011.github.io/categories/foundation/"/>
    
    
      <category term="java" scheme="https://jliao011.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>What happens when you type an URL in the browser and press enter?</title>
    <link href="https://jliao011.github.io/2018/06/23/url-flow/"/>
    <id>https://jliao011.github.io/2018/06/23/url-flow/</id>
    <published>2018-06-24T01:13:20.000Z</published>
    <updated>2018-06-24T01:18:00.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-You-type-maps-google-com-into-the-address-bar-of-your-browser"><a href="#1-You-type-maps-google-com-into-the-address-bar-of-your-browser" class="headerlink" title="1. You type maps.google.com into the address bar of your browser."></a>1. You type maps.google.com into the address bar of your browser.</h4><h4 id="2-The-browser-checks-the-cache-for-a-DNS-record-to-find-the-corresponding-IP-address-of-maps-google-com"><a href="#2-The-browser-checks-the-cache-for-a-DNS-record-to-find-the-corresponding-IP-address-of-maps-google-com" class="headerlink" title="2. The browser checks the cache for a DNS record to find the corresponding IP address of maps.google.com."></a>2. The browser checks the cache for a DNS record to find the corresponding IP address of maps.google.com.</h4><p>DNS(Domain Name System) is a database that maintains the name of the website (URL) and the particular IP address it links to. Every single URL on the internet has a unique IP address assigned to it. The IP address belongs to the computer which hosts the server of the website we are requesting to access. DNS is a list of URLs and their IP addresses just like how a phone book is a list of names and their corresponding phone numbers.</p><p>The main purpose of DNS is human-friendly navigation. You can easily access a website by typing the correct IP address for it on your browser but imagine having to remember different sets of numbers for all the websites we regularly access? Therefore, it is easier to remember the name of the website using an URL and let DNS do the work for us with mapping it to the correct IP.</p><p>In order to find the DNS record, the browser checks four caches.</p><p>● First, it checks the browser cache. The browser maintains a repository of DNS records for a fixed duration for websites you have previously visited. So, it is the first place to run a DNS query.</p><p>● Second, the browser checks the OS cache. If it is not found in the browser cache, the browser would make a system call (i.e. <em>gethostname</em> on Windows) to your underlying computer OS to fetch the record since the OS also maintains a cache of DNS records.</p><p>● Third, it checks the router cache. If it’s not found on your computer, the browser would communicate with the router that maintains its’ own cache of DNS records.</p><p>● Fourth, it checks the ISP(Internet Service Provider) cache. If all steps fail, the browser would move on to the ISP. Your ISP maintains its’ own DNS server which includes a cache of DNS records which the browser would check with the last hope of finding your requested URL.</p><h4 id="3-If-the-requested-URL-is-not-in-the-cache-ISP’s-DNS-server-initiates-a-DNS-query-to-find-the-IP-address-of-the-server-that-hosts-maps-google-com"><a href="#3-If-the-requested-URL-is-not-in-the-cache-ISP’s-DNS-server-initiates-a-DNS-query-to-find-the-IP-address-of-the-server-that-hosts-maps-google-com" class="headerlink" title="3. If the requested URL is not in the cache, ISP’s DNS server initiates a DNS query to find the IP address of the server that hosts maps.google.com."></a>3. If the requested URL is not in the cache, ISP’s DNS server initiates a DNS query to find the IP address of the server that hosts maps.google.com.</h4><p>As mentioned earlier, in order for my computer to connect with the server that hosts maps.google.com, I need the IP address of maps.google.com. The purpose of a DNS query is to search multiple DNS servers on the internet until it finds the correct IP address for the website. This type of search is called a recursive search since the search will continue repeatedly from DNS server to DNS server until it either finds the IP address we need or returns an error response saying it was unable to find it.</p><p>In this situation, we would call the ISP’s DNS server a DNS recursor whose responsibility is to find the proper IP address of the intended domain name by asking other DNS servers on the internet for an answer. The other DNS servers are called name servers since they perform a DNS search based on the domain architecture of the website domain name.</p><p><img src="https://cdn-images-1.medium.com/max/1600/0*udK6jZ3PjlhjqW8U.png" alt="img"></p><p>Many website URLs we encounter today contain a third-level domain, a second-level domain, and a top-level domain. Each of these levels contains their own name server which is queried during the DNS lookup process.</p><p>For maps.google.com, first, the DNS recursor will contact the root name server. The root name server will redirect it to <strong>.com</strong> domain name server. <strong>.com</strong> name server will redirect it to <strong>google.com</strong> name server. <strong>google.com</strong> name server will find the matching IP address for maps.google.com in its’ DNS records and return it to your DNS recursor which will send it back to your browser.</p><p>These requests are sent using small data packets which contain information such as the content of the request and the IP address it is destined for (IP address of the DNS recursor). These packets travel through multiple networking equipment between the client and the server before it reaches the correct DNS server. This equipment use routing tables to figure out which way is the fastest possible way for the packet to reach its’ destination. If these packets get lost you’ll get a request failed error. Otherwise, they will reach the correct DNS server, grab the correct IP address, and come back to your browser.</p><h4 id="4-Browser-initiates-a-TCP-connection-with-the-server"><a href="#4-Browser-initiates-a-TCP-connection-with-the-server" class="headerlink" title="4. Browser initiates a TCP connection with the server."></a>4. Browser initiates a TCP connection with the server.</h4><p>Once the browser receives the correct IP address it will build a connection with the server that matches IP address to transfer information. Browsers use internet protocols to build such connections. There are a number of different internet protocols which can be used but TCP is the most common protocol used for any type of HTTP request.</p><p>In order to transfer data packets between your computer(client) and the server, it is important to have a TCP connection established. This connection is established using a process called the TCP/IP three-way handshake. This is a three step process where the client and the server exchange SYN(synchronize) and ACK(acknowledge) messages to establish a connection.</p><ol><li>Client machine sends a SYN packet to the server over the internet asking if it is open for new connections.</li><li>If the server has open ports that can accept and initiate new connections, it’ll respond with an ACKnowledgment of the SYN packet using a SYN/ACK packet.</li><li>The client will receive the SYN/ACK packet from the server and will acknowledge it by sending an ACK packet.</li></ol><p>Then a TCP connection is established for data transmission!</p><h4 id="5-The-browser-sends-an-HTTP-request-to-the-web-server"><a href="#5-The-browser-sends-an-HTTP-request-to-the-web-server" class="headerlink" title="5. The browser sends an HTTP request to the web server."></a>5. The browser sends an HTTP request to the web server.</h4><p>Once the TCP connection is established, it is time to start transferring data! The browser will send a GET request asking for maps.google.com web page. If you’re entering credentials or submitting a form this could be a POST request. This request will also contain additional information such as browser identification (<em>User-Agent</em> header), types of requests that it will accept (<em>Accept</em>header), and connection headers asking it to keep the TCP connection alive for additional requests. It will also pass information taken from cookies the browser has in store for this domain.</p><p>Sample GET request (Headers are highlighted):</p><p><img src="https://cdn-images-1.medium.com/max/1600/0*SyxEqHOBZElX5laf.png" alt="img"></p><h4 id="6-The-server-handles-the-request-and-sends-back-a-response"><a href="#6-The-server-handles-the-request-and-sends-back-a-response" class="headerlink" title="6. The server handles the request and sends back a response."></a>6. The server handles the request and sends back a response.</h4><p>The server contains a web server (i.e Apache, IIS) which receives the request from the browser and passes it to a request handler to read and generate a response. The request handler is a program (written in ASP.NET, PHP, Ruby, etc.) that reads the request, its’ headers, and cookies to check what is being requested and also update the information on the server if needed. Then it will assemble a response in a particular format (JSON, XML, HTML).</p><h4 id="7-The-server-sends-out-an-HTTP-response"><a href="#7-The-server-sends-out-an-HTTP-response" class="headerlink" title="7. The server sends out an HTTP response."></a>7. The server sends out an HTTP response.</h4><p>The server response contains the web page you requested as well as the status code, compression type (<em>Content-Encoding)</em>, how to cache the page (<em>Cache-Control</em>), any cookies to set, privacy information, etc.</p><p>Example HTTP server response:</p><p><img src="https://cdn-images-1.medium.com/max/1600/0*ifRt45gihG_AwR3Z.png" alt="img"></p><p>If you look at the above response the first line shows a status code. This is quite important as it tells us the status of the response. There are five types of statuses detailed using a numerical code.</p><p>● 1xx indicates an informational message only</p><p>● 2xx indicates success of some kind</p><p>● 3xx redirects the client to another URL</p><p>● 4xx indicates an error on the client’s part</p><p>● 5xx indicates an error on the server’s part</p><p>So, if you encountered an error you can take a look at the HTTP response to check what type of status code you have received.</p><h4 id="8-The-browser-displays-the-HTML-content-for-HTML-responses-which-is-the-most-common"><a href="#8-The-browser-displays-the-HTML-content-for-HTML-responses-which-is-the-most-common" class="headerlink" title="8. The browser displays the HTML content (for HTML responses which is the most common)."></a>8. The browser displays the HTML content (for HTML responses which is the most common).</h4><p>The browser displays the HTML content in phases. First, it will render the bare bone HTML skeleton. Then it will check the HTML tags and sends out GET requests for additional elements on the web page, such as images, CSS stylesheets, JavaScript files etc. These static files are cached by the browser so it doesn’t have to fetch them again the next time you visit the page. At the end, you’ll see maps.google.com appearing on your browser.</p><h4 id="9-Client-interaction-with-server"><a href="#9-Client-interaction-with-server" class="headerlink" title="9. Client interaction with server"></a>9. Client interaction with server</h4><p>Once a html page is loaded, there are several ways a user can interact with the server. For example, he call fill out a login form to sign in to the website. This also follows all the steps listed above, the only difference is that the HTTP request this time would be a <strong>POST</strong> instead of GET and along with that request, browser will send the form data to the server for processing (username and password in this case).<br>Once server authenticates the user, it will send the proper HTML content(may be user’s profile) back to the browser and thus user will see that new webpage after his login request is processed.</p><h4 id="10-AJAX-queries"><a href="#10-AJAX-queries" class="headerlink" title="10. AJAX queries"></a>10. AJAX queries</h4><p>Another form of client interaction with server is through <a href="http://en.wikipedia.org/wiki/Ajax_%28programming%29" target="_blank" rel="noopener">AJAX(Asynchronous JavaScript And XML)</a> requests. This is an asynchronous GET/POST request to which server can send a response back in a variety of ways - <strong>json, xml, html</strong> etc. AJAX requests doesn’t hinder the current view of the webpage and work in the background. Because of this, one can dynamically modify the content of a webpage by calling an AJAX request and updating the web elements using Javascript.</p><p><strong>Synchronous request</strong>: A synchronous request blocks the client until operation completes. In such case, javascript engine of the browser is blocked.</p><p><strong>Asynchronous request:</strong> An asynchronous request doesn’t block the client i.e. browser is responsive. At that time, user can perform another operations also. In such case, javascript engine of the browser is not blocked.</p><h4 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h4><p><a href="https://medium.com/@maneesha.wijesinghe1/what-happens-when-you-type-an-url-in-the-browser-and-press-enter-bb0aa2449c1a" target="_blank" rel="noopener">https://medium.com/@maneesha.wijesinghe1/what-happens-when-you-type-an-url-in-the-browser-and-press-enter-bb0aa2449c1a</a></p><p><a href="http://edusagar.com/articles/view/70/What-happens-when-you-type-a-URL-in-browser" target="_blank" rel="noopener">http://edusagar.com/articles/view/70/What-happens-when-you-type-a-URL-in-browser</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;1-You-type-maps-google-com-into-the-address-bar-of-your-browser&quot;&gt;&lt;a href=&quot;#1-You-type-maps-google-com-into-the-address-bar-of-your-b
      
    
    </summary>
    
      <category term="foundation" scheme="https://jliao011.github.io/categories/foundation/"/>
    
    
      <category term="web" scheme="https://jliao011.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>Sorting Algorithms</title>
    <link href="https://jliao011.github.io/2018/06/23/sorting/"/>
    <id>https://jliao011.github.io/2018/06/23/sorting/</id>
    <published>2018-06-23T08:02:38.000Z</published>
    <updated>2018-06-24T00:20:20.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Implementations"><a href="#Implementations" class="headerlink" title="Implementations"></a>Implementations</h2><h3 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="Selection Sort"></a>Selection Sort</h3><p><img src="https://upload.wikimedia.org/wikipedia/commons/9/94/Selection-Sort-Animation.gif" alt="img"></p><p>generally performs worse than the similar <a href="https://en.wikipedia.org/wiki/Insertion_sort" target="_blank" rel="noopener">insertion sort</a>. </p><p>The algorithm divides the input list into two parts: the sublist of items already sorted, which is built up from left to right at the front (left) of the list, and the sublist of items remaining to be sorted that occupy the rest of the list. Initially, the sorted sublist is empty and the unsorted sublist is the entire input list. The algorithm proceeds by finding the smallest (or largest, depending on sorting order) element in the unsorted sublist, exchanging (swapping) it with the leftmost unsorted element (putting it in sorted order), and moving the sublist boundaries one element to the right.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] selectionSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line"><span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; ++i) &#123;</span><br><span class="line"><span class="keyword">int</span> minIdx = i;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; array.length; ++j) &#123;</span><br><span class="line"><span class="keyword">if</span> (array[j] &lt; array[minIdx])</span><br><span class="line">minIdx = j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (minIdx != i) &#123;</span><br><span class="line"><span class="keyword">int</span> temp = array[i];</span><br><span class="line">array[i] = array[minIdx];</span><br><span class="line">array[minIdx] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h3><p><img src="https://upload.wikimedia.org/wikipedia/commons/0/0f/Insertion-sort-example-300px.gif" alt="img"></p><p>Insertion sort <a href="https://en.wikipedia.org/wiki/Iteration" target="_blank" rel="noopener">iterates</a>, consuming one input element each repetition, and growing a sorted output list. At each iteration, insertion sort removes one element from the input data, finds the location it belongs within the sorted list, and inserts it there. It repeats until no input elements remain.</p><ul><li>Efficient for (quite) small data sets, much like other quadratic sorting algorithms</li><li>More efficient in practice than most other simple quadratic algorithms such as <a href="https://en.wikipedia.org/wiki/Selection_sort" target="_blank" rel="noopener">selection sort</a> or <a href="https://en.wikipedia.org/wiki/Bubble_sort" target="_blank" rel="noopener">bubble sort</a></li><li>efficient for data sets that are already substantially sorted, the <a href="https://en.wikipedia.org/wiki/Time_complexity" target="_blank" rel="noopener">time complexity</a> is <em>O</em>(<em>nk</em>) when each element in the input is no more than k places away from its sorted position</li><li>stable</li></ul><p><strong>Array based</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] insertionSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line"><span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> curr = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (curr &lt; array.length) &#123;</span><br><span class="line"><span class="keyword">int</span> idx = curr;</span><br><span class="line"><span class="keyword">while</span> (idx &gt; <span class="number">0</span> &amp;&amp; array[idx] &lt; array[idx - <span class="number">1</span>]) &#123;</span><br><span class="line"><span class="keyword">int</span> temp = array[idx];</span><br><span class="line">array[idx] = array[idx - <span class="number">1</span>];</span><br><span class="line">array[idx - <span class="number">1</span>] = temp;</span><br><span class="line">idx--;</span><br><span class="line">&#125;</span><br><span class="line">curr++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>LinkedList based</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">insertionSortList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ListNode prev = dummy, curr = head, next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// save curr next first</span></span><br><span class="line">        next = curr.next;</span><br><span class="line">        <span class="keyword">while</span>(prev.next != <span class="keyword">null</span> &amp;&amp; prev.next.val &lt; curr.val)</span><br><span class="line">            prev = prev.next;</span><br><span class="line">        <span class="comment">// insert curr after prev</span></span><br><span class="line">        curr.next = prev.next;</span><br><span class="line">        prev.next = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">        <span class="comment">// reset prev</span></span><br><span class="line">        prev = dummy;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Bubble-Sort"><a href="#Bubble-Sort" class="headerlink" title="Bubble Sort"></a>Bubble Sort</h3><p><img src="https://upload.wikimedia.org/wikipedia/commons/c/c8/Bubble-sort-example-300px.gif" alt="img"></p><p><a href="https://en.wikipedia.org/wiki/Insertion_sort" target="_blank" rel="noopener">insertion sort</a>, generally run faster than bubble sort.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] bubbleSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line"><span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// total n-1 loop, each loop find a curr largest</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; ++i) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array.length - <span class="number">1</span> - i; ++j) &#123;</span><br><span class="line"><span class="keyword">if</span> (array[j] &gt; array[j + <span class="number">1</span>]) &#123;</span><br><span class="line"><span class="keyword">int</span> temp = array[j];</span><br><span class="line">array[j] = array[j + <span class="number">1</span>];</span><br><span class="line">array[j + <span class="number">1</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h3><p><img src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Merge-sort-example-300px.gif" alt="img"></p><h3 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Implementations&quot;&gt;&lt;a href=&quot;#Implementations&quot; class=&quot;headerlink&quot; title=&quot;Implementations&quot;&gt;&lt;/a&gt;Implementations&lt;/h2&gt;&lt;h3 id=&quot;Selection-Sor
      
    
    </summary>
    
      <category term="algorithm" scheme="https://jliao011.github.io/categories/algorithm/"/>
    
    
      <category term="sort" scheme="https://jliao011.github.io/tags/sort/"/>
    
  </entry>
  
  <entry>
    <title>Implementation of Trie</title>
    <link href="https://jliao011.github.io/2018/06/12/trie/"/>
    <id>https://jliao011.github.io/2018/06/12/trie/</id>
    <published>2018-06-12T07:27:22.000Z</published>
    <updated>2018-07-10T05:53:48.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Implement-using-HashMap"><a href="#Implement-using-HashMap" class="headerlink" title="Implement using HashMap"></a>Implement using HashMap</h2><ul><li>insert (iteration, recursion)</li><li>search (iteration, recursion)</li><li>startWith (iteration, recursion)</li><li>delete</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * use HashMap to save Character and child node</span></span><br><span class="line"><span class="comment"> * use isEnd to indicate whether it's end of a word</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">Map&lt;Character, TrieNode&gt; children;</span><br><span class="line"><span class="keyword">boolean</span> isEnd;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">isEnd = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Logger logger = LoggerFactory.getLogger(Trie.class);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> TrieNode root;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Insert a word iteratively</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">TrieNode curr = root;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="comment">// current character not exist</span></span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>) &#123;</span><br><span class="line">child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">curr.children.put(c, child);</span><br><span class="line">&#125;</span><br><span class="line">curr = child;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mark current node end of word</span></span><br><span class="line">curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Insert a word recursively</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertRecursive</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">this</span>.insertRecursive(<span class="keyword">this</span>.root, word, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertRecursive</span><span class="params">(TrieNode curr, String word, <span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (idx == word.length()) &#123;</span><br><span class="line">curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="comment">// current char not exist, create new node</span></span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>) &#123;</span><br><span class="line">child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">curr.children.put(c, child);</span><br><span class="line">&#125;</span><br><span class="line">insertRecursive(child, word, idx + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Search a word in trie iteratively</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> whether exist</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">TrieNode curr = root;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">curr = child;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// check wether reach end of a word</span></span><br><span class="line"><span class="keyword">return</span> curr.isEnd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Search a word in trie recursively</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> whether exist</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchRecursive</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> searchRecursive(<span class="keyword">this</span>.root, word, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">searchRecursive</span><span class="params">(TrieNode curr, String word, <span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (idx == word.length()) &#123;</span><br><span class="line"><span class="keyword">return</span> curr.isEnd;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> searchRecursive(child, word, idx + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Search if prefix word exist</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startWith</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">TrieNode curr = root;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">curr = child;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Search if prefix word exist recursively</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startWithRecursive</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> startWithRecursive(root, word, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">startWithRecursive</span><span class="params">(TrieNode curr, String word, <span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (idx == word.length())</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> startWithRecursive(child, word, idx + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Delete a word in the trie</span></span><br><span class="line"><span class="comment"> * remove a parent as well if there is no child</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">delete(<span class="keyword">this</span>.root, word, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> whether parent node should be deleted</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(TrieNode curr, String word, <span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (idx == word.length()) &#123;</span><br><span class="line"><span class="comment">// still have sub tree</span></span><br><span class="line"><span class="keyword">if</span> (!curr.isEnd)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="comment">// set to false if curr has other children</span></span><br><span class="line">curr.isEnd = <span class="keyword">false</span>;</span><br><span class="line"><span class="comment">// if no child, delete parent</span></span><br><span class="line"><span class="keyword">return</span> curr.children.size() == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">TrieNode child = curr.children.get(c);</span><br><span class="line"><span class="comment">// such word not exist</span></span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">boolean</span> shouldDeleteChild = delete(child, word, idx + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (shouldDeleteChild) &#123;</span><br><span class="line">curr.children.remove(c);</span><br><span class="line"><span class="comment">// remove as well if no child</span></span><br><span class="line"><span class="keyword">return</span> curr.children.size() == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Trie trie = <span class="keyword">new</span> Trie();</span><br><span class="line">List&lt;String&gt; dict = Arrays.asList(<span class="string">"abc"</span>, <span class="string">"abgl"</span>, <span class="string">"abcd"</span>, <span class="string">"cdef"</span>);</span><br><span class="line"><span class="keyword">for</span> (String word : dict)</span><br><span class="line">trie.insert(word);</span><br><span class="line"><span class="keyword">for</span> (String word : dict)</span><br><span class="line">logger.info(<span class="string">"Search for &#123;&#125;: &#123;&#125;"</span>, word, trie.search(<span class="string">"abc"</span>));</span><br><span class="line"><span class="keyword">for</span> (String word : dict) &#123;</span><br><span class="line">trie.delete(word);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Leetcode-211-Add-and-Search-Word"><a href="#Leetcode-211-Add-and-Search-Word" class="headerlink" title="Leetcode 211. Add and Search Word"></a>Leetcode 211. Add and Search Word</h2><p>Design a data structure that supports the following two operations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void addWord(word)</span><br><span class="line">bool search(word)</span><br></pre></td></tr></table></figure><p>search(word) can search a literal word or a regular expression string containing only letters <code>a-z</code> or <code>.</code>. A <code>.</code> means it can represent any one letter.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addWord(&quot;bad&quot;)</span><br><span class="line">addWord(&quot;dad&quot;)</span><br><span class="line">addWord(&quot;mad&quot;)</span><br><span class="line">search(&quot;pad&quot;) -&gt; false</span><br><span class="line">search(&quot;bad&quot;) -&gt; true</span><br><span class="line">search(&quot;.ad&quot;) -&gt; true</span><br><span class="line">search(&quot;b..&quot;) -&gt; true</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>You may assume that all words are consist of lowercase letters <code>a-z</code>.</p><p><strong>Use map:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">        Map&lt;Character,TrieNode&gt; children;</span><br><span class="line">        <span class="keyword">boolean</span> isEnd;</span><br><span class="line">        TrieNode()&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            isEnd = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> TrieNode root;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Adds a word into the data structure. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        TrieNode curr = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            TrieNode child = curr.children.get(c);</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)&#123;</span><br><span class="line">                child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                curr.children.put(c,child);</span><br><span class="line">            &#125;</span><br><span class="line">            curr = child;</span><br><span class="line">        &#125;</span><br><span class="line">        curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> search(root,word,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(TrieNode curr,String word,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">            <span class="keyword">return</span> curr.isEnd;</span><br><span class="line">        <span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">        <span class="keyword">if</span>(c != <span class="string">'.'</span>)&#123;</span><br><span class="line">            TrieNode child = curr.children.get(c);</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span> search(child,word,idx+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> wildcard : curr.children.keySet())&#123;</span><br><span class="line">                TrieNode child = curr.children.get(wildcard);</span><br><span class="line">                <span class="keyword">if</span>(search(child,word,idx+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Use int[26]:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">        TrieNode[] children;</span><br><span class="line">        <span class="keyword">boolean</span> isEnd;</span><br><span class="line">        TrieNode()&#123;</span><br><span class="line">            children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">            isEnd = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> TrieNode root;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Adds a word into the data structure. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        TrieNode curr = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)&#123;</span><br><span class="line">                child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                curr.children[c - <span class="string">'a'</span>] = child;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = child;</span><br><span class="line">        &#125;</span><br><span class="line">        curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> search(root,word,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(TrieNode curr,String word,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">            <span class="keyword">return</span> curr.isEnd;</span><br><span class="line">        <span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">        <span class="keyword">if</span>(c != <span class="string">'.'</span>)&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span> search(child,word,idx+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)&#123;</span><br><span class="line">                TrieNode child = curr.children[i];</span><br><span class="line">                <span class="keyword">if</span>(child!=<span class="keyword">null</span> &amp;&amp; search(child,word,idx+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Implement-using-HashMap&quot;&gt;&lt;a href=&quot;#Implement-using-HashMap&quot; class=&quot;headerlink&quot; title=&quot;Implement using HashMap&quot;&gt;&lt;/a&gt;Implement using H
      
    
    </summary>
    
      <category term="algorithm" scheme="https://jliao011.github.io/categories/algorithm/"/>
    
    
      <category term="trie" scheme="https://jliao011.github.io/tags/trie/"/>
    
      <category term="data structure" scheme="https://jliao011.github.io/tags/data-structure/"/>
    
  </entry>
  
  <entry>
    <title>The 7 Software “-ilities” You Need To Know</title>
    <link href="https://jliao011.github.io/2018/06/04/software-ilities/"/>
    <id>https://jliao011.github.io/2018/06/04/software-ilities/</id>
    <published>2018-06-04T09:31:54.000Z</published>
    <updated>2018-06-04T21:17:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>Original Article: <a href="http://codesqueeze.com/the-7-software-ilities-you-need-to-know/" target="_blank" rel="noopener">The 7 Software “-ilities” You Need To Know</a></p><p>In the world of software architecture there are many “-ilities” you must take into consideration with every project. Prioritizing them is necessary because the client will optimistically ask that you do all of them. To help you out, here is a quick list outlining my top 7 default “-ilities” in the order that I prioritize them:</p><h3 id="1-Usability"><a href="#1-Usability" class="headerlink" title="1. Usability"></a>1. Usability</h3><p>Software usability can be described as how effectively end users can use, learn, or control the system. Some questions to ask yourself to determine usability might be:</p><ul><li>Is there a UI metaphor that I am using to help users adapt? (for example, the ‘desktop’ is a metaphor)</li><li>Are the most common operations streamlined to be performed quickly?</li><li>Can new users quickly adapt to the software without help? (is it intuitive?)</li><li>Do validation and error messages make sense?</li></ul><h3 id="2-Maintainability-or-Flexibility-Testibility"><a href="#2-Maintainability-or-Flexibility-Testibility" class="headerlink" title="2. Maintainability ( or Flexibility / Testibility)"></a>2. Maintainability ( or Flexibility / Testibility)</h3><p>The definition of maintainability [for me] implies how brittle the code is to change. As a result, I tie the terms flexibility and testability into the overall maintainability of a project.</p><ul><li>Does the entire team understand the code base or does knowledge islands exist?</li><li>Is the code throughly regression tested?</li><li>Can modifications to the project be done in a timely manner?</li></ul><h3 id="3-Scalability"><a href="#3-Scalability" class="headerlink" title="3. Scalability"></a>3. Scalability</h3><p>Scalability is the ability for your program to gracefully meet the demand of stress caused by increased usage. In short, ensuring your program doesn’t slow or bust when pounded by more users than you originally anticipated.</p><ul><li>What is your current peak load that you can handle?</li><li>How many database records can create until critical operations slow down?</li><li>Is the primary scaling strategy to “scale up” or to “scale out” — that is, to upgrade the nodes in a fixed topology, or to add nodes?</li></ul><h3 id="4-Availability-or-Reliability"><a href="#4-Availability-or-Reliability" class="headerlink" title="4. Availability (or Reliability)"></a>4. Availability (or Reliability)</h3><p>How long the system is up and running and the <a href="http://en.wikipedia.org/wiki/MTBF" target="_blank" rel="noopener">Mean Time Between Failure (MTBF)</a> is known as the availability of a program.</p><ul><li>How long does the system need to run without failure?</li><li>What is the acceptable length of time for the system to be down?</li><li>Can down times be scheduled?</li></ul><h3 id="5-Extensibility"><a href="#5-Extensibility" class="headerlink" title="5. Extensibility"></a>5. Extensibility</h3><p>Are there points in the system where changes can be made with (or without) program changes? </p><ul><li>Can the database schema flex to accommodate change?</li><li>Does the system allow Inversion of Control (IoC)?</li><li>Can end users extend the system (scripts, user defined fields, etc)?</li><li>Can 3rd party developers leverage your system?</li></ul><h3 id="6-Security"><a href="#6-Security" class="headerlink" title="6. Security"></a>6. Security</h3><p>I shouldn’t need to go into this one but to be thorough I like this <a href="http://www.softwarearchitectures.com/go/Discipline/DesigningArchitecture/QualityAttributes/tabid/64/Default.aspx" target="_blank" rel="noopener">definition of security</a>: the measure of system’s ability to resist unauthorized attempts at usage or behavior modification, while still providing service to legitimate users.</p><ul><li>Does the system need user or role based security?</li><li>Does code access security need to occur?</li><li>What operations need to be secured?</li><li>How will users be administered?</li></ul><h3 id="7-Portability"><a href="#7-Portability" class="headerlink" title="7. Portability"></a>7. Portability</h3><p>Portability is the ability for your application to run on numerous platforms. This is can include actual application hosting, viewing, or data portability.</p><ul><li>Can the data be migrated to other systems?</li><li>For web applications, which browsers does your web app support?</li><li>Which operating systems does your program run on?</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Original Article: &lt;a href=&quot;http://codesqueeze.com/the-7-software-ilities-you-need-to-know/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;The 7 Software
      
    
    </summary>
    
      <category term="foundation" scheme="https://jliao011.github.io/categories/foundation/"/>
    
    
      <category term="software" scheme="https://jliao011.github.io/tags/software/"/>
    
  </entry>
  
  <entry>
    <title>Restful Web Service Related</title>
    <link href="https://jliao011.github.io/2018/06/04/restful-web-service/"/>
    <id>https://jliao011.github.io/2018/06/04/restful-web-service/</id>
    <published>2018-06-04T09:03:59.000Z</published>
    <updated>2018-06-24T01:18:31.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Advantages-of-REST"><a href="#Advantages-of-REST" class="headerlink" title="Advantages of REST"></a>Advantages of REST</h2><ol><li><strong>Separation between the client and the server</strong>: the REST protocol totally separates the user interface from the server and the data storage. This has some advantages when making developments. For example, it improves the portability of the interface to other types of platforms, it increases the scalability of the projects, and allows the different components of the developments to be evolved independently.</li><li><strong>Visibility, reliability and scalability</strong>. The separation between client and server has one evident advantage, and that is that each development team can scale the product without too much problem. They can migrate to other servers or make all kinds of changes in the database, provided the data from each request is sent correctly. The separation makes it easier to have the front and the back on different servers, and this makes the apps more flexible to work with.</li><li><strong>The REST API is always independent of the type of platform or languages</strong>: the REST API always adapts to the type of syntax or platforms being used, which gives considerable freedom when changing or testing new environments within the development. With a REST API you can have PHP, Java, Python or Node.js servers. The only thing is that it is indispensable that the responses to the requests should always take place in the language used for the information exchange, normally XML or JSON. </li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Advantages-of-REST&quot;&gt;&lt;a href=&quot;#Advantages-of-REST&quot; class=&quot;headerlink&quot; title=&quot;Advantages of REST&quot;&gt;&lt;/a&gt;Advantages of REST&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
      
    
    </summary>
    
      <category term="foundation" scheme="https://jliao011.github.io/categories/foundation/"/>
    
    
      <category term="web" scheme="https://jliao011.github.io/tags/web/"/>
    
      <category term="rest" scheme="https://jliao011.github.io/tags/rest/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Blog Usage</title>
    <link href="https://jliao011.github.io/2018/06/02/hexo-usage/"/>
    <id>https://jliao011.github.io/2018/06/02/hexo-usage/</id>
    <published>2018-06-02T23:38:03.000Z</published>
    <updated>2018-06-08T04:47:51.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage:"></a>Usage:</h2><h4 id="Create-Post"><a href="#Create-Post" class="headerlink" title="Create Post:"></a>Create Post:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [post-name]</span><br></pre></td></tr></table></figure><p>Then a new markdown file will create at: <code>source/_posts/post-name.md</code></p><h4 id="Modify-header"><a href="#Modify-header" class="headerlink" title="Modify header:"></a>Modify header:</h4><p>Use this specific post as an example, the header should like:</p><p><strong>Notice space required after <code>:</code></strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo Blog Usage// your article name</span><br><span class="line">date: 2018-06-02 18:38:03  // created time</span><br><span class="line">categories: project  // categories folder it belongs</span><br><span class="line">tags: [hexo,deploy]  // name tags for this article</span><br><span class="line">toc: true  // enable the Table Of Content</span><br><span class="line">comments: true  // allow comments</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>Then you could add your content below this header.</p><h4 id="Deploy"><a href="#Deploy" class="headerlink" title="Deploy:"></a>Deploy:</h4><p><strong>Run the server locally:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br><span class="line">or </span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>Starts a local server. By default, this is at <code>http://localhost:4000/</code>.</p><p><strong>Clean the blog:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><p>Cleans the cache file (<code>db.json</code>) and generated files (<code>public</code>).</p><p><strong>Generate views:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">or</span><br><span class="line">$ hexo g</span><br></pre></td></tr></table></figure><p>Generates static files.</p><p><strong>Deploy:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>Deploys your website.</p><h2 id="Google-Analytics"><a href="#Google-Analytics" class="headerlink" title="Google Analytics"></a>Google Analytics</h2><h4 id="Add-tracking-id-to-your-config"><a href="#Add-tracking-id-to-your-config" class="headerlink" title="Add tracking id to your config"></a>Add tracking id to your config</h4><ul><li><p>User, session and visit analysis.</p><p>This is the Global Site Tag (gtag.js) tracking code for this property. Copy and paste this code as the <strong>first</strong> item into the <head> of every webpage you want to track. If you already have a Global Site Tag on your page, simply add the <strong>config</strong> line from the snippet below to your existing Global Site Tag.</head></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;</span><br><span class="line">&lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=UA-119871741-1&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  window.dataLayer = window.dataLayer || [];</span><br><span class="line">  function gtag()&#123;dataLayer.push(arguments);&#125;</span><br><span class="line">  gtag(&apos;js&apos;, new Date());</span><br><span class="line"></span><br><span class="line">  gtag(&apos;config&apos;, &apos;UA-119871741-1&apos;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Or simply add the track id into config file.</p></li></ul><h2 id="Verification"><a href="#Verification" class="headerlink" title="Verification"></a>Verification</h2><h4 id="Verify-your-page-on-Google-Search-Console"><a href="#Verify-your-page-on-Google-Search-Console" class="headerlink" title="Verify your page on Google Search Console"></a>Verify your page on Google Search Console</h4><ol><li><p>Use your Google Analytics tracking id for verification.</p></li><li><p>Or use google-site-verification meta tag</p><p> Copy the meta tag below, and paste it into your site’s home page. It should go in the <head> section, <strong>before</strong> the first </head><body> section.</body></p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;google-site-verification&quot; content=&quot;Q8ZJjFeuFLdQt5A3JEUX1a0PKcngzJNKeU2D5Y24yXA&quot; /&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>Submit hexo generated sitemap.xml file</p></li><li><p>Use Search Console</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Usage&quot;&gt;&lt;a href=&quot;#Usage&quot; class=&quot;headerlink&quot; title=&quot;Usage:&quot;&gt;&lt;/a&gt;Usage:&lt;/h2&gt;&lt;h4 id=&quot;Create-Post&quot;&gt;&lt;a href=&quot;#Create-Post&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="project" scheme="https://jliao011.github.io/categories/project/"/>
    
    
      <category term="deploy" scheme="https://jliao011.github.io/tags/deploy/"/>
    
      <category term="hexo" scheme="https://jliao011.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Flight GateWay Spring Boot App</title>
    <link href="https://jliao011.github.io/2018/06/02/flight-gateway/"/>
    <id>https://jliao011.github.io/2018/06/02/flight-gateway/</id>
    <published>2018-06-02T22:31:15.000Z</published>
    <updated>2018-06-05T00:55:52.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Flight-GateWay"><a href="#Flight-GateWay" class="headerlink" title="Flight GateWay"></a>Flight GateWay</h2><p><a href="https://flightgateway.herokuapp.com" target="_blank" rel="noopener">Flight GateWay App url</a></p><h2 id="Heroku-Concern"><a href="#Heroku-Concern" class="headerlink" title="Heroku Concern"></a>Heroku Concern</h2><h4 id="App-shut-down-when-idle"><a href="#App-shut-down-when-idle" class="headerlink" title="App shut down when idle"></a>App shut down when idle</h4><p>When an app on Heroku has only one web dyno and that dyno doesn’t receive any traffic in 1 hour, the dyno goes to sleep.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">What is dyno idling?</span><br><span class="line">Apps that have only 1 web dyno will be idled out after a period of inactivity.</span><br><span class="line">The web dyno will be shut down. When a request comes in to an idled app your</span><br><span class="line">web dyno will be automatically spun back up, causing a few second delay for</span><br><span class="line">this first request. Subsequent requests will perform normally.</span><br><span class="line"></span><br><span class="line">Apps that have more than 1 web dyno are never idled out. Workers dynos are</span><br><span class="line">never idled out.</span><br></pre></td></tr></table></figure><h4 id="Dyno"><a href="#Dyno" class="headerlink" title="Dyno"></a>Dyno</h4><p>Accounts are given a base of 550 hours each month in which your Free dynos can run. </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ heroku ps -a &lt;app name&gt;</span><br><span class="line"></span><br><span class="line">Free dyno hours quota remaining this month: 984h 53m (98%)</span><br><span class="line">For more information on dyno sleeping and how to upgrade, see:</span><br><span class="line">https://devcenter.heroku.com/articles/dyno-sleeping</span><br><span class="line"></span><br><span class="line">=== web (Free): java -Dserver.port=<span class="variable">$PORT</span> <span class="variable">$JAVA_OPTS</span> -jar target/GateWay-0.0.1-SNAPSHOT.jar (1)</span><br><span class="line">web.1: up 2018/06/04 01:46:32 -0500 (~ 27m ago)</span><br></pre></td></tr></table></figure><h4 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h4><p><a href="https://quickleft.com/blog/6-easy-ways-to-prevent-your-heroku-node-app-from-sleeping/" target="_blank" rel="noopener">6 Easy Ways to Prevent Your Heroku Node App From Sleeping</a></p><p>I used the <a href="http://kaffeine.herokuapp.com" target="_blank" rel="noopener">kaffeine</a> to ping my app every 30 seconds with 6 hours sleep every day.</p><p>Since I set <code>spring.jpa.hibernate.ddl-auto=create-drop</code> so every time when the app restart the database will be dropped and created again.</p><h2 id="Deploying-with-Git"><a href="#Deploying-with-Git" class="headerlink" title="Deploying with Git"></a>Deploying with Git</h2><h4 id="Install"><a href="#Install" class="headerlink" title="Install:"></a>Install:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install heroku/brew/heroku</span><br></pre></td></tr></table></figure><h4 id="Verify"><a href="#Verify" class="headerlink" title="Verify:"></a>Verify:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ heroku --version</span><br><span class="line">heroku/7.0.86 darwin-x64 node-v10.1.0</span><br></pre></td></tr></table></figure><h4 id="Login"><a href="#Login" class="headerlink" title="Login:"></a>Login:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ heroku login</span><br><span class="line">Enter your Heroku credentials.</span><br><span class="line">Email: adam@example.com</span><br><span class="line">Password (typing will be hidden):</span><br><span class="line">Authentication successful.</span><br></pre></td></tr></table></figure><h4 id="Create-app"><a href="#Create-app" class="headerlink" title="Create app:"></a>Create app:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> [app repository]</span><br><span class="line">$ heroku create</span><br><span class="line">Creating app... <span class="keyword">done</span>, ⬢ sleepy-meadow-81798</span><br><span class="line">https://sleepy-meadow-81798.herokuapp.com/ | https://git.heroku.com/sleepy-meadow-81798.git</span><br></pre></td></tr></table></figure><h4 id="Git-init-if-no-git-repository"><a href="#Git-init-if-no-git-repository" class="headerlink" title="Git init if no git repository:"></a>Git init if no git repository:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> myapp</span><br><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> .git/</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">"My first commit"</span></span><br></pre></td></tr></table></figure><h4 id="Check-remote"><a href="#Check-remote" class="headerlink" title="Check remote:"></a>Check remote:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">herokuhttps://git.heroku.com/flightgateway.git (fetch)</span><br><span class="line">herokuhttps://git.heroku.com/flightgateway.git (push)</span><br><span class="line">originhttps://github.com/jliao011/gate-way-app.git (fetch)</span><br><span class="line">originhttps://github.com/jliao011/gate-way-app.git (push)</span><br></pre></td></tr></table></figure><h4 id="For-existing-app-add-remote"><a href="#For-existing-app-add-remote" class="headerlink" title="For existing app, add remote:"></a>For existing app, add remote:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku git:remote -a [app name]</span><br></pre></td></tr></table></figure><h4 id="App-rename"><a href="#App-rename" class="headerlink" title="App rename:"></a>App rename:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git remote rm heroku</span><br><span class="line">$ heroku git:remote -a newname</span><br><span class="line">or</span><br><span class="line">$ heroku apps:rename newname</span><br></pre></td></tr></table></figure><h4 id="Change-Git-remote"><a href="#Change-Git-remote" class="headerlink" title="Change Git remote:"></a>Change Git remote:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote <span class="built_in">set</span>-url origin https://github.com/USERNAME/REPOSITORY.git</span><br></pre></td></tr></table></figure><h4 id="Update-git-repository-and-push"><a href="#Update-git-repository-and-push" class="headerlink" title="Update git repository and push"></a>Update git repository and push</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit</span><br><span class="line">$ git push</span><br><span class="line">to git repository</span><br><span class="line">$ git push heroku</span><br><span class="line">to heroku repository</span><br></pre></td></tr></table></figure><p>When push to heroku, it will detect the app and build automatically.</p><p>Then use <code>$ heroku open</code> to open the app url after the database configuration.</p><p>If your app is linked with your Github url, once updates are pushed to the origin url, the heroku git repository will be updated automatically, then the app will restart.</p><h4 id="App-restart"><a href="#App-restart" class="headerlink" title="App restart:"></a>App restart:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku restart -a [app name]</span><br></pre></td></tr></table></figure><h2 id="JawsDB-MySQL-add-on"><a href="#JawsDB-MySQL-add-on" class="headerlink" title="JawsDB MySQL add-on"></a>JawsDB MySQL add-on</h2><p><strong>There is no need to modify spring boot app configurations like this:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url=$&#123;JDBC_DATABASE_URL&#125;</span><br><span class="line">spring.datasource.username=$&#123;JDBC_DATABASE_USERNAME&#125;</span><br><span class="line">spring.datasource.password=$&#123;JDBC_DATABASE_PASSWORD&#125;</span><br></pre></td></tr></table></figure><h4 id="Create-the-add-on"><a href="#Create-the-add-on" class="headerlink" title="Create the add-on:"></a>Create the add-on:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ heroku addons:create jawsdb</span><br><span class="line">-----&gt; Adding jawsdb to sharp-mountain-4005... <span class="keyword">done</span>, v18 (free)</span><br></pre></td></tr></table></figure><h4 id="Get-the-database-url-here"><a href="#Get-the-database-url-here" class="headerlink" title="Get the database url here:"></a>Get the database url here:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ heroku config:get JAWSDB_URL</span><br><span class="line">mysql://username:password@hostname:port/default_schema</span><br></pre></td></tr></table></figure><h4 id="Open-the-dashboard"><a href="#Open-the-dashboard" class="headerlink" title="Open the dashboard:"></a>Open the dashboard:</h4><p><strong>All information about:</strong></p><p>Host, Username, Password, Port, Database, and Password Reset</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku addons:open jawsdb</span><br></pre></td></tr></table></figure><h4 id="Configure-the-url"><a href="#Configure-the-url" class="headerlink" title="Configure the url:"></a>Configure the url:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku config:<span class="built_in">set</span> DATABASE_URL=<span class="string">'mysql://username:password@hostname:port/default_schema'</span></span><br></pre></td></tr></table></figure><h4 id="Solve-warning"><a href="#Solve-warning" class="headerlink" title="Solve warning:"></a>Solve warning:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARN: Establishing SSL connection without server&apos;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&apos;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &apos;false&apos;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.</span><br></pre></td></tr></table></figure><p>To fix it, append a <code>useSSL=false</code> at the end of the MySQL connection string :</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku config:<span class="built_in">set</span> JAWSDB_URL=<span class="string">'mysql://username:password@hostname:port/default_schema?useSSL=false'</span></span><br></pre></td></tr></table></figure><p>To remove a config var:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku config:<span class="built_in">unset</span> GITHUB_USERNAME</span><br></pre></td></tr></table></figure><h4 id="Logging-Coralogix-add-on"><a href="#Logging-Coralogix-add-on" class="headerlink" title="Logging: Coralogix add-on"></a>Logging: Coralogix add-on</h4><p><strong>Add a free version Coralogix add-on to display log dashboard</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku addons:create coralogix:free</span><br></pre></td></tr></table></figure><p><strong>Or simply use heroku:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ heroku logs</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Flight-GateWay&quot;&gt;&lt;a href=&quot;#Flight-GateWay&quot; class=&quot;headerlink&quot; title=&quot;Flight GateWay&quot;&gt;&lt;/a&gt;Flight GateWay&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://fligh
      
    
    </summary>
    
      <category term="project" scheme="https://jliao011.github.io/categories/project/"/>
    
    
      <category term="web" scheme="https://jliao011.github.io/tags/web/"/>
    
      <category term="deploy" scheme="https://jliao011.github.io/tags/deploy/"/>
    
      <category term="spring" scheme="https://jliao011.github.io/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode Solutions 601 - 800</title>
    <link href="https://jliao011.github.io/2018/05/27/leetcode-601-800/"/>
    <id>https://jliao011.github.io/2018/05/27/leetcode-601-800/</id>
    <published>2018-05-27T07:31:15.000Z</published>
    <updated>2018-07-18T05:29:53.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>601 ~ 700</th><th>701 ~ 800</th></tr></thead><tbody><tr><td><a href="#604-compressed-string-iterator-easy">#604-compressed-string-iterator-easy</a></td><td></td></tr><tr><td><a href="#625-minimun-factorization-medium">#625-minimun-factorization-medium</a></td><td></td></tr><tr><td><a href="#632-smallest-range-hard">#632-smallest-range-hard</a></td><td><a href="#763-partition-labels-medium">#763-partition-labels-medium</a></td></tr></tbody></table><hr><h4 id="604-compressed-string-iterator-easy"><a href="#604-compressed-string-iterator-easy" class="headerlink" title="#604-compressed-string-iterator-easy"></a>#604-compressed-string-iterator-easy</h4><p>Design and implement a data structure for a compressed string iterator. It should support the following operations: <code>next</code> and <code>hasNext</code>.</p><p>The given compressed string will be in the form of each letter followed by a positive integer representing the number of this letter existing in the original uncompressed string.</p><p><code>next()</code> - if the original string still has uncompressed characters, return the next letter; Otherwise return a white space.<br><code>hasNext()</code> - Judge whether there is any letter needs to be uncompressed.</p><p><strong>Note:</strong><br>Please remember to <strong>RESET</strong> your class variables declared in StringIterator, as static/class variables are <strong>persisted across multiple test cases</strong>. Please see <a href="https://leetcode.com/faq/#different-output" target="_blank" rel="noopener">here</a> for more details.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">StringIterator iterator = new StringIterator(&quot;L1e2t1C1o1d1e1&quot;);</span><br><span class="line"></span><br><span class="line">iterator.next(); // return &apos;L&apos;</span><br><span class="line">iterator.next(); // return &apos;e&apos;</span><br><span class="line">iterator.next(); // return &apos;e&apos;</span><br><span class="line">iterator.next(); // return &apos;t&apos;</span><br><span class="line">iterator.next(); // return &apos;C&apos;</span><br><span class="line">iterator.next(); // return &apos;o&apos;</span><br><span class="line">iterator.next(); // return &apos;d&apos;</span><br><span class="line">iterator.hasNext(); // return true</span><br><span class="line">iterator.next(); // return &apos;e&apos;</span><br><span class="line">iterator.hasNext(); // return false</span><br><span class="line">iterator.next(); // return &apos; &apos;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringIterator</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use int[2] save char, count</span></span><br><span class="line">    <span class="comment">// use queue</span></span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringIterator</span><span class="params">(String compressedString)</span> </span>&#123;</span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = compressedString.length();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len;)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] pair = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">            pair[<span class="number">0</span>] = compressedString.charAt(i);</span><br><span class="line">            <span class="keyword">int</span> j = i + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// num is before letters</span></span><br><span class="line">            String cnt = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&lt;len &amp;&amp; compressedString.charAt(j)&lt;<span class="string">'A'</span>)&#123;</span><br><span class="line">                cnt += compressedString.charAt(j);</span><br><span class="line">                j ++;</span><br><span class="line">            &#125;</span><br><span class="line">            pair[<span class="number">1</span>] = Integer.parseInt(cnt);</span><br><span class="line">            queue.offer(pair);</span><br><span class="line">            i = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> <span class="string">' '</span>;</span><br><span class="line">        <span class="keyword">int</span>[] pair = queue.peek();</span><br><span class="line">        <span class="keyword">if</span>(--pair[<span class="number">1</span>] == <span class="number">0</span>)</span><br><span class="line">            queue.poll();</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">char</span>) pair[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="625-minimun-factorization-medium"><a href="#625-minimun-factorization-medium" class="headerlink" title="#625-minimun-factorization-medium"></a>#625-minimun-factorization-medium</h4><p>Given a positive integer <code>a</code>, find the smallest positive integer <code>b</code> whose multiplication of each digit equals to <code>a</code>. </p><p>If there is no answer or the answer is not fit in 32-bit signed integer, then return 0.</p><p><strong>Example 1</strong><br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">48</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">68</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smallestFactorization</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a &lt; <span class="number">9</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="comment">// try larger first</span></span><br><span class="line">    <span class="keyword">long</span> result = <span class="number">0</span>, multi = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">9</span>; i&gt;=<span class="number">2</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">while</span>(a % i == <span class="number">0</span>)&#123;</span><br><span class="line">            a /= i;</span><br><span class="line">            result += multi * i;</span><br><span class="line">            <span class="keyword">if</span>(result &gt; Integer.MAX_VALUE)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            multi *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a != <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="632-smallest-range-hard"><a href="#632-smallest-range-hard" class="headerlink" title="#632-smallest-range-hard"></a>#632-smallest-range-hard</h4><p>You have <code>k</code> lists of sorted integers in ascending order. Find the <strong>smallest</strong> range that includes at least one number from each of the <code>k</code>lists. </p><p>We define the range [a,b] is smaller than range [c,d] if <code>b-a &lt; d-c</code> or <code>a &lt; c</code> if <code>b-a == d-c</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input:[[4,10,15,24,26], [0,9,12,20], [5,18,22,30]]</span><br><span class="line">Output: [20,24]</span><br><span class="line">Explanation: </span><br><span class="line">List 1: [4, 10, 15, 24,26], 24 is in range [20,24].</span><br><span class="line">List 2: [0, 9, 12, 20], 20 is in range [20,24].</span><br><span class="line">List 3: [5, 18, 22, 30], 22 is in range [20,24].</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] smallestRange(List&lt;List&lt;Integer&gt;&gt; nums) &#123;</span><br><span class="line">    <span class="comment">// use heap similar to merge k sorted list</span></span><br><span class="line">    <span class="comment">// maintain a max, when poll a min, update result, offer its next</span></span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.size() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// use int[3] save: &#123;row,idx,val&#125;</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1,<span class="keyword">int</span>[] o2)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o1[<span class="number">2</span>] - o2[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">int</span> min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">int</span> minRange = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="comment">// init max and heap use first col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>; row&lt;nums.size(); row++)&#123;</span><br><span class="line">        <span class="keyword">int</span> value = nums.get(row).get(<span class="number">0</span>);</span><br><span class="line">        max = Math.max(max,value);</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row,<span class="number">0</span>,value&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// start, condition: heap size </span></span><br><span class="line">    <span class="keyword">while</span>(heap.size() == nums.size())&#123;</span><br><span class="line">        <span class="keyword">int</span>[] curr = heap.poll();</span><br><span class="line">        <span class="comment">// update result</span></span><br><span class="line">        <span class="keyword">if</span>(max - curr[<span class="number">2</span>] &lt; minRange)&#123;</span><br><span class="line">            minRange = max - curr[<span class="number">2</span>];</span><br><span class="line">            result = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;curr[<span class="number">2</span>],max&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// offer min's next, update max</span></span><br><span class="line">        <span class="keyword">if</span>(curr[<span class="number">1</span>] + <span class="number">1</span> &lt; nums.get(curr[<span class="number">0</span>]).size())&#123;</span><br><span class="line">            <span class="keyword">int</span> next = nums.get(curr[<span class="number">0</span>]).get(curr[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">            max = Math.max(max,next);</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;curr[<span class="number">0</span>],curr[<span class="number">1</span>]+<span class="number">1</span>,next&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="763-partition-labels-medium"><a href="#763-partition-labels-medium" class="headerlink" title="#763-partition-labels-medium"></a>#763-partition-labels-medium</h4><p>A string <code>S</code> of lowercase letters is given. We want to partition this string into as many parts as possible so that each letter appears in at most one part, and return a list of integers representing the size of these parts.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: S = &quot;ababcbacadefegdehijhklij&quot;</span><br><span class="line">Output: [9,7,8]</span><br><span class="line">Explanation:</span><br><span class="line">The partition is &quot;ababcbaca&quot;, &quot;defegde&quot;, &quot;hijhklij&quot;.</span><br><span class="line">This is a partition so that each letter appears in at most one part.</span><br><span class="line">A partition like &quot;ababcbacadefegde&quot;, &quot;hijhklij&quot; is incorrect, because it splits S into less parts.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li><code>S</code> will have length in range <code>[1, 500]</code>.</li><li><code>S</code> will consist of lowercase letters (<code>&#39;a&#39;</code> to <code>&#39;z&#39;</code>) only.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">partitionLabels</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// greedy, check last index of a char</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(S == <span class="keyword">null</span> || S.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="comment">// save last appear idx for c</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i)</span><br><span class="line">        bin[S.charAt(i) - <span class="string">'a'</span>] = i;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i)&#123;</span><br><span class="line">        <span class="comment">// find right most idx</span></span><br><span class="line">        right = Math.max(right,bin[S.charAt(i)-<span class="string">'a'</span>]);</span><br><span class="line">        <span class="keyword">if</span>(i == right)&#123;</span><br><span class="line">            result.add(right - left + <span class="number">1</span>);</span><br><span class="line">            left = right + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;601 ~ 700&lt;/th&gt;
&lt;th&gt;701 ~ 800&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;#604-compressed-string-iterator-easy&quot;&gt;#6
      
    
    </summary>
    
      <category term="leetcode" scheme="https://jliao011.github.io/categories/leetcode/"/>
    
    
  </entry>
  
  <entry>
    <title>LeetCode Solutions 401 - 600</title>
    <link href="https://jliao011.github.io/2018/05/27/leetcode-401-600/"/>
    <id>https://jliao011.github.io/2018/05/27/leetcode-401-600/</id>
    <published>2018-05-27T07:31:15.000Z</published>
    <updated>2018-07-31T07:03:38.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>401 ~ 500</th><th>501 ~ 600</th></tr></thead><tbody><tr><td></td><td><a href="#503-next-greater-element-ii-medium">#503-next-greater-element-ii-medium</a></td></tr><tr><td><a href="#406-queue-reconstruction-by-height-medium">#406-queue-reconstruction-by-height-medium</a></td><td></td></tr><tr><td></td><td><a href="#516-longest-palindromic-subsequence-medium">#516-longest-palindromic-subsequence-medium</a></td></tr><tr><td><a href="#418-sentence-screen-fitting-medium">#418-sentence-screen-fitting-medium</a></td><td></td></tr><tr><td><a href="#419-battleships-in-a-board-medium">#419-battleships-in-a-board-medium</a></td><td></td></tr><tr><td><strong><a href="#443-string-compression-easy">#443-string-compression-easy</a></strong></td><td></td></tr><tr><td><a href="#448-find-all-disappeared-number-easy">#448-find-all-disappeared-number-easy</a></td><td></td></tr><tr><td></td><td><a href="#556-next-greater-element-iii-medium">#556-next-greater-element-iii-medium</a></td></tr><tr><td></td><td><a href="#560-subarray-sum-equals-k-medium">#560-subarray-sum-equals-k-medium</a></td></tr><tr><td><a href="#463-island-perimeter-easy">#463-island-perimeter-easy</a></td><td></td></tr><tr><td><a href="#476-number-complement-easy">#476-number-complement-easy</a></td><td></td></tr><tr><td><a href="#496-next-greater-element-i-easy">#496-next-greater-element-i-easy</a></td><td></td></tr><tr><td><a href="#500-keyboard-row-easy">#500-keyboard-row-easy</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td></tr></tbody></table><hr><h4 id="406-queue-reconstruction-by-height-medium"><a href="#406-queue-reconstruction-by-height-medium" class="headerlink" title="#406-queue-reconstruction-by-height-medium"></a>#406-queue-reconstruction-by-height-medium</h4><p>Suppose you have a random list of people standing in a queue. Each person is described by a pair of integers <code>(h, k)</code>, where <code>h</code> is the height of the person and <code>k</code> is the number of people in front of this person who have a height greater than or equal to <code>h</code>. Write an algorithm to reconstruct the queue.</p><p><strong>Note:</strong><br>The number of people is less than 1,100.</p><p><strong>Example</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[[7,0], [4,4], [7,1], [5,0], [6,1], [5,2]]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[[5,0], [7,0], [5,2], [6,1], [4,4], [7,1]]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] reconstructQueue(<span class="keyword">int</span>[][] people) &#123;</span><br><span class="line">    <span class="comment">// height decrease, count increase, insert</span></span><br><span class="line">    <span class="keyword">if</span>(people==<span class="keyword">null</span> || people.length==<span class="number">0</span> || people[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> people;</span><br><span class="line">    Arrays.sort(people,<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span>[] b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[<span class="number">0</span>] != b[<span class="number">0</span>])    <span class="comment">// decrease</span></span><br><span class="line">                <span class="keyword">return</span> b[<span class="number">0</span>] - a[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">else</span>    <span class="comment">// increase</span></span><br><span class="line">                <span class="keyword">return</span> a[<span class="number">1</span>] - b[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p : people)</span><br><span class="line">        result.add(p[<span class="number">1</span>],p);</span><br><span class="line">    <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[people.length][<span class="number">2</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="418-sentence-screen-fitting-medium"><a href="#418-sentence-screen-fitting-medium" class="headerlink" title="#418-sentence-screen-fitting-medium"></a>#418-sentence-screen-fitting-medium</h4><p>Given a <code>rows x cols</code> screen and a sentence represented by a list of <strong>non-empty</strong> words, find <strong>how many times</strong> the given sentence can be fitted on the screen.</p><p><strong>Note:</strong></p><ol><li>A word cannot be split into two lines.</li><li>The order of words in the sentence must remain unchanged.</li><li>Two consecutive words <strong>in a line</strong> must be separated by a single space.</li><li>Total words in the sentence won’t exceed 100.</li><li>Length of each word is greater than 0 and won’t exceed 10.</li><li>1 ≤ rows, cols ≤ 20,000.</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">rows = 2, cols = 8, sentence = [&quot;hello&quot;, &quot;world&quot;]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">hello---</span><br><span class="line">world---</span><br><span class="line"></span><br><span class="line">The character &apos;-&apos; signifies an empty space on the screen.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">rows = 3, cols = 6, sentence = [&quot;a&quot;, &quot;bcd&quot;, &quot;e&quot;]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">a-bcd- </span><br><span class="line">e-a---</span><br><span class="line">bcd-e-</span><br><span class="line"></span><br><span class="line">The character &apos;-&apos; signifies an empty space on the screen.</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">rows = 4, cols = 5, sentence = [&quot;I&quot;, &quot;had&quot;, &quot;apple&quot;, &quot;pie&quot;]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">I-had</span><br><span class="line">apple</span><br><span class="line">pie-I</span><br><span class="line">had--</span><br><span class="line"></span><br><span class="line">The character &apos;-&apos; signifies an empty space on the screen.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">wordsTyping</span><span class="params">(String[] sentence, <span class="keyword">int</span> rows, <span class="keyword">int</span> cols)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use words to construct a new string, separated with ' '</span></span><br><span class="line">    <span class="comment">// use total printed count / string len</span></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(String word : sentence)</span><br><span class="line">        sb.append(word + <span class="string">" "</span>);</span><br><span class="line">    String s = sb.toString();</span><br><span class="line">    <span class="comment">// iterate each row, assume to fill this row, add count,</span></span><br><span class="line">    <span class="comment">// then check last char for corner cases</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;rows; ++i)&#123;</span><br><span class="line">        count += cols;  <span class="comment">// assume to fill the whole row </span></span><br><span class="line">        <span class="comment">// 2 cases: next char is ' ', next char is letter</span></span><br><span class="line">        <span class="comment">// count % len is first char for next line</span></span><br><span class="line">        <span class="keyword">if</span>(s.charAt(count % s.length()) == <span class="string">' '</span>)&#123;</span><br><span class="line">            <span class="comment">// ' 'not print in next line, but need add to count</span></span><br><span class="line">            count ++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// check back for ' ', </span></span><br><span class="line">            <span class="comment">// 1. if last is ' ', valid</span></span><br><span class="line">            <span class="comment">// 2. find last ' ', this word should in next line, reduce count</span></span><br><span class="line">            <span class="keyword">while</span>(count &gt; <span class="number">0</span> &amp;&amp; s.charAt((count-<span class="number">1</span>) % s.length()) != <span class="string">' '</span>)</span><br><span class="line">                <span class="comment">// count-1 % len is last char in curr line</span></span><br><span class="line">                count --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count / s.length();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="419-Battleships-in-a-Board-medium"><a href="#419-Battleships-in-a-Board-medium" class="headerlink" title="419. Battleships in a Board (medium)"></a>419. Battleships in a Board (medium)</h4><p>Given an 2D board, count how many battleships are in it. The battleships are represented with </p><p><code>&#39;X&#39;</code>s, empty slots are represented with <code>&#39;.&#39;</code>s. You may assume the following rules:</p><ul><li>You receive a valid board, made of only battleships or empty slots.</li><li>Battleships can only be placed horizontally or vertically. In other words, they can only be made of the shape <code>1xN</code> (1 row, N columns) or <code>Nx1</code> (N rows, 1 column), where N can be of any size.</li><li>At least one horizontal or vertical cell separates between two battleships - there are no adjacent battleships.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X..X</span><br><span class="line">...X</span><br><span class="line">...X</span><br></pre></td></tr></table></figure><p>In the above board there are 2 battleships.</p><p><strong>Invalid Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...X</span><br><span class="line">XXXX</span><br><span class="line">...X</span><br></pre></td></tr></table></figure><p>This is an invalid board that you will not receive - as battleships will always have a cell separating between them.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countBattleships</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// idea only find ship head, left top cell</span></span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length==<span class="number">0</span> || board[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; board[i-<span class="number">1</span>][j] == <span class="string">'X'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(j&gt;<span class="number">0</span> &amp;&amp; board[i][j-<span class="number">1</span>] == <span class="string">'X'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            count ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="443-string-compression-easy"><a href="#443-string-compression-easy" class="headerlink" title="#443-string-compression-easy"></a>#443-string-compression-easy</h4><p>Given an array of characters, compress it <a href="https://en.wikipedia.org/wiki/In-place_algorithm" target="_blank" rel="noopener"><strong>in-place</strong></a>.</p><p>The length after compression must always be smaller than or equal to the original array.</p><p>Every element of the array should be a <strong>character</strong> (not int) of length 1.</p><p>After you are done <strong>modifying the input array in-place</strong>, return the new length of the array.</p><p><strong>Follow up:</strong><br>Could you solve it using only O(1) extra space?</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">Return 4, and the first 4 characters of the input array should be: [&quot;a&quot;,&quot;b&quot;,&quot;1&quot;,&quot;2&quot;].</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">Since the character &quot;a&quot; does not repeat, it is not compressed. &quot;bbbbbbbbbbbb&quot; is replaced by &quot;b12&quot;.</span><br><span class="line">Notice each digit has it&apos;s own entry in the array.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>All characters have an ASCII value in <code>[35, 126]</code>.</li><li><code>1 &lt;= len(chars) &lt;= 1000</code>.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compress</span><span class="params">(<span class="keyword">char</span>[] chars)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(chars==<span class="keyword">null</span> || chars.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// start for result tail, end for curr</span></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(end &lt; chars.length)&#123;</span><br><span class="line">        <span class="keyword">char</span> curr = chars[end];</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// count same char</span></span><br><span class="line">        <span class="keyword">while</span>(end&lt;chars.length-<span class="number">1</span> &amp;&amp; chars[end]==chars[end+<span class="number">1</span>])&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            end ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// put curr char down</span></span><br><span class="line">        chars[start++] = chars[end++];</span><br><span class="line">        <span class="comment">// then add count</span></span><br><span class="line">        <span class="keyword">if</span>(count != <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> c : String.valueOf(count).toCharArray())</span><br><span class="line">                chars[start++] = c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="448-find-all-disappeared-number-easy"><a href="#448-find-all-disappeared-number-easy" class="headerlink" title="#448-find-all-disappeared-number-easy"></a>#448-find-all-disappeared-number-easy</h4><p>Given an array of integers where 1 ≤ a[i] ≤ <em>n</em> (<em>n</em> = size of array), some elements appear twice and others appear once.</p><p>Find all the elements of [1, <em>n</em>] inclusive that do not appear in this array.</p><p>Could you do it without extra space and in O(<em>n</em>) runtime? You may assume the returned list does not count as extra space.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[4,3,2,7,8,2,3,1]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[5,6]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findDisappearedNumbers</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// 2 passes</span></span><br><span class="line">    <span class="comment">// 1 pass to set negative</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">int</span> index = Math.abs(num) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[index] &gt; <span class="number">0</span>)</span><br><span class="line">            nums[index] *= -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// second pass find positive index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] &gt; <span class="number">0</span>)</span><br><span class="line">            result.add(i+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="463-island-perimeter-easy"><a href="#463-island-perimeter-easy" class="headerlink" title="#463-island-perimeter-easy"></a>#463-island-perimeter-easy</h4><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[[0,1,0,0],</span><br><span class="line"> [1,1,1,0],</span><br><span class="line"> [0,1,0,0],</span><br><span class="line"> [1,1,0,0]]</span><br><span class="line"></span><br><span class="line">Answer: 16</span><br><span class="line">Explanation: The perimeter is the 16 yellow stripes in the image below:</span><br></pre></td></tr></table></figure><p><img src="https://leetcode.com/static/images/problemset/island.png" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">islandPerimeter</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> row = grid.length;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> col = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;row; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;col; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// check up and left, if nei is 1, remove edge</span></span><br><span class="line">            count += <span class="number">4</span>; <span class="comment">// default 4 added first</span></span><br><span class="line">            <span class="comment">// -2 : two block double edge remove</span></span><br><span class="line">            <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; grid[i-<span class="number">1</span>][j] == <span class="number">1</span>)</span><br><span class="line">                count -= <span class="number">2</span>; </span><br><span class="line">            <span class="keyword">if</span>(j &gt; <span class="number">0</span> &amp;&amp; grid[i][j-<span class="number">1</span>] == <span class="number">1</span>)</span><br><span class="line">                count -= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="476-number-complement-easy"><a href="#476-number-complement-easy" class="headerlink" title="#476-number-complement-easy"></a>#476-number-complement-easy</h4><p>Given a positive integer, output its complement number. The complement strategy is to flip the bits of its binary representation.</p><p><strong>Note:</strong></p><ol><li>The given integer is guaranteed to fit within the range of a 32-bit signed integer.</li><li>You could assume no leading zero bit in the integer’s binary representation.</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 5</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: The binary representation of 1 is 1 (no leading zero bits), and its complement is 0. So you need to output 0.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findComplement</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use 11111 - num</span></span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n &lt; num)</span><br><span class="line">        n = n &lt;&lt; <span class="number">1</span> | <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> n - num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="500-keyboard-row-easy"><a href="#500-keyboard-row-easy" class="headerlink" title="#500-keyboard-row-easy"></a>#500-keyboard-row-easy</h4><p>Given a List of words, return the words that can be typed using letters of <strong>alphabet</strong> on only one row’s of American keyboard like the image below. </p><p><img src="https://leetcode.com/static/images/problemset/keyboard.png" alt="American keyboard"></p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;Hello&quot;, &quot;Alaska&quot;, &quot;Dad&quot;, &quot;Peace&quot;]</span><br><span class="line">Output: [&quot;Alaska&quot;, &quot;Dad&quot;]</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>You may use one character in the keyboard more than once.</li><li>You may assume the input string will only contain letters of alphabet.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] findWords(String[] words) &#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// build map</span></span><br><span class="line">    String[] rows = &#123;<span class="string">"QWERTYUIOP"</span>,<span class="string">"ASDFGHJKL"</span>,<span class="string">"ZXCVBNM"</span>&#125;;</span><br><span class="line">    Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rows.length;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : rows[i].toCharArray())</span><br><span class="line">            map.put(c,i);</span><br><span class="line">    <span class="comment">// add to result</span></span><br><span class="line">    WORDS:</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="keyword">if</span>(word.equals(<span class="string">""</span>))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> idx = map.get(Character.toUpperCase(word.charAt(<span class="number">0</span>)));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;word.length();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.get(Character.toUpperCase(word.charAt(i))) != idx)</span><br><span class="line">                <span class="keyword">continue</span> WORDS;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(word);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[result.size()]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] findWords(String[] words) &#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[<span class="number">0</span>]);</span><br><span class="line">    String regex = <span class="string">"[QWERTYUIOP]*|[ASDFGHJKL]*|[ZXCVBNM]*"</span>;</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="keyword">if</span>(word.toUpperCase().matches(regex))&#123;</span><br><span class="line">            result.add(word);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[result.size()]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="496-next-greater-element-i-easy"><a href="#496-next-greater-element-i-easy" class="headerlink" title="#496-next-greater-element-i-easy"></a>#496-next-greater-element-i-easy</h4><p>You are given two arrays <strong>(without duplicates)</strong> <code>nums1</code> and <code>nums2</code> where <code>nums1</code>’s elements are subset of <code>nums2</code>. Find all the next greater numbers for <code>nums1</code>‘s elements in the corresponding places of <code>nums2</code>. </p><p>The Next Greater Number of a number <strong>x</strong> in <code>nums1</code> is the first greater number to its right in <code>nums2</code>. If it does not exist, output -1 for this number.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [4,1,2], nums2 = [1,3,4,2].</span><br><span class="line">Output: [-1,3,-1]</span><br><span class="line">Explanation:</span><br><span class="line">    For number 4 in the first array, you cannot find the next greater number for it in the second array, so output -1.</span><br><span class="line">    For number 1 in the first array, the next greater number for it in the second array is 3.</span><br><span class="line">    For number 2 in the first array, there is no next greater number for it in the second array, so output -1.</span><br></pre></td></tr></table></figure><p><strong>1. brute force</strong> <strong>2. stack</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElement(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    <span class="comment">// if decreasing, keep pushing stack]</span></span><br><span class="line">    <span class="comment">// if increase, find result, pop and put</span></span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums2)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; num &gt; stack.peek())&#123;</span><br><span class="line">            map.put(stack.pop(),num);</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        map.put(stack.pop(),-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums1.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; ++i)</span><br><span class="line">        result[i] = map.get(nums1[i]);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="503-next-greater-element-ii-medium"><a href="#503-next-greater-element-ii-medium" class="headerlink" title="#503-next-greater-element-ii-medium]"></a>#503-next-greater-element-ii-medium]</h4><p>Given a circular array (the next element of the last element is the first element of the array), print the Next Greater Number for every element. The Next Greater Number of a number x is the first greater number to its traversing-order next in the array, which means you could search circularly to find its next greater number. If it doesn’t exist, output -1 for this number.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,1]</span><br><span class="line">Output: [2,-1,2]</span><br><span class="line">Explanation: The first 1&apos;s next greater number is 2; </span><br><span class="line">The number 2 can&apos;t find next greater number; </span><br><span class="line">The second 1&apos;s next greater number needs to search circularly, which is also 2.</span><br></pre></td></tr></table></figure><p><strong>iterate twice for circular arrays</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElements(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(result,-<span class="number">1</span>);</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();<span class="comment">// index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n*<span class="number">2</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums[i%n]&gt;nums[stack.peek()])</span><br><span class="line">            result[stack.pop()] = nums[i%n];</span><br><span class="line">        stack.push(i % n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="516-longest-palindromic-subsequence-medium"><a href="#516-longest-palindromic-subsequence-medium" class="headerlink" title="#516-longest-palindromic-subsequence-medium"></a>#516-longest-palindromic-subsequence-medium</h4><p>Given a string s, find the longest palindromic subsequence’s length in s. You may assume that the maximum length of s is 1000.</p><p><strong>Example 1:</strong><br>Input: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;bbbab&quot;</span><br></pre></td></tr></table></figure><p>Output: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><p>One possible longest palindromic subsequence is “bbbb”.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestPalindromeSubseq</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[s.length()][s.length()];</span><br><span class="line">    <span class="comment">// row need to bottom up, to make i+1 available</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.length()-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">        dp[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;s.length(); j++)&#123;</span><br><span class="line">            <span class="comment">// head + tail + len(head to tail)</span></span><br><span class="line">            <span class="comment">// 2 + dp[i+1][j-1]</span></span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) == s.charAt(j))</span><br><span class="line">                dp[i][j] = <span class="number">2</span> + dp[i+<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span>    <span class="comment">// [i-1][j] or [i][j-1]</span></span><br><span class="line">                dp[i][j] = Math.max(dp[i+<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][s.length()-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="556-next-greater-element-iii-medium"><a href="#556-next-greater-element-iii-medium" class="headerlink" title="#556-next-greater-element-iii-medium"></a>#556-next-greater-element-iii-medium</h4><p>Given a positive <strong>32-bit</strong> integer <strong>n</strong>, you need to find the smallest <strong>32-bit</strong> integer which has exactly the same digits existing in the integer <strong>n</strong>and is greater in value than n. If no such positive <strong>32-bit</strong> integer exists, you need to return -1.</p><p><strong><a href="#31-next-permutation-medium">#31-next-permutation-medium</a></strong></p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 12</span><br><span class="line">Output: 21</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//123987421, similar to #31-next-permutation-medium</span></span><br><span class="line">    <span class="keyword">char</span>[] num = String.valueOf(n).toCharArray();</span><br><span class="line">    <span class="keyword">int</span> idx1 = num.length - <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(idx1 &gt;=<span class="number">0</span> &amp;&amp; num[idx1] &gt;= num[idx1+<span class="number">1</span>])</span><br><span class="line">        idx1 --;</span><br><span class="line">    <span class="keyword">if</span>(idx1 &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> idx2 = num.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(num[idx2] &lt;= num[idx1])</span><br><span class="line">        idx2 --;</span><br><span class="line">    swap(num,idx1,idx2);</span><br><span class="line">    reverse(num,idx1+<span class="number">1</span>,num.length-<span class="number">1</span>);</span><br><span class="line">    String s = <span class="keyword">new</span> String(num);</span><br><span class="line">    <span class="comment">// handle overflow</span></span><br><span class="line">    String threshold = String.valueOf(Integer.MAX_VALUE);</span><br><span class="line">    <span class="comment">// string compare consider length first</span></span><br><span class="line">    <span class="keyword">if</span>(s.length() &gt;= threshold.length() &amp;&amp; s.compareTo(threshold) &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> Integer.parseInt(s);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span>[] num,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> temp = num[i];</span><br><span class="line">    num[i] = num[j];</span><br><span class="line">    num[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] num,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        swap(num,i,j);</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="560-subarray-sum-equals-k-medium"><a href="#560-subarray-sum-equals-k-medium" class="headerlink" title="#560-subarray-sum-equals-k-medium"></a>#560-subarray-sum-equals-k-medium</h4><p>Given an array of integers and an integer <strong>k</strong>, you need to find the total number of continuous subarrays whose sum equals to <strong>k</strong>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input:nums = [1,1,1], k = 2</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>The length of the array is in range [1, 20,000].</li><li>The range of numbers in the array is [-1000, 1000] and the range of the integer <strong>k</strong> is [-1e7, 1e7].</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subarraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// use map to save curr sum &amp; count</span></span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>,<span class="number">1</span>);   <span class="comment">// </span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        sum += num;</span><br><span class="line">        count += map.getOrDefault(sum-k,<span class="number">0</span>);</span><br><span class="line">        map.put(sum,map.getOrDefault(sum,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;401 ~ 500&lt;/th&gt;
&lt;th&gt;501 ~ 600&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;#503-next-greater-element-ii-m
      
    
    </summary>
    
      <category term="leetcode" scheme="https://jliao011.github.io/categories/leetcode/"/>
    
    
  </entry>
  
  <entry>
    <title>LeetCode Solutions 801 - 1000</title>
    <link href="https://jliao011.github.io/2018/05/27/leetcode-801-1000/"/>
    <id>https://jliao011.github.io/2018/05/27/leetcode-801-1000/</id>
    <published>2018-05-27T07:31:15.000Z</published>
    <updated>2018-07-27T04:47:18.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>801 ~ 900</th><th>901 ~ 1000</th></tr></thead><tbody><tr><td><a href="#809-expressive-word-medium">#809-expressive-word-medium</a></td><td></td></tr><tr><td><a href="#814-binary-tree-pruning-medium">#814-binary-tree-pruning-medium</a></td><td></td></tr><tr><td><a href="#817-linked-list-components-medium">#817-linked-list-components-medium</a></td><td></td></tr><tr><td><a href="#845-longest-mountain-in-array-medium">#845-longest-mountain-in-array-medium</a></td><td></td></tr><tr><td><a href="#855-exam-room-medium">#855-exam-room-medium</a></td><td></td></tr><tr><td><a href="#856-score-of-parentheses-medium">#856-score-of-parentheses-medium</a></td><td></td></tr><tr><td><a href="#862-shortest-subarray-with-sum-at-least-k-hard">#862-shortest-subarray-with-sum-at-least-k-hard</a></td><td></td></tr><tr><td><a href="#863-all-nodes-distance-k-in-binary-tree-medium">#863-all-nodes-distance-k-in-binary-tree-medium</a></td><td></td></tr><tr><td><a href="#864-random-pick-with-blacklist-hard">#864-random-pick-with-blacklist-hard</a></td><td></td></tr><tr><td><a href="#869-reordered-power-of-2-medium">#869-reordered-power-of-2-medium</a></td><td></td></tr><tr><td><a href="#870-advantage-shuffle-medium">#870-advantage-shuffle-medium</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td><a href="#880-random-pick-with-weight-medium">#880-random-pick-with-weight-medium</a></td></tr></tbody></table><hr><h4 id="809-expressive-word-medium"><a href="#809-expressive-word-medium" class="headerlink" title="#809-expressive-word-medium"></a>#809-expressive-word-medium</h4><p>Sometimes people repeat letters to represent extra feeling, such as “hello” -&gt; “heeellooo”, “hi” -&gt; “hiiii”.  Here, we have groups, of adjacent letters that are all the same character, and adjacent characters to the group are different.  A group is extended if that group is length 3 or more, so “e” and “o” would be extended in the first example, and “i” would be extended in the second example.  As another example, the groups of “abbcccaaaa” would be “a”, “bb”, “ccc”, and “aaaa”; and “ccc” and “aaaa” are the extended groups of that string.</p><p>For some given string S, a query word is <em>stretchy</em> if it can be made to be equal to S by extending some groups.  Formally, we are allowed to repeatedly choose a group (as defined above) of characters <code>c</code>, and add some number of the same character <code>c</code> to it so that the length of the group is 3 or more.  Note that we cannot extend a group of size one like “h” to a group of size two like “hh” - all extensions must leave the group extended - ie., at least 3 characters long.</p><p>Given a list of query words, return the number of words that are stretchy. </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Example:</span><br><span class="line">Input: </span><br><span class="line">S = &quot;heeellooo&quot;</span><br><span class="line">words = [&quot;hello&quot;, &quot;hi&quot;, &quot;helo&quot;]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: </span><br><span class="line">We can extend &quot;e&quot; and &quot;o&quot; in the word &quot;hello&quot; to get &quot;heeellooo&quot;.</span><br><span class="line">We can&apos;t extend &quot;helo&quot; to get &quot;heeellooo&quot; because the group &quot;ll&quot; is not extended.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">expressiveWords</span><span class="params">(String S, String[] words)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(S==<span class="keyword">null</span> || S.length()==<span class="number">0</span> || words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="comment">// i for S &lt;= j for word</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; S.length())&#123;</span><br><span class="line">            <span class="comment">// S.char == word.char, keep going</span></span><br><span class="line">            <span class="keyword">if</span>(j&lt;word.length() &amp;&amp; S.charAt(i)==word.charAt(j))&#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            <span class="comment">// check S.char is extend?</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; S.charAt(i)==S.charAt(i-<span class="number">1</span>) &amp;&amp; </span><br><span class="line">                    i&lt;S.length()-<span class="number">1</span> &amp;&amp; S.charAt(i)==S.charAt(i+<span class="number">1</span>))&#123; </span><br><span class="line">                    i += <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// check S when j reach word tail</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i&gt;<span class="number">1</span> &amp;&amp; S.charAt(i)==S.charAt(i-<span class="number">1</span>) &amp;&amp; S.charAt(i)==S.charAt(i-<span class="number">2</span>))&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(i==S.length() &amp;&amp; j==word.length())</span><br><span class="line">                count++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="814-binary-tree-pruning-medium"><a href="#814-binary-tree-pruning-medium" class="headerlink" title="#814-binary-tree-pruning-medium"></a>#814-binary-tree-pruning-medium</h4><p>We are given the head node <code>root</code> of a binary tree, where additionally every node’s value is either a 0 or a 1.</p><p>Return the same tree where every subtree (of the given tree) not containing a 1 has been removed.</p><p>(Recall that the subtree of a node X is X, plus every node that is a descendant of X.)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">pruneTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// can use no helper</span></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    root.left = pruneTree(root.left);</span><br><span class="line">    root.right = pruneTree(root.right);</span><br><span class="line">    <span class="comment">// post order</span></span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="817-linked-list-components-medium"><a href="#817-linked-list-components-medium" class="headerlink" title="#817-linked-list-components-medium"></a>#817-linked-list-components-medium</h4><p>We are given <code>head</code>, the head node of a linked list containing <strong>unique integer values</strong>.</p><p>We are also given the list <code>G</code>, a subset of the values in the linked list.</p><p>Return the number of connected components in <code>G</code>, where two values are connected if they appear consecutively in the linked list.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">head: 0-&gt;1-&gt;2-&gt;3</span><br><span class="line">G = [0, 1, 3]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line">0 and 1 are connected, so [0, 1] and [3] are the two connected components.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">head: 0-&gt;1-&gt;2-&gt;3-&gt;4</span><br><span class="line">G = [0, 3, 1, 4]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line">0 and 1 are connected, 3 and 4 are connected, so [0, 1] and [3, 4] are the two connected components.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong> </p><ul><li>If <code>N</code> is the length of the linked list given by <code>head</code>, <code>1 &lt;= N &lt;= 10000</code>.</li><li>The value of each node in the linked list will be in the range<code>[0, N - 1]</code>.</li><li><code>1 &lt;= G.length &lt;= 10000</code>.</li><li><code>G</code> is a subset of all values in the linked list.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numComponents</span><span class="params">(ListNode head, <span class="keyword">int</span>[] G)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use set, count tail of components</span></span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : G)</span><br><span class="line">        set.add(num);</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// if contains curr:</span></span><br><span class="line">        <span class="comment">// 1. this is end</span></span><br><span class="line">        <span class="comment">// 2. not contain next (tail)</span></span><br><span class="line">        <span class="keyword">if</span>(set.contains(head.val) &amp;&amp; </span><br><span class="line">           (head.next==<span class="keyword">null</span> || !set.contains(head.next.val)))</span><br><span class="line">            count ++;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="845-longest-mountain-in-array-medium"><a href="#845-longest-mountain-in-array-medium" class="headerlink" title="#845-longest-mountain-in-array-medium"></a>#845-longest-mountain-in-array-medium</h4><p>Let’s call any (contiguous) subarray B (of A) a <em>mountain</em> if the following properties hold:</p><ul><li><code>B.length &gt;= 3</code></li><li>There exists some <code>0 &lt; i &lt; B.length - 1</code> such that <code>B[0] &lt; B[1] &lt; ... B[i-1] &lt; B[i] &gt; B[i+1] &gt; ... &gt; B[B.length - 1]</code></li></ul><p>(Note that B could be any subarray of A, including the entire array A.)</p><p>Given an array <code>A</code> of integers, return the length of the longest <em>mountain</em>. </p><p>Return <code>0</code> if there is no mountain.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [2,1,4,7,3,2,5]</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: The largest mountain is [1,4,7,3,2] which has length 5.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [2,2,2]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: There is no mountain.</span><br></pre></td></tr></table></figure><p><strong>3 pass solution: from left to right, then right to left</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestMountain</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] increase = <span class="keyword">new</span> <span class="keyword">int</span>[A.length];</span><br><span class="line">    <span class="keyword">int</span>[] decrease = <span class="keyword">new</span> <span class="keyword">int</span>[A.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;A.length; ++i)</span><br><span class="line">        <span class="keyword">if</span>(A[i] &gt; A[i-<span class="number">1</span>])</span><br><span class="line">            increase[i] = increase[i-<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=A.length-<span class="number">2</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span>(A[i] &gt; A[i + <span class="number">1</span>])</span><br><span class="line">            decrease[i] = decrease[i+<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;A.length; ++i)</span><br><span class="line">        <span class="keyword">if</span>(increase[i] &gt; <span class="number">0</span> &amp;&amp; decrease[i] &gt; <span class="number">0</span>)</span><br><span class="line">        maxLen = Math.max(maxLen,increase[i]+decrease[i]+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>space O(1) solution:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestMountain</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(head &lt; A.length)&#123;</span><br><span class="line">        tail = head;</span><br><span class="line">        <span class="comment">// find mountain head</span></span><br><span class="line">        <span class="keyword">if</span>(tail+<span class="number">1</span> &lt; A.length &amp;&amp; A[tail] &lt; A[tail+<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="comment">// reach mountain peak</span></span><br><span class="line">            <span class="keyword">while</span>(tail+<span class="number">1</span> &lt; A.length &amp;&amp; A[tail] &lt; A[tail+<span class="number">1</span>])</span><br><span class="line">                tail ++;</span><br><span class="line">            <span class="comment">// find mountain tail</span></span><br><span class="line">            <span class="keyword">if</span>(tail+<span class="number">1</span> &lt; A.length &amp;&amp; A[tail] &gt; A[tail+<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="comment">// reach mountain tail</span></span><br><span class="line">                <span class="keyword">while</span>(tail+<span class="number">1</span> &lt; A.length &amp;&amp; A[tail] &gt; A[tail+<span class="number">1</span>])</span><br><span class="line">                    tail ++;</span><br><span class="line">                maxLen = Math.max(maxLen,tail-head+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// head change to tail or move forward !</span></span><br><span class="line">        head = Math.max(tail,head+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="855-exam-room-medium"><a href="#855-exam-room-medium" class="headerlink" title="#855-exam-room-medium"></a>#855-exam-room-medium</h4><p>In an exam room, there are <code>N</code> seats in a single row, numbered <code>0, 1, 2, ..., N-1</code>.</p><p>When a student enters the room, they must sit in the seat that maximizes the distance to the closest person.  If there are multiple such seats, they sit in the seat with the lowest number.  (Also, if no one is in the room, then the student sits at seat number 0.)</p><p>Return a class <code>ExamRoom(int N)</code> that exposes two functions: <code>ExamRoom.seat()</code> returning an <code>int</code> representing what seat the student sat in, and <code>ExamRoom.leave(int p)</code> representing that the student in seat number <code>p</code> now leaves the room.  It is guaranteed that any calls to <code>ExamRoom.leave(p)</code> have a student sitting in seat <code>p</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;ExamRoom&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;leave&quot;,&quot;seat&quot;], [[10],[],[],[],[],[4],[]]</span><br><span class="line">Output: [null,0,9,4,2,null,5]</span><br><span class="line">Explanation:</span><br><span class="line">ExamRoom(10) -&gt; null</span><br><span class="line">seat() -&gt; 0, no one is in the room, then the student sits at seat number 0.</span><br><span class="line">seat() -&gt; 9, the student sits at the last seat number 9.</span><br><span class="line">seat() -&gt; 4, the student sits at the last seat number 4.</span><br><span class="line">seat() -&gt; 2, the student sits at the last seat number 2.</span><br><span class="line">leave(4) -&gt; null</span><br><span class="line">seat() -&gt; 5, the student sits at the last seat number 5.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExamRoom</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    TreeSet&lt;Integer&gt; set;</span><br><span class="line">    <span class="comment">// use TreeSet to maintain increasing idx</span></span><br><span class="line">    <span class="comment">// idx = left + maxDist / 2;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExamRoom</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.N = N;</span><br><span class="line">        <span class="keyword">this</span>.set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">seat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// this way handles seat at 0</span></span><br><span class="line">        <span class="keyword">if</span>(set.size() &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> maxDist = set.first(); <span class="comment">// deal with first interval</span></span><br><span class="line">            <span class="keyword">int</span> prev = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> student : set)&#123; <span class="comment">// iteration in order</span></span><br><span class="line">                <span class="keyword">if</span>(prev != -<span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">int</span> dist = (student - prev) / <span class="number">2</span>;</span><br><span class="line">                    <span class="keyword">if</span>(dist &gt; maxDist)&#123;</span><br><span class="line">                        maxDist = dist;</span><br><span class="line">                        idx = prev + maxDist;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                prev = student;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// deal with last interval</span></span><br><span class="line">            <span class="keyword">if</span>(N - <span class="number">1</span> - set.last() &gt; maxDist)</span><br><span class="line">                idx = N - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        set.add(idx);</span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">leave</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        set.remove(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="856-score-of-parentheses-medium"><a href="#856-score-of-parentheses-medium" class="headerlink" title="#856-score-of-parentheses-medium"></a>#856-score-of-parentheses-medium</h4><p>Given a balanced parentheses string <code>S</code>, compute the score of the string based on the following rule:</p><ul><li><p><code>()</code> has score 1</p></li><li><p><code>AB</code> has score <code>A + B</code>, where A and B are balanced parentheses strings.</p></li><li><p><code>(A)</code> has score <code>2 * A</code>, where A is a balanced parentheses string.</p></li><li><p><strong>Example 4:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;(()(()))&quot;</span><br><span class="line">Output: 6</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// assume S is balanced</span></span><br><span class="line">    <span class="keyword">if</span>(S==<span class="keyword">null</span> || S.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : S.toCharArray())&#123;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'('</span>)</span><br><span class="line">            <span class="comment">// use 0 mark (</span></span><br><span class="line">            stack.push(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// sum in same level</span></span><br><span class="line">             <span class="keyword">while</span>(stack.peek()!=<span class="number">0</span>) </span><br><span class="line">                 temp += stack.pop();</span><br><span class="line">            stack.pop();    <span class="comment">// pop the 0</span></span><br><span class="line">            <span class="comment">// if temp is 0, push 1, else push 2*temp</span></span><br><span class="line">            stack.push(Math.max(<span class="number">2</span>*temp,<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 0 level sum</span></span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        result += stack.pop();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>space O(1): maintain level</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> level = <span class="number">0</span>, result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i)&#123;</span><br><span class="line">        <span class="comment">// maintain level</span></span><br><span class="line">        level += S.charAt(i)==<span class="string">'('</span> ? <span class="number">1</span>:-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">// add when find (), only () could add to result</span></span><br><span class="line">        <span class="keyword">if</span>(S.charAt(i) == <span class="string">'('</span> &amp;&amp; S.charAt(i+<span class="number">1</span>) == <span class="string">')'</span>)</span><br><span class="line">            result += <span class="number">1</span> &lt;&lt; (level-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="862-shortest-subarray-with-sum-at-least-k-hard"><a href="#862-shortest-subarray-with-sum-at-least-k-hard" class="headerlink" title="#862-shortest-subarray-with-sum-at-least-k-hard"></a>#862-shortest-subarray-with-sum-at-least-k-hard</h4><p>Return the <strong>length</strong> of the shortest, non-empty, contiguous subarray of <code>A</code> with sum at least <code>K</code>.</p><p>If there is no non-empty subarray with sum at least <code>K</code>, return <code>-1</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [1], K = 1</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [1,2], K = 4</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [2,-1,2], K = 3</span><br><span class="line">Output: 3</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestSubarray</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(A == <span class="keyword">null</span> || A.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] sums = <span class="keyword">new</span> <span class="keyword">int</span>[A.length + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// accumulated array</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;A.length; ++i)</span><br><span class="line">        sums[i+<span class="number">1</span>] = sums[i] + A[i];</span><br><span class="line">    <span class="keyword">int</span> minLen = A.length + <span class="number">1</span>;</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;sums.length; ++i)&#123;</span><br><span class="line">        <span class="comment">// sliding window, if only increasing then this case</span></span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; sums[i] - sums[deque.peekFirst()] &gt;= K)</span><br><span class="line">            minLen = Math.min(minLen,i - deque.pollFirst());</span><br><span class="line">        <span class="comment">// if i+1 negative value in A, sums will decrease at i</span></span><br><span class="line">        <span class="comment">// keep the deque increasing </span></span><br><span class="line">        <span class="comment">// smaller sum with larger idx could be result instead of large sum with small idx</span></span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; sums[i] &lt;= sums[deque.peekLast()])</span><br><span class="line">            deque.pollLast();</span><br><span class="line">        deque.offerLast(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen &gt; A.length ? -<span class="number">1</span> : minLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="863-all-nodes-distance-k-in-binary-tree-medium"><a href="#863-all-nodes-distance-k-in-binary-tree-medium" class="headerlink" title="#863-all-nodes-distance-k-in-binary-tree-medium"></a>#863-all-nodes-distance-k-in-binary-tree-medium</h4><p>We are given a binary tree (with root node <code>root</code>), a <code>target</code> node, and an integer value <code>K</code>.</p><p>Return a list of the values of all nodes that have a distance <code>K</code> from the <code>target</code> node.  The answer can be returned in any order.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [3,5,1,6,2,0,8,null,null,7,4], target = 5, K = 2</span><br><span class="line">Output: [7,4,1]</span><br><span class="line">Explanation: </span><br><span class="line">The nodes that are a distance 2 from the target node (with value 5)</span><br><span class="line">have values 7, 4, and 1.</span><br><span class="line"></span><br><span class="line">Note that the inputs &quot;root&quot; and &quot;target&quot; are actually TreeNodes.</span><br><span class="line">The descriptions of the inputs above are just serializations of these objects.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>The given tree is non-empty.</li><li>Each node in the tree has unique values <code>0 &lt;= node.val &lt;= 500</code>.</li><li>The <code>target</code> node is a node in the tree.</li><li><code>0 &lt;= K &lt;= 1000</code>.</li></ol><p><a href="https://www.geeksforgeeks.org/print-nodes-distance-k-given-node-binary-tree/" target="_blank" rel="noopener">geeks for geeks reference</a></p><p><strong>Undirected graph bfs:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">distanceK</span><span class="params">(TreeNode root, TreeNode target, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use BFS, treat as undirected graph</span></span><br><span class="line">    <span class="comment">// nei of a node: left, right, parent</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span> || target == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="comment">// build parentMap</span></span><br><span class="line">    Map&lt;TreeNode,TreeNode&gt; parentMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    findParent(root,<span class="keyword">null</span>,parentMap);</span><br><span class="line">    <span class="comment">// init bfs</span></span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;TreeNode&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    queue.offer(target);</span><br><span class="line">    <span class="keyword">int</span> dist = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(dist == K)&#123;</span><br><span class="line">            <span class="keyword">while</span>(!queue.isEmpty())</span><br><span class="line">                result.add(queue.poll().val);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// level order</span></span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            visited.add(curr);</span><br><span class="line">            <span class="comment">// add left, right, parent</span></span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span> &amp;&amp; !visited.contains(curr.left))</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span> &amp;&amp; !visited.contains(curr.right))</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">            TreeNode parent = parentMap.get(curr);</span><br><span class="line">            <span class="keyword">if</span>(parent != <span class="keyword">null</span> &amp;&amp; !visited.contains(parent))</span><br><span class="line">                queue.offer(parent);</span><br><span class="line">        &#125;</span><br><span class="line">        dist ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">findParent</span><span class="params">(TreeNode root,TreeNode parent,Map&lt;TreeNode,TreeNode&gt; parentMap)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// child -&gt; parent</span></span><br><span class="line">    <span class="keyword">if</span>(parent != <span class="keyword">null</span>)</span><br><span class="line">        parentMap.put(root,parent);</span><br><span class="line">    findParent(root.left,root,parentMap);</span><br><span class="line">    findParent(root.right,root,parentMap);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>DFS consider subtree and ancestor:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">distanceK</span><span class="params">(TreeNode root, TreeNode target, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// dfs 2 cases:</span></span><br><span class="line">    <span class="comment">// first: subtree of target node</span></span><br><span class="line">    <span class="comment">// second: ancestor or other subtree</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    getDist(root,target,K,result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for first case, no target found return -1, </span></span><br><span class="line"><span class="comment">// return 0 when find target, then backtrack increase dist</span></span><br><span class="line"><span class="comment">// backward get K, or search in the other subtree </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getDist</span><span class="params">(TreeNode root,TreeNode target,<span class="keyword">int</span> K,List&lt;Integer&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(root == target)&#123;</span><br><span class="line">        <span class="comment">// search subtree then search second case</span></span><br><span class="line">        findSubTree(root,K,result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> leftDist = getDist(root.left,target,K,result);</span><br><span class="line">    <span class="comment">// target in left subtree</span></span><br><span class="line">    <span class="keyword">if</span>(leftDist != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(leftDist + <span class="number">1</span> == K)</span><br><span class="line">            result.add(root.val);</span><br><span class="line">        <span class="keyword">else</span>    <span class="comment">// search right subtree</span></span><br><span class="line">            findSubTree(root.right,K-<span class="number">2</span>-leftDist,result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + leftDist;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> rightDist = getDist(root.right,target,K,result);</span><br><span class="line">    <span class="keyword">if</span>(rightDist != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(rightDist + <span class="number">1</span> == K)</span><br><span class="line">            result.add(root.val);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            findSubTree(root.left,K-<span class="number">2</span>-rightDist,result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + rightDist;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for case search in target subtree</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">findSubTree</span><span class="params">(TreeNode root,<span class="keyword">int</span> K,List&lt;Integer&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(K == <span class="number">0</span>)&#123;</span><br><span class="line">        result.add(root.val);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    findSubTree(root.left,K-<span class="number">1</span>,result);</span><br><span class="line">    findSubTree(root.right,K-<span class="number">1</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="864-random-pick-with-blacklist-hard"><a href="#864-random-pick-with-blacklist-hard" class="headerlink" title="#864-random-pick-with-blacklist-hard"></a>#864-random-pick-with-blacklist-hard</h4><p>Given a blacklist <code>B</code> containing unique integers from <code>[0, N)</code>, write a function to return a uniform random integer from <code>[0, N)</code> which is <strong>NOT</strong> in <code>B</code>.</p><p>Optimize it such that it minimizes the call to system’s <code>Math.random()</code>.</p><p><strong>Note:</strong></p><ol><li><code>1 &lt;= N &lt;= 1000000000</code></li><li><code>0 &lt;= B.length &lt; min(100000, N)</code></li><li><code>[0, N)</code> does NOT include N. See <a href="https://en.wikipedia.org/wiki/Interval_(mathematics" target="_blank" rel="noopener">interval notation</a>).</li></ol><p><img src="https://s3-lc-upload.s3.amazonaws.com/users/cafebaby/image_1530657902.png" alt="image"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    Set&lt;Integer&gt; blackSet;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="keyword">int</span> range;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span>[] blacklist)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// B black num, N total, N-B valid</span></span><br><span class="line">        <span class="comment">// map black num [0,N-B] to valid num  [N-B,N]</span></span><br><span class="line">        <span class="comment">// [0,N-B)[N-B,N)</span></span><br><span class="line">        <span class="keyword">this</span>.blackSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> B = blacklist.length;</span><br><span class="line">        <span class="comment">// save black num after N-B</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : blacklist)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= N-B)</span><br><span class="line">                blackSet.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> val = N - B;</span><br><span class="line">        <span class="comment">// map black num before N-B</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : blacklist)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &lt; N - B)&#123;</span><br><span class="line">                <span class="keyword">while</span>(blackSet.contains(val))</span><br><span class="line">                    val ++;</span><br><span class="line">                map.put(num,val++);<span class="comment">// notice ++</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.range = N - B;   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key = <span class="keyword">this</span>.random.nextInt(range);</span><br><span class="line">        <span class="comment">// if contains in black map, return val</span></span><br><span class="line">        <span class="comment">// otherwise valid, return directly</span></span><br><span class="line">        <span class="keyword">return</span> map.getOrDefault(key,key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="869-reordered-power-of-2-medium"><a href="#869-reordered-power-of-2-medium" class="headerlink" title="#869-reordered-power-of-2-medium"></a>#869-reordered-power-of-2-medium</h4><p>Starting with a positive integer <code>N</code>, we reorder the digits in any order (including the original order) such that the leading digit is not zero.</p><p>Return <code>true</code> if and only if we can do this in a way such that the resulting number is a power of 2.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 10</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 16</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 4:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 24</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><p><strong>similar to histogram, use power of 10 instead, faster</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">reorderedPowerOf2</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = count(N), base = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">31</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(count(base) == n)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        base &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(num != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> digit = num % <span class="number">10</span>;</span><br><span class="line">        result += Math.pow(<span class="number">10</span>,digit);</span><br><span class="line">        num /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="870-advantage-shuffle-medium"><a href="#870-advantage-shuffle-medium" class="headerlink" title="#870-advantage-shuffle-medium"></a>#870-advantage-shuffle-medium</h4><p>Given two arrays <code>A</code> and <code>B</code> of equal size, the <em>advantage of A with respect to B</em> is the number of indices <code>i</code> for which <code>A[i] &gt; B[i]</code>.</p><p>Return <strong>any</strong> permutation of <code>A</code> that maximizes its advantage with respect to <code>B</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [2,7,11,15], B = [1,10,4,11]</span><br><span class="line">Output: [2,11,7,15]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [12,24,8,32], B = [13,25,32,11]</span><br><span class="line">Output: [24,32,8,12]</span><br></pre></td></tr></table></figure><p><strong>Greedy: compare largest A with largest B, if A &gt; B, put it on B, otherwise no number could larger than B, put the smallest num</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] advantageCount(<span class="keyword">int</span>[] A, <span class="keyword">int</span>[] B) &#123;</span><br><span class="line">    Arrays.sort(A);</span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;(o2[<span class="number">0</span>]-o1[<span class="number">0</span>]));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;B.length; ++i)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;B[i],i&#125;);</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[A.length];</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = A.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!heap.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span>[] curr = heap.poll();</span><br><span class="line">        <span class="keyword">if</span>(A[right] &gt; curr[<span class="number">0</span>])</span><br><span class="line">            result[curr[<span class="number">1</span>]] = A[right--];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result[curr[<span class="number">1</span>]] = A[left++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="880-random-pick-with-weight-medium"><a href="#880-random-pick-with-weight-medium" class="headerlink" title="#880-random-pick-with-weight-medium"></a>#880-random-pick-with-weight-medium</h4><p>Given an array <code>w</code> of positive integers, where <code>w[i]</code> describes the weight of index <code>i</code>, write a function <code>pickIndex</code> which randomly picks an index in proportion to its weight.</p><p>Note:</p><ol><li><code>1 &lt;= w.length &lt;= 10000</code></li><li><code>1 &lt;= w[i] &lt;= 10^5</code></li><li><code>pickIndex</code> will be called at most <code>10000</code> times.</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">[&quot;Solution&quot;,&quot;pickIndex&quot;]</span><br><span class="line">[[[1]],[]]</span><br><span class="line">Output: [null,0]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">[&quot;Solution&quot;,&quot;pickIndex&quot;,&quot;pickIndex&quot;,&quot;pickIndex&quot;,&quot;pickIndex&quot;,&quot;pickIndex&quot;]</span><br><span class="line">[[[1,3]],[],[],[],[],[]]</span><br><span class="line">Output: [null,0,1,1,1,0]</span><br></pre></td></tr></table></figure><p><strong>Using sum array and binary search</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="keyword">int</span>[] wSums;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;w.length; ++i)</span><br><span class="line">            w[i] += w[i-<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">this</span>.wSums = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pickIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = wSums.length;</span><br><span class="line">        <span class="keyword">int</span> idx = random.nextInt(wSums[len-<span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = len - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// search position </span></span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(wSums[mid] == idx)</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(wSums[mid] &lt; idx)</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using TreeMap</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Random random;</span><br><span class="line">    TreeMap&lt;Integer,Integer&gt; treeMap;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">this</span>.treeMap = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;w.length; ++i)&#123;</span><br><span class="line">            sum += w[i];</span><br><span class="line">            treeMap.put(sum,i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pickIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = random.nextInt(sum) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> key = treeMap.ceilingKey(idx);</span><br><span class="line">        <span class="keyword">return</span> treeMap.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;801 ~ 900&lt;/th&gt;
&lt;th&gt;901 ~ 1000&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;#809-expressive-word-medium&quot;&gt;#809-expre
      
    
    </summary>
    
      <category term="leetcode" scheme="https://jliao011.github.io/categories/leetcode/"/>
    
    
  </entry>
  
  <entry>
    <title>LeetCode Solutions 201 - 400</title>
    <link href="https://jliao011.github.io/2018/05/27/leetcode-201-400/"/>
    <id>https://jliao011.github.io/2018/05/27/leetcode-201-400/</id>
    <published>2018-05-27T07:31:15.000Z</published>
    <updated>2018-07-31T23:41:46.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>201 ~ 300</th><th>301 ~ 400</th></tr></thead><tbody><tr><td><a href="#201-bitwise-and-of-numbers-range-medium">#201-bitwise-and-of-numbers-range-medium</a></td><td></td></tr><tr><td><a href="#204-count-primes-easy">#204-count-primes-easy</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td><strong><a href="#206-reverse-linked-list-easy">#206-reverse-linked-list-easy</a></strong></td><td></td></tr><tr><td><a href="#207-course-schedule-medium">#207-course-schedule-medium</a></td><td></td></tr><tr><td><strong><a href="#210-course-schedule-ii-medium">#210-course-schedule-ii-medium</a></strong></td><td><a href="#310-minimum-height-trees-medium">#310-minimum-height-trees-medium</a></td></tr><tr><td><a href="#211-add-and-search-word-medium">#211-add-and-search-word-medium</a></td><td></td></tr><tr><td></td><td><a href="#313-supper-ugly-number-medium">#313-supper-ugly-number-medium</a></td></tr><tr><td></td><td></td></tr><tr><td><a href="#217-contains-duplicate-easy">#217-contains-duplicate-easy</a></td><td></td></tr><tr><td><a href="#219-contains-duplicate-ii-easy">#219-contains-duplicate-ii-easy</a></td><td></td></tr><tr><td><a href="#220-contains-duplicate-iii-medium">#220-contains-duplicate-iii-medium</a></td><td></td></tr><tr><td><a href="#223-rectangle-area-medium">#223-rectangle-area-medium</a></td><td><a href="#323-number-of-connected-components-medium">#323-number-of-connected-components-medium</a></td></tr><tr><td></td><td><a href="#325-max-size-subarray-sum-equals-k-medium">#325-max-size-subarray-sum-equals-k-medium</a></td></tr><tr><td><a href="#228-summary-ranges-medium">#228-summary-ranges-medium</a></td><td></td></tr><tr><td><a href="#229-majority-element-ii-medium">#229-majority-element-ii-medium</a></td><td></td></tr><tr><td></td><td><a href="#332-reconstruct-itinerary-medium">#332-reconstruct-itinerary-medium</a></td></tr><tr><td><a href="#235-lca-of-a-bst-easy">#235-lca-of-a-bst-easy</a></td><td><a href="#335-self-crossing-hard">#335-self-crossing-hard</a></td></tr><tr><td><a href="#236-lca-of-a-binary-tree-medium">#236-lca-of-a-binary-tree-medium</a></td><td></td></tr><tr><td><a href="#241-different-ways-to-add-parentheses-medium">#241-different-ways-to-add-parentheses-medium</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td><a href="#243-shortest-word-distance-easy">#243-shortest-word-distance-easy</a></td><td></td></tr><tr><td><a href="#244-shortest-word-distance-ii-medium">#244-shortest-word-distance-ii-medium</a></td><td></td></tr><tr><td><a href="#245-shortest-word-distance-iii-medium">#245-shortest-word-distance-iii-medium</a></td><td></td></tr><tr><td></td><td><a href="#347-top-k-frequent-elements-medium">#347-top-k-frequent-elements-medium</a></td></tr><tr><td><a href="#248-strobogrammatic-number-iii-hard">#248-strobogrammatic-number-iii-hard</a></td><td></td></tr><tr><td><a href="#250-count-univalue-subtrees-medium">#250-count-univalue-subtrees-medium</a></td><td><a href="#350-intersection-of-two-arrays-easy">#350-intersection-of-two-arrays-easy</a></td></tr><tr><td><a href="#251-flatten-2d-vector-medium">#251-flatten-2d-vector-medium</a></td><td></td></tr><tr><td><a href="#253-meeting-rooms-ii-medium">#253-meeting-rooms-ii-medium</a></td><td></td></tr><tr><td><a href="#263-ugly-number-easy">#263-ugly-number-easy</a></td><td></td></tr><tr><td><a href="#268-missing-number-easy">#268-missing-number-easy</a></td><td></td></tr><tr><td><a href="#269-alien-dictionary-hard">#269-alien-dictionary-hard</a></td><td></td></tr><tr><td><a href="#271-encode-and-decode-strings-medium">#271-encode-and-decode-strings-medium</a></td><td><strong><a href="#371-sum-of-two-integers-easy">#371-sum-of-two-integers-easy</a></strong></td></tr><tr><td><a href="#272-closest-bst-value-ii-hard">#272-closest-bst-value-ii-hard</a></td><td></td></tr><tr><td></td><td><a href="#373-find-k-pairs-with-smallest-sum-medium">#373-find-k-pairs-with-smallest-sum-medium</a></td></tr><tr><td></td><td><a href="#378-k-th-smallest-element-in-a-sorted-matrix-medium">#378-k-th-smallest-element-in-a-sorted-matrix-medium</a></td></tr><tr><td><a href="#279-perfect-squares-medium">#279-perfect-squares-medium</a></td><td></td></tr><tr><td></td><td><a href="#380-insert-delete-getrandom-o1-medium">#380-insert-delete-getrandom-o1-medium</a></td></tr><tr><td></td><td></td></tr><tr><td></td><td><a href="#384-shuffle-an-array-medium">#384-shuffle-an-array-medium</a></td></tr><tr><td><strong><a href="#285-inorder-successor-in-bst-medium">#285-inorder-successor-in-bst-medium</a></strong></td><td></td></tr><tr><td><a href="#287-find-duplicate-number-medium">#287-find-duplicate-number-medium</a></td><td></td></tr><tr><td></td><td><a href="#388-longest-absolute-file-path-medium">#388-longest-absolute-file-path-medium</a></td></tr><tr><td></td><td><a href="#394-decode-string-medium">#394-decode-string-medium</a></td></tr><tr><td><a href="#295-find-median-from-data-stream-hard">#295-find-median-from-data-stream-hard</a></td><td></td></tr><tr><td><a href="#297-encode-and-decode-binary-tree-hard">#297-encode-and-decode-binary-tree-hard</a></td><td></td></tr><tr><td></td><td><a href="#398-random-pick-index-medium">#398-random-pick-index-medium</a></td></tr><tr><td><a href="#300-longest-increasing-subsequence-medium">#300-longest-increasing-subsequence-medium</a></td></tr></tbody></table><hr><h4 id="201-bitwise-and-of-numbers-range-medium"><a href="#201-bitwise-and-of-numbers-range-medium" class="headerlink" title="#201-bitwise-and-of-numbers-range-medium"></a>#201-bitwise-and-of-numbers-range-medium</h4><p>Given a range [m, n] where 0 &lt;= m &lt;= n &lt;= 2147483647, return the bitwise AND of all numbers in this range, inclusive.</p><p>For example, given the range [5, 7], you should return 4.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rangeBitwiseAnd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// right shift, all tail digits are 0</span></span><br><span class="line">    <span class="comment">// until m == n, this is the head</span></span><br><span class="line">    <span class="comment">// append 0 tail to head</span></span><br><span class="line">    <span class="keyword">if</span>(m == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// 0 &amp; x == 0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tailLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(m != n)&#123;</span><br><span class="line">        m &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        tailLen ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m &lt;&lt; tailLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="204-count-primes-easy"><a href="#204-count-primes-easy" class="headerlink" title="#204-count-primes-easy"></a>#204-count-primes-easy</h4><p><strong>Description:</strong></p><p>Count the number of prime numbers less than a non-negative number, <strong>n</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// indicate whether prime</span></span><br><span class="line">    <span class="keyword">boolean</span>[] prime = <span class="keyword">new</span> <span class="keyword">boolean</span>[n]; </span><br><span class="line">    Arrays.fill(prime,<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prime[i])&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>; i*j&lt;n; j++)&#123;</span><br><span class="line">                prime[i * j] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="205-isomorphic-strings-easy"><a href="#205-isomorphic-strings-easy" class="headerlink" title="#205-isomorphic-strings-easy"></a>#205-isomorphic-strings-easy</h4><p>Given two strings <strong>s</strong> and <strong>t</strong>, determine if they are isomorphic.</p><p>Two strings are isomorphic if the characters in <strong>s</strong> can be replaced to get <strong>t</strong>.</p><p>All occurrences of a character must be replaced with another character while preserving the order of characters. No two characters may map to the same character but a character may map to itself.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;egg&quot;, t = &quot;add&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;foo&quot;, t = &quot;bar&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;paper&quot;, t = &quot;title&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isIsomorphic</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || t == <span class="keyword">null</span> || s.length() != t.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Map&lt;Character,Character&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">char</span> c1 = s.charAt(i), c2 = t.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(c1))&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.get(c1) != c2)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsValue(c2))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            map.put(c1,c2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>change <code>map.containsValue()</code> from  O(n) to O(1)</strong></p><p><strong>But add extra O(n) space</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isIsomorphic</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || t == <span class="keyword">null</span> || s.length() != t.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span>[] map = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] set = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">256</span>];</span><br><span class="line">    Arrays.fill(map,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">char</span> c1 = s.charAt(i), c2 = t.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(map[c1] != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map[c1] != c2)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(set[c2])</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            map[c1] = c2;</span><br><span class="line">            set[c2] = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="206-reverse-linked-list-easy"><a href="#206-reverse-linked-list-easy" class="headerlink" title="#206-reverse-linked-list-easy"></a>#206-reverse-linked-list-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode newhead = <span class="keyword">null</span>, next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>)&#123;</span><br><span class="line">        next = head.next;</span><br><span class="line">        head.next = newhead;</span><br><span class="line">        newhead = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newhead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode newhead = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> newhead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="207-course-schedule-medium"><a href="#207-course-schedule-medium" class="headerlink" title="#207-course-schedule-medium"></a>#207-course-schedule-medium</h4><p>There are a total of <em>n</em> courses you have to take, labeled from <code>0</code> to <code>n-1</code>.</p><p>Some courses may have prerequisites, for example to take course 0 you have to first take course 1, which is expressed as a pair: <code>[0,1]</code></p><p>Given the total number of courses and a list of prerequisite <strong>pairs</strong>, is it possible for you to finish all courses?</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: 2, [[1,0]] </span><br><span class="line">Output: true</span><br><span class="line">Explanation: There are a total of 2 courses to take. </span><br><span class="line">             To take course 1 you should have finished course 0. So it is possible.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// detect cycle</span></span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; adjList = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] pre : prerequisites)&#123;</span><br><span class="line">        <span class="comment">// only add edge relations</span></span><br><span class="line">        <span class="comment">// notice parent child relation</span></span><br><span class="line">        <span class="keyword">int</span> parent = pre[<span class="number">1</span>], child = pre[<span class="number">0</span>];</span><br><span class="line">        Set&lt;Integer&gt; children = adjList.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            adjList.put(parent,children);</span><br><span class="line">        &#125;</span><br><span class="line">        children.add(child);</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> parent : adjList.keySet())&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(adjList,parent,visited,<span class="keyword">new</span> HashSet&lt;&gt;()))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;           </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(Map&lt;Integer,Set&lt;Integer&gt;&gt; adjList,<span class="keyword">int</span> curr,Set&lt;Integer&gt; visited,Set&lt;Integer&gt; path)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(path.contains(curr)) <span class="comment">// check visited first yields error</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(visited.contains(curr) || !adjList.containsKey(curr))</span><br><span class="line">        <span class="comment">// visited or has reach leaf</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    path.add(curr);</span><br><span class="line">    Set&lt;Integer&gt; children = adjList.get(curr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(adjList,child,visited,path))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;           </span><br><span class="line">    &#125;</span><br><span class="line">    visited.add(curr);  <span class="comment">// could add to visit before or after for loop</span></span><br><span class="line">    path.remove(curr);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BFS check indegree:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// detect cycle, bfs</span></span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; adjList = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; inDegree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] pre : prerequisites)&#123;</span><br><span class="line">        <span class="comment">// only add edge relations</span></span><br><span class="line">        <span class="comment">// notice parent child relation</span></span><br><span class="line">        <span class="keyword">int</span> parent = pre[<span class="number">1</span>], child = pre[<span class="number">0</span>];</span><br><span class="line">        Set&lt;Integer&gt; children = adjList.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            adjList.put(parent,children);</span><br><span class="line">        &#125;</span><br><span class="line">        children.add(child);</span><br><span class="line">        <span class="comment">// update indegree</span></span><br><span class="line">        inDegree.put(child,inDegree.getOrDefault(child,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// queue is inited using node with 0 indegree</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> parent : adjList.keySet())&#123;</span><br><span class="line">        <span class="comment">// children has non-0 indegree for sure, check parents only</span></span><br><span class="line">        <span class="keyword">if</span>(!inDegree.containsKey(parent))</span><br><span class="line">            queue.offer(parent);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> parent = queue.poll();</span><br><span class="line">        Set&lt;Integer&gt; children = adjList.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">            <span class="comment">// remove one indegree, since parent is visited</span></span><br><span class="line">            inDegree.put(child,inDegree.get(child)-<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// only add non-0 degree node</span></span><br><span class="line">            <span class="keyword">if</span>(inDegree.get(child) == <span class="number">0</span>)</span><br><span class="line">                queue.offer(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if no cycle, all degrees are set to 0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> degree : inDegree.values())</span><br><span class="line">        <span class="keyword">if</span>(degree != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="210-course-schedule-ii-medium"><a href="#210-course-schedule-ii-medium" class="headerlink" title="#210-course-schedule-ii-medium"></a>#210-course-schedule-ii-medium</h4><p><strong>topological sort a directed graph</strong></p><p><strong>dfs with check cycle:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] pre : prerequisites)&#123;</span><br><span class="line">        <span class="keyword">int</span> parent = pre[<span class="number">1</span>], child = pre[<span class="number">0</span>];</span><br><span class="line">        Set&lt;Integer&gt; children = graph.get(parent);</span><br><span class="line">        <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">            children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            graph.put(parent,children);</span><br><span class="line">        &#125;</span><br><span class="line">        children.add(child);</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> curr=<span class="number">0</span>; curr&lt;numCourses; ++curr)&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(graph,curr,visited,stack,<span class="keyword">new</span> HashSet&lt;&gt;()))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        result[i++] = stack.pop();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(Map&lt;Integer,Set&lt;Integer&gt;&gt; graph,<span class="keyword">int</span> curr,Set&lt;Integer&gt; visited,Stack&lt;Integer&gt; stack,Set&lt;Integer&gt; path)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(path.contains(curr))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(visited.contains(curr))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    path.add(curr);</span><br><span class="line">    visited.add(curr);</span><br><span class="line">    Set&lt;Integer&gt; children = graph.get(curr);</span><br><span class="line">    <span class="keyword">if</span>(children != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hasCycle(graph,child,visited,stack,path))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// visited.add(curr);</span></span><br><span class="line">    stack.push(curr);</span><br><span class="line">    path.remove(curr);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BFS: ADJ list save outcome, then count income</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">    <span class="comment">// topological output: no income node firse, this case no pre</span></span><br><span class="line">    <span class="comment">// check degree 0 node (no prerequisites), add to queue,</span></span><br><span class="line">    <span class="comment">// adj list save out edge [0,1] =&gt; 1 -&gt; 0, when save 1 : 0</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// graph saved is node and outcome</span></span><br><span class="line">    <span class="comment">// but countPre save income number</span></span><br><span class="line">    <span class="keyword">int</span>[] countPre = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)</span><br><span class="line">        graph.add(<span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p : prerequisites)&#123;</span><br><span class="line">        graph.get(p[<span class="number">1</span>]).add(p[<span class="number">0</span>]); <span class="comment">// save outcome</span></span><br><span class="line">        countPre[p[<span class="number">0</span>]]++; <span class="comment">// count income (pre)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// init queue, find course with no pre</span></span><br><span class="line">    <span class="keyword">int</span>[] order = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;countPre.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(countPre[i] == <span class="number">0</span>)</span><br><span class="line">            queue.offer(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// start bfs</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">        order[idx++] = curr; <span class="comment">// no income(pre)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : graph.get(curr))&#123;</span><br><span class="line">            <span class="comment">// for all outcome node, income --</span></span><br><span class="line">            countPre[child]--;</span><br><span class="line">            <span class="keyword">if</span>(countPre[child] == <span class="number">0</span>)</span><br><span class="line">                queue.offer(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx == numCourses ? order : <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="211-add-and-search-word-medium"><a href="#211-add-and-search-word-medium" class="headerlink" title="#211-add-and-search-word-medium"></a>#211-add-and-search-word-medium</h4><p>Design a data structure that supports the following two operations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void addWord(word)</span><br><span class="line">bool search(word)</span><br></pre></td></tr></table></figure><p>search(word) can search a literal word or a regular expression string containing only letters <code>a-z</code> or <code>.</code>. A <code>.</code> means it can represent any one letter.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addWord(&quot;bad&quot;)</span><br><span class="line">addWord(&quot;dad&quot;)</span><br><span class="line">addWord(&quot;mad&quot;)</span><br><span class="line">search(&quot;pad&quot;) -&gt; false</span><br><span class="line">search(&quot;bad&quot;) -&gt; true</span><br><span class="line">search(&quot;.ad&quot;) -&gt; true</span><br><span class="line">search(&quot;b..&quot;) -&gt; true</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>You may assume that all words are consist of lowercase letters <code>a-z</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">        TrieNode[] children;</span><br><span class="line">        <span class="keyword">boolean</span> isEnd;</span><br><span class="line">        TrieNode()&#123;</span><br><span class="line">            children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">            isEnd = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> TrieNode root;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Adds a word into the data structure. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        TrieNode curr = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)&#123;</span><br><span class="line">                child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                curr.children[c - <span class="string">'a'</span>] = child;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = child;</span><br><span class="line">        &#125;</span><br><span class="line">        curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> search(root,word,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(TrieNode curr,String word,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">            <span class="keyword">return</span> curr.isEnd;</span><br><span class="line">        <span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">        <span class="keyword">if</span>(c != <span class="string">'.'</span>)&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span> search(child,word,idx+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)&#123;</span><br><span class="line">                TrieNode child = curr.children[i];</span><br><span class="line">                <span class="keyword">if</span>(child!=<span class="keyword">null</span> &amp;&amp; search(child,word,idx+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="212-word-search-ii-hard"><a href="#212-word-search-ii-hard" class="headerlink" title="#212-word-search-ii-hard"></a>#212-word-search-ii-hard</h4><p>Given a 2D board and a list of words from the dictionary, find all words in the board.</p><p>Each word must be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once in a word.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">words = [&quot;oath&quot;,&quot;pea&quot;,&quot;eat&quot;,&quot;rain&quot;] and board =</span><br><span class="line">[</span><br><span class="line">  [&apos;o&apos;,&apos;a&apos;,&apos;a&apos;,&apos;n&apos;],</span><br><span class="line">  [&apos;e&apos;,&apos;t&apos;,&apos;a&apos;,&apos;e&apos;],</span><br><span class="line">  [&apos;i&apos;,&apos;h&apos;,&apos;k&apos;,&apos;r&apos;],</span><br><span class="line">  [&apos;i&apos;,&apos;f&apos;,&apos;l&apos;,&apos;v&apos;]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">Output: [&quot;eat&quot;,&quot;oath&quot;]</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>You may assume that all inputs are consist of lowercase letters <code>a-z</code>.</p><p><strong>Using trie and dfs, notice when to add word and avoid duplicate</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findWords</span><span class="params">(<span class="keyword">char</span>[][] board, String[] words)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">for</span>(String word : words)</span><br><span class="line">        buildTrie(word,root);</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)&#123;</span><br><span class="line">            dfs(board,root,i,j,result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board,TrieNode curr,<span class="keyword">int</span> i,<span class="keyword">int</span> j,List&lt;String&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// invalid i,j or visited char, or no child</span></span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=m || j&lt;<span class="number">0</span> || j&gt;=n || board[i][j]==<span class="string">'.'</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">char</span> prev = board[i][j];</span><br><span class="line">    TrieNode child = curr.children[prev - <span class="string">'a'</span>];</span><br><span class="line">    <span class="keyword">if</span>(child == <span class="keyword">null</span>) <span class="comment">// no child return</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// check word here not beginning, or 4 duplicate result</span></span><br><span class="line">    <span class="keyword">if</span>(child.word != <span class="keyword">null</span>)&#123;</span><br><span class="line">        result.add(child.word);</span><br><span class="line">        child.word = <span class="keyword">null</span>;  <span class="comment">// set to null to deduplicate</span></span><br><span class="line">    &#125;</span><br><span class="line">    board[i][j] = <span class="string">'.'</span>; <span class="comment">// mark as visited</span></span><br><span class="line">    dfs(board,child,i-<span class="number">1</span>,j,result);</span><br><span class="line">    dfs(board,child,i+<span class="number">1</span>,j,result);</span><br><span class="line">    dfs(board,child,i,j-<span class="number">1</span>,result);</span><br><span class="line">    dfs(board,child,i,j+<span class="number">1</span>,result);</span><br><span class="line">    board[i][j] = prev; <span class="comment">// restore</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildTrie</span><span class="params">(String word,TrieNode curr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = word.charAt(i) - <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(curr.children[idx] == <span class="keyword">null</span>)</span><br><span class="line">            curr.children[idx] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">        curr = curr.children[idx];</span><br><span class="line">    &#125;</span><br><span class="line">    curr.word = word;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">    TrieNode[] children;</span><br><span class="line">    String word;</span><br><span class="line">    TrieNode()&#123;</span><br><span class="line">        children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">        word = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="217-contains-duplicate-easy"><a href="#217-contains-duplicate-easy" class="headerlink" title="#217-contains-duplicate-easy"></a>#217-contains-duplicate-easy</h4><p>Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct.</p><p><strong>Use HashSet: time O(n), space O(n)</strong></p><p><strong>Use Sort: time O(nlgn), space O(1)</strong></p><hr><h4 id="219-contains-duplicate-ii-easy"><a href="#219-contains-duplicate-ii-easy" class="headerlink" title="#219-contains-duplicate-ii-easy"></a>#219-contains-duplicate-ii-easy</h4><p>Given an array of integers and an integer <em>k</em>, find out whether there are two distinct indices <em>i</em> and <em>j</em> in the array such that <strong>nums[i] = nums[j]</strong> and the <strong>absolute</strong> difference between <em>i</em> and <em>j</em> is at most <em>k</em>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i-k&gt;<span class="number">0</span>) visited.remove(nums[i-k-<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span>(!visited.add(nums[i])) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="220-contains-duplicate-iii-medium"><a href="#220-contains-duplicate-iii-medium" class="headerlink" title="#220-contains-duplicate-iii-medium"></a>#220-contains-duplicate-iii-medium</h4><p>Given an array of integers, find out whether there are two distinct indices <em>i</em> and <em>j</em> in the array such that the <strong>absolute</strong> difference between <strong>nums[i]</strong> and <strong>nums[j]</strong> is at most <em>t</em> and the <strong>absolute</strong> difference between <em>i</em> and <em>j</em> is at most <em>k</em>. <strong>Use TreeSet</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyAlmostDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// abs(nums[i] - nums[j]) &lt;= t</span></span><br><span class="line">    <span class="comment">// abs(i - j) &lt;= k</span></span><br><span class="line">    <span class="comment">// O(n log k)</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span> || t&lt;<span class="number">0</span> || k&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="comment">// maintance a window</span></span><br><span class="line">        <span class="keyword">if</span>(i - k &gt; <span class="number">0</span>)</span><br><span class="line">            set.remove(nums[i - k - <span class="number">1</span>]);</span><br><span class="line">        <span class="comment">// floor: greatest less or equal to</span></span><br><span class="line">        <span class="comment">// ceiling: smallest greater or equal to</span></span><br><span class="line">        <span class="comment">// NOTICE: overflow</span></span><br><span class="line">        Integer left = set.ceiling(Integer.MIN_VALUE + t &lt; nums[i] ? </span><br><span class="line">                                   nums[i] - t : Integer.MIN_VALUE);</span><br><span class="line">        Integer right = set.floor(Integer.MAX_VALUE - t &gt; nums[i] ?</span><br><span class="line">                                 nums[i] + t : Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">if</span>(left != <span class="keyword">null</span> &amp;&amp; left &lt;= nums[i] ||</span><br><span class="line">          right != <span class="keyword">null</span> &amp;&amp; right &gt;= nums[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// add set</span></span><br><span class="line">        set.add(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="223-rectangle-area-medium"><a href="#223-rectangle-area-medium" class="headerlink" title="#223-rectangle-area-medium"></a>#223-rectangle-area-medium</h4><p>Find the total area covered by two <strong>rectilinear</strong> rectangles in a <strong>2D</strong> plane.</p><p>Each rectangle is defined by its bottom left corner and top right corner as shown in the figure.</p><p><img src="https://leetcode.com/static/images/problemset/rectangle_area.png" alt="Rectangle Area"></p><p>Assume that the total area is never beyond the maximum possible value of <strong>int</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">computeArea</span><span class="params">(<span class="keyword">int</span> A, <span class="keyword">int</span> B, <span class="keyword">int</span> C, <span class="keyword">int</span> D, <span class="keyword">int</span> E, <span class="keyword">int</span> F, <span class="keyword">int</span> G, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// FIND INTERSECTION</span></span><br><span class="line">    <span class="comment">// x axis: A---C E---F</span></span><br><span class="line">    <span class="keyword">int</span> X = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(C-A&gt;G-E &amp;&amp; E&gt;=A &amp;&amp; G&lt;=C)</span><br><span class="line">        X = G - E;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(C-A&lt;=G-E &amp;&amp; A&gt;=E &amp;&amp; C&lt;=G)</span><br><span class="line">        X = C - A;</span><br><span class="line">    <span class="comment">// after above 2, low priority</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(G&gt;A &amp;&amp; E&lt;A)</span><br><span class="line">        X = G - A;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(E&lt;C &amp;&amp; G&gt;C)</span><br><span class="line">        X = C - E;</span><br><span class="line">    <span class="comment">// y axis: B---D F---H</span></span><br><span class="line">    <span class="keyword">int</span> Y = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// check include relation first</span></span><br><span class="line">    <span class="keyword">if</span>(D-B&gt;H-F &amp;&amp; F&gt;=B &amp;&amp; H&lt;=D)</span><br><span class="line">        Y = H - F;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(D-B&lt;=H-F &amp;&amp; B&gt;=F &amp;&amp; D&lt;=H)</span><br><span class="line">        Y = D - B;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(H&gt;B &amp;&amp; F&lt;B)</span><br><span class="line">        Y = H - B;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(F&lt;D &amp;&amp; H&gt;D)</span><br><span class="line">        Y = D - F;        </span><br><span class="line">    <span class="comment">// compute</span></span><br><span class="line">    <span class="keyword">int</span> area1 = (C-A) * (D-B);</span><br><span class="line">    <span class="keyword">int</span> area2 = (G-E) * (H-F);</span><br><span class="line">    <span class="keyword">int</span> area3 = X * Y;</span><br><span class="line">    <span class="keyword">return</span> area1 + area2 - area3;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="227-basic-calculator-ii-medium"><a href="#227-basic-calculator-ii-medium" class="headerlink" title="#227-basic-calculator-ii-medium"></a>#227-basic-calculator-ii-medium</h4><p>Implement a basic calculator to evaluate a simple expression string.</p><p>The expression string contains only <strong>non-negative</strong> integers, <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> operators and empty spaces <code></code>. The integer division should truncate toward zero.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;3+2*2&quot;</span><br><span class="line">Output: 7</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot; 3/2 &quot;</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot; 3+5 / 2 &quot;</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">char</span> sign = <span class="string">'+'</span>;    <span class="comment">// for first number;</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(i)))</span><br><span class="line">            num = num * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="comment">// when to add prev val</span></span><br><span class="line">        <span class="comment">// cannot use else if</span></span><br><span class="line">        <span class="keyword">if</span>(!Character.isDigit(s.charAt(i)) &amp;&amp; s.charAt(i) != <span class="string">' '</span> || i == s.length()-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">switch</span>(sign)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'+'</span>: stack.push(num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'-'</span>: stack.push(-num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'*'</span>: stack.push(stack.pop()*num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'/'</span>: stack.push(stack.pop()/num); <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sign = s.charAt(i);</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        num += stack.pop();</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="228-summary-ranges-medium"><a href="#228-summary-ranges-medium" class="headerlink" title="#228-summary-ranges-medium"></a>#228-summary-ranges-medium</h4><p>Given a sorted integer array without duplicates, return the summary of its ranges.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [0,1,2,4,5,7]</span><br><span class="line">Output: [&quot;0-&gt;2&quot;,&quot;4-&gt;5&quot;,&quot;7&quot;]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [0,2,3,4,6,8,9]</span><br><span class="line">Output: [&quot;0&quot;,&quot;2-&gt;4&quot;,&quot;6&quot;,&quot;8-&gt;9&quot;]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">summaryRanges</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Integer head = <span class="keyword">null</span>;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">            head = nums[i];</span><br><span class="line">        <span class="keyword">if</span>(i&lt;nums.length-<span class="number">1</span> &amp;&amp; nums[i]+<span class="number">1</span>==nums[i+<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;   <span class="comment">// last one or new range</span></span><br><span class="line">            sb.append(head);</span><br><span class="line">            <span class="comment">// notice one num</span></span><br><span class="line">            <span class="keyword">if</span>(head != nums[i])</span><br><span class="line">                sb.append(<span class="string">"-&gt;"</span>+nums[i]);</span><br><span class="line">            result.add(sb.toString());</span><br><span class="line">            sb.setLength(<span class="number">0</span>);</span><br><span class="line">            head = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">summaryRanges</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> head=<span class="number">0</span>; head&lt;nums.length; head++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tail = head;</span><br><span class="line">        <span class="keyword">while</span>(tail&lt;nums.length-<span class="number">1</span> &amp;&amp; nums[tail]+<span class="number">1</span>==nums[tail+<span class="number">1</span>])</span><br><span class="line">            tail ++;</span><br><span class="line">        <span class="keyword">if</span>(head != tail)</span><br><span class="line">            result.add(nums[head] + <span class="string">"-&gt;"</span> + nums[tail]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result.add(nums[head] + <span class="string">""</span>);</span><br><span class="line">        head = tail;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="229-majority-element-ii-medium"><a href="#229-majority-element-ii-medium" class="headerlink" title="#229-majority-element-ii-medium"></a>#229-majority-element-ii-medium</h4><p>Given an integer array of size <em>n</em>, find all elements that appear more than <code>⌊ n/3 ⌋</code> times. The algorithm should run in linear time and in O(1) space.</p><p><strong>Check existence first!!</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// majority vote</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> major1 = <span class="number">0</span>, major2 = <span class="number">0</span>, cnt1 = <span class="number">0</span>, cnt2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="comment">// order matters</span></span><br><span class="line">        <span class="keyword">if</span>(major1 == num)</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(major2 == num)</span><br><span class="line">            cnt2 ++;             </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cnt1 == <span class="number">0</span>)&#123;</span><br><span class="line">            major1 = num;</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cnt2 == <span class="number">0</span>)&#123;</span><br><span class="line">            major2 = num;  </span><br><span class="line">            cnt2 ++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cnt1 --;</span><br><span class="line">            cnt2 --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2nd pass, cnt accurance</span></span><br><span class="line">    cnt1 = cnt2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(major1 == num)</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(major2 == num)</span><br><span class="line">            cnt2 ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// add to result</span></span><br><span class="line">    <span class="keyword">if</span>(cnt1 &gt; nums.length / <span class="number">3</span>)</span><br><span class="line">        result.add(major1);</span><br><span class="line">    <span class="keyword">if</span>(cnt2 &gt; nums.length / <span class="number">3</span>)</span><br><span class="line">        result.add(major2);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="235-lca-of-a-bst-easy"><a href="#235-lca-of-a-bst-easy" class="headerlink" title="#235-lca-of-a-bst-easy"></a>#235-lca-of-a-bst-easy</h4><p>Given a binary search tree (BST), find the lowest common ancestor (LCA) of two given nodes in the BST.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(root.val &lt; p.val &amp;&amp; root.val &lt; q.val)</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.right,p,q);</span><br><span class="line">    <span class="keyword">if</span>(root.val &gt; p.val &amp;&amp; root.val &gt; q.val)</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.left,p,q);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="236-lca-of-a-binay-tree-medium"><a href="#236-lca-of-a-binay-tree-medium" class="headerlink" title="#236-lca-of-a-binay-tree-medium"></a>#236-lca-of-a-binay-tree-medium</h4><p>Given a binary tree, find the lowest common ancestor (LCA) of two given nodes in the tree.</p><p>According to the <a href="https://en.wikipedia.org/wiki/Lowest_common_ancestor" target="_blank" rel="noopener">definition of LCA on Wikipedia</a>: “The lowest common ancestor is defined between two nodes v and w as the lowest node in T that has both v and w as descendants (where we allow <strong>a node to be a descendant of itself</strong>).”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(root == <span class="keyword">null</span> || root == p || root == q)</span><br><span class="line">           <span class="keyword">return</span> root;</span><br><span class="line">       TreeNode left = lowestCommonAncestor(root.left,p,q);</span><br><span class="line">       TreeNode right = lowestCommonAncestor(root.right,p,q);</span><br><span class="line">       <span class="keyword">if</span>(left == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> right;</span><br><span class="line">       <span class="keyword">if</span>(right == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> left;</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="239-sliding-window-maxmum-hard"><a href="#239-sliding-window-maxmum-hard" class="headerlink" title="#239-sliding-window-maxmum-hard"></a>#239-sliding-window-maxmum-hard</h4><p>Given an array <em>nums</em>, there is a sliding window of size <em>k</em> which is moving from the very left of the array to the very right. You can only see the <em>k</em> numbers in the window. Each time the sliding window moves right by one position. Return the max sliding window.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,3,-1,-3,5,3,6,7], and k = 3</span><br><span class="line">Output: [3,3,5,5,6,7] </span><br><span class="line">Explanation: </span><br><span class="line"></span><br><span class="line">Window position                Max</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use deque maintains max at head</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length - k + <span class="number">1</span>];</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k-<span class="number">1</span>;i++)</span><br><span class="line">        inQueue(deque,nums[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=k-<span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        inQueue(deque,nums[i]);</span><br><span class="line">        result[i-k+<span class="number">1</span>] = deque.peekFirst();</span><br><span class="line">        outQueue(deque,nums[i-k+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inQueue</span><span class="params">(Deque&lt;Integer&gt; deque,<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast()&lt;num)</span><br><span class="line">        deque.pollLast();</span><br><span class="line">    deque.offerLast(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">outQueue</span><span class="params">(Deque&lt;Integer&gt; deque,<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(deque.peekFirst() == num)</span><br><span class="line">        deque.pollFirst();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="241-different-ways-to-add-parentheses-medium"><a href="#241-different-ways-to-add-parentheses-medium" class="headerlink" title="#241-different-ways-to-add-parentheses-medium"></a>#241-different-ways-to-add-parentheses-medium</h4><p>Given a string of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. The valid operators are <code>+</code>, <code>-</code> and <code>*</code>.</p><p>Example 1</p><p>Input: <code>&quot;2-1-1&quot;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">((2-1)-1) = 0</span><br><span class="line">(2-(1-1)) = 2</span><br></pre></td></tr></table></figure><p>Output: <code>[0, 2]</code></p><p>Example 2</p><p>Input: <code>&quot;2*3-4*5&quot;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(2*(3-(4*5))) = -34</span><br><span class="line">((2*3)-(4*5)) = -14</span><br><span class="line">((2*(3-4))*5) = -10</span><br><span class="line">(2*((3-4)*5)) = -10</span><br><span class="line">(((2*3)-4)*5) = 10</span><br></pre></td></tr></table></figure><p>Output: <code>[-34, -14, -10, -10, 10]</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">diffWaysToCompute</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use recursion</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;input.length();i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = input.charAt(i);</span><br><span class="line">        <span class="comment">// divide input to two part</span></span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'+'</span> || c==<span class="string">'-'</span> || c==<span class="string">'*'</span>)&#123;</span><br><span class="line">            String left = input.substring(<span class="number">0</span>,i);</span><br><span class="line">            String right = input.substring(i+<span class="number">1</span>);</span><br><span class="line">            List&lt;Integer&gt; list1 = diffWaysToCompute(left);</span><br><span class="line">            List&lt;Integer&gt; list2 = diffWaysToCompute(right);</span><br><span class="line">            <span class="comment">// combine to subset</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> num1 : list1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> num2 : list2)&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">                            temp = num1 + num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                            temp = num1 - num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                            temp = num1 * num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// one possible result</span></span><br><span class="line">                    result.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case theres no operator in input</span></span><br><span class="line">    <span class="keyword">if</span>(result.size() == <span class="number">0</span>)</span><br><span class="line">        result.add(Integer.parseInt(input));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>add memory and optimization</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">diffWaysToCompute</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    Map&lt;String,List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">return</span> dfs(input,map,<span class="number">0</span>,input.length());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;Integer&gt; <span class="title">dfs</span><span class="params">(String input,Map&lt;String,List&lt;Integer&gt;&gt; map,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="comment">// use recursion</span></span><br><span class="line">    <span class="comment">// if this expression is saved</span></span><br><span class="line">    String expression = input.substring(start,end);</span><br><span class="line">    <span class="keyword">if</span>(map.containsKey(expression))</span><br><span class="line">        <span class="keyword">return</span> map.get(expression);</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;end;i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = input.charAt(i);</span><br><span class="line">        <span class="comment">// divide input to two part</span></span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'+'</span> || c==<span class="string">'-'</span> || c==<span class="string">'*'</span>)&#123;</span><br><span class="line">            List&lt;Integer&gt; list1 = dfs(input,map,start,i);</span><br><span class="line">            List&lt;Integer&gt; list2 = dfs(input,map,i+<span class="number">1</span>,end);</span><br><span class="line">            <span class="comment">// combine to subset</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> num1 : list1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> num2 : list2)&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">                            temp = num1 + num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                            temp = num1 - num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                            temp = num1 * num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// one possible result</span></span><br><span class="line">                    result.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case theres no operator in input</span></span><br><span class="line">    <span class="keyword">if</span>(result.size() == <span class="number">0</span>)</span><br><span class="line">        result.add(Integer.parseInt(expression));</span><br><span class="line">    map.put(expression,result);</span><br><span class="line">    <span class="keyword">return</span> result;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="243-shortest-word-distance-easy"><a href="#243-shortest-word-distance-easy" class="headerlink" title="#243-shortest-word-distance-easy"></a>#243-shortest-word-distance-easy</h4><p>Given a list of words and two words <em>word1</em> and <em>word2</em>, return the shortest distance between these two words in the list.</p><p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p><p>Given <em>word1</em> = <code>“coding”</code>, <em>word2</em> = <code>“practice”</code>, return 3.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;coding&quot;</code>, return 1.</p><p><strong>Note:</strong><br>You may assume that <em>word1</em> <strong>does not equal to</strong> <em>word2</em>, and <em>word1</em> and <em>word2</em> are both in the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>, min = words.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">            idx1 = i;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(words[i].equals(word2))</span><br><span class="line">            idx2 = i;</span><br><span class="line">        <span class="comment">// need to check whether idx are set</span></span><br><span class="line">        <span class="keyword">if</span>(idx1!=-<span class="number">1</span> &amp;&amp; idx2!=-<span class="number">1</span>)</span><br><span class="line">            min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="244-shortest-word-distance-ii-medium"><a href="#244-shortest-word-distance-ii-medium" class="headerlink" title="#244-shortest-word-distance-ii-medium"></a>#244-shortest-word-distance-ii-medium</h4><p>This is a <strong>follow up</strong> of <a href="https://leetcode.com/problems/shortest-word-distance" target="_blank" rel="noopener">Shortest Word Distance</a>. The only difference is now you are given the list of words and your method will be called <em>repeatedly</em> many times with different parameters. How would you optimize it?</p><p>Design a class which receives a list of words in the constructor, and implements a method that takes two words <em>word1</em> and <em>word2</em> and return the shortest distance between these two words in the list.</p><p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p><p>Given <em>word1</em> = <code>“coding”</code>, <em>word2</em> = <code>“practice”</code>, return 3.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;coding&quot;</code>, return 1.</p><p><strong>Note:</strong><br>You may assume that <em>word1</em> <strong>does not equal to</strong> <em>word2</em>, and <em>word1</em> and <em>word2</em> are both in the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDistance</span> </span>&#123;</span><br><span class="line">    Map&lt;String,List&lt;Integer&gt;&gt; map;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDistance</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!map.containsKey(words[i]))</span><br><span class="line">                map.put(words[i],<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            map.get(words[i]).add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortest</span><span class="params">(String word1, String word2)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; l1 = map.get(word1);</span><br><span class="line">        List&lt;Integer&gt; l2 = map.get(word2);</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// utilize two pointer to optimize</span></span><br><span class="line">        <span class="keyword">while</span>(idx1&lt;l1.size() &amp;&amp; idx2&lt;l2.size())&#123;</span><br><span class="line">            min = Math.min(min,Math.abs(l1.get(idx1)-l2.get(idx2)));</span><br><span class="line">            <span class="keyword">if</span>(l1.get(idx1) &lt; l2.get(idx2))</span><br><span class="line">                idx1++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                idx2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="245-shortest-word-distance-iii-medium"><a href="#245-shortest-word-distance-iii-medium" class="headerlink" title="#245-shortest-word-distance-iii-medium"></a>#245-shortest-word-distance-iii-medium</h4><p>This is a <strong>follow up</strong> of <a href="https://leetcode.com/problems/shortest-word-distance" target="_blank" rel="noopener">Shortest Word Distance</a>. The only difference is now <em>word1</em> could be the same as <em>word2</em>.</p><p>Given a list of words and two words <em>word1</em> and <em>word2</em>, return the shortest distance between these two words in the list.</p><p><em>word1</em> and <em>word2</em> may be the same and they represent two individual words in the list.</p><p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p><p>Given <em>word1</em> = <code>“makes”</code>, <em>word2</em> = <code>“coding”</code>, return 1.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;makes&quot;</code>, return 3.</p><p><strong>Note:</strong><br>You may assume <em>word1</em> and <em>word2</em> are both in the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min = words.length;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;words.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">            idx1 = i;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word2))&#123;</span><br><span class="line">            <span class="keyword">if</span>(word1.equals(word2))</span><br><span class="line">            <span class="comment">// set idx1 to prev idx2</span></span><br><span class="line">                idx1 = idx2;</span><br><span class="line">            idx2 = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(idx1 != -<span class="number">1</span> &amp;&amp; idx2 != -<span class="number">1</span>)&#123;</span><br><span class="line">            min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>quicker</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min = words.length;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(word1.equals(word2))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(words[i].equals(word1))&#123;</span><br><span class="line">                <span class="keyword">if</span>(idx1 == -<span class="number">1</span>)</span><br><span class="line">                    idx1 = i;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    min = Math.min(min,i-idx1);</span><br><span class="line">                    idx1 = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;            </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">                idx1 = i;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(words[i].equals(word2))</span><br><span class="line">                idx2 = i;</span><br><span class="line">            <span class="keyword">if</span>(idx1!=-<span class="number">1</span> &amp;&amp; idx2!=-<span class="number">1</span>)</span><br><span class="line">                min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="248-strobogrammatic-number-iii-hard"><a href="#248-strobogrammatic-number-iii-hard" class="headerlink" title="#248-strobogrammatic-number-iii-hard"></a>#248-strobogrammatic-number-iii-hard</h4><p>A strobogrammatic number is a number that looks the same when rotated 180 degrees (looked at upside down).</p><p>Write a function to count the total strobogrammatic numbers that exist in the range of low &lt;= num &lt;= high.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: low = &quot;50&quot;, high = &quot;100&quot;</span><br><span class="line">Output: 3 </span><br><span class="line">Explanation: 69, 88, and 96 are three strobogrammatic numbers.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>Because the range might be a large number, the <em>low</em> and <em>high</em> numbers are represented as string.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">strobogrammaticInRange</span><span class="params">(String low, String high)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=low.length(); i&lt;=high.length(); i++)&#123;</span><br><span class="line">        list.addAll(findStrobogrammatic(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length()==low.length() &amp;&amp; s.compareTo(low)&lt;<span class="number">0</span> || </span><br><span class="line">           s.length()==high.length() &amp;&amp; s.compareTo(high)&gt;<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        count ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findStrobogrammatic</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        result = Arrays.asList(<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        result = Arrays.asList(<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"8"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=(n%<span class="number">2</span>)+<span class="number">2</span>; i&lt;=n; i+=<span class="number">2</span>)&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String s : result)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != n)</span><br><span class="line">                list.add(<span class="string">"0"</span> + s + <span class="string">"0"</span>);</span><br><span class="line">            list.add(<span class="string">"1"</span> + s + <span class="string">"1"</span>);</span><br><span class="line">            list.add(<span class="string">"8"</span> + s + <span class="string">"8"</span>);</span><br><span class="line">            list.add(<span class="string">"6"</span> + s + <span class="string">"9"</span>);</span><br><span class="line">            list.add(<span class="string">"9"</span> + s + <span class="string">"6"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        result = list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="250-count-univalue-subtrees-medium"><a href="#250-count-univalue-subtrees-medium" class="headerlink" title="#250-count-univalue-subtrees-medium"></a>#250-count-univalue-subtrees-medium</h4><p>Given a binary tree, count the number of uni-value subtrees.</p><p>A Uni-value subtree means all nodes of the subtree have the same value.</p><p><strong>Example :</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:  root = [5,1,5,5,5,null,5]</span><br><span class="line"></span><br><span class="line">              5</span><br><span class="line">             / \</span><br><span class="line">            1   5</span><br><span class="line">           / \   \</span><br><span class="line">          5   5   5</span><br><span class="line"></span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countUnivalSubtrees</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    helper(root);</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// if left &amp; right are univalue, check curr</span></span><br><span class="line">    <span class="comment">// notice &amp; not &amp;&amp;, left false still check right</span></span><br><span class="line">    <span class="keyword">if</span>(helper(root.left) &amp; helper(root.right))&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.left != <span class="keyword">null</span> &amp;&amp; root.left.val != root.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(root.right != <span class="keyword">null</span> &amp;&amp; root.right.val != root.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        count += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="251-flatten-2d-vector-medium"><a href="#251-flatten-2d-vector-medium" class="headerlink" title="#251-flatten-2d-vector-medium"></a>#251-flatten-2d-vector-medium</h4><p>Implement an iterator to flatten a 2d vector.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: 2d vector =</span><br><span class="line">[</span><br><span class="line">  [1,2],</span><br><span class="line">  [3],</span><br><span class="line">  [4,5,6]</span><br><span class="line">]</span><br><span class="line">Output: [1,2,3,4,5,6]</span><br><span class="line">Explanation: By calling next repeatedly until hasNext returns false, </span><br><span class="line">             the order of elements returned by next should be: [1,2,3,4,5,6].</span><br></pre></td></tr></table></figure><p><strong>Use queue:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    Queue&lt;List&lt;Integer&gt;&gt; listQueue;</span><br><span class="line">    Queue&lt;Integer&gt; queue;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</span><br><span class="line">        listQueue = <span class="keyword">new</span> LinkedList&lt;&gt;(vec2d);</span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(queue.isEmpty() &amp;&amp; !listQueue.isEmpty())</span><br><span class="line">            queue = <span class="keyword">new</span> LinkedList&lt;&gt;(listQueue.poll());</span><br><span class="line">        <span class="keyword">return</span> !queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Use iterator:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    Iterator&lt;List&lt;Integer&gt;&gt; listIterator;</span><br><span class="line">    Iterator&lt;Integer&gt; iterator;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</span><br><span class="line">        listIterator = vec2d.iterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> iterator.next();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>((iterator==<span class="keyword">null</span> || !iterator.hasNext()) &amp;&amp; listIterator.hasNext())</span><br><span class="line">            iterator = listIterator.next().iterator();</span><br><span class="line">        <span class="keyword">return</span> iterator != <span class="keyword">null</span> &amp;&amp; iterator.hasNext();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="253-meeting-rooms-ii-medium"><a href="#253-meeting-rooms-ii-medium" class="headerlink" title="#253-meeting-rooms-ii-medium"></a>#253-meeting-rooms-ii-medium</h4><p>Given an array of meeting time intervals consisting of start and end times <code>[[s1,e1],[s2,e2],...]</code> (si &lt; ei), find the minimum number of conference rooms required.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[0, 30],[5, 10],[15, 20]]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[7,10],[2,4]]</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// seperate array of start and end then sort</span></span><br><span class="line">    <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] starts = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">    <span class="keyword">int</span>[] ends = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++)&#123;</span><br><span class="line">        starts[i] = intervals[i].start;</span><br><span class="line">        ends[i] = intervals[i].end;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(starts);</span><br><span class="line">    Arrays.sort(ends);</span><br><span class="line">    <span class="comment">// if start &lt; end add room, else update end</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;starts.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(starts[i] &lt; ends[end])</span><br><span class="line">            <span class="comment">// curr start &lt; curr end,neet a room</span></span><br><span class="line">            count ++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            end ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Greedy: </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// greedy, sort on start first</span></span><br><span class="line">      <span class="comment">// then use heap on end time to track rooms</span></span><br><span class="line">      <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// sort start time and init end sorted heap</span></span><br><span class="line">      Arrays.sort(intervals,(o1,o2)-&gt;o1.start-o2.start);</span><br><span class="line">      PriorityQueue&lt;Interval&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1.end-o2.end);</span><br><span class="line"><span class="comment">// start</span></span><br><span class="line">      heap.offer(intervals[<span class="number">0</span>]);</span><br><span class="line">Interval prev = intervals[<span class="number">0</span>], curr = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line"><span class="comment">// find min end room, cannot use peek</span></span><br><span class="line">prev = heap.poll(); <span class="comment">// first end</span></span><br><span class="line">curr = intervals[i]; <span class="comment">// next start</span></span><br><span class="line"><span class="comment">// can put in this min end room, update end time</span></span><br><span class="line"><span class="keyword">if</span>(curr.start &gt;= prev.end) <span class="comment">// can in same room</span></span><br><span class="line">prev.end = curr.end; <span class="comment">// merge for curr room</span></span><br><span class="line"><span class="keyword">else</span><span class="comment">// sign a new room</span></span><br><span class="line">heap.offer(curr); <span class="comment">// add meeting to heap</span></span><br><span class="line">heap.offer(prev);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> heap.size();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><strong>count max schedules</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSchedules</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">// sort on end time</span></span><br><span class="line">Arrays.sort(intervals, (o1,o2)-&gt;o1.end-o2.end);</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">Interval prev = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(prev == <span class="keyword">null</span> || intervals[i].start&gt;=prev.end) &#123;</span><br><span class="line">count ++;</span><br><span class="line">prev = intervals[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="263-ugly-number-easy"><a href="#263-ugly-number-easy" class="headerlink" title="#263-ugly-number-easy"></a>#263-ugly-number-easy</h4><p>Write a program to check whether a given number is an ugly number.</p><p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>6, 8</code> are ugly while <code>14</code> is not ugly since it includes another prime factor <code>7</code>.</p><p><strong>Note:</strong></p><ol><li><code>1</code> is typically treated as an ugly number.</li><li>Input is within the 32-bit signed integer range.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">2</span> == <span class="number">0</span>) num /= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">3</span> == <span class="number">0</span>) num /= <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">5</span> == <span class="number">0</span>) num /= <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="264-ugly-number-ii-medium"><a href="#264-ugly-number-ii-medium" class="headerlink" title="#264-ugly-number-ii-medium"></a>#264-ugly-number-ii-medium</h4><p>Write a program to find the <code>n</code>-th ugly number.</p><p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>1, 2, 3, 4, 5, 6, 8, 9, 10, 12</code> is the sequence of the first <code>10</code> ugly numbers.</p><p>Note that <code>1</code> is typically treated as an ugly number, and <em>n</em> <strong>does not exceed 1690</strong>.</p><p>The idea of this solution is from this page:<a href="http://www.geeksforgeeks.org/ugly-numbers/" target="_blank" rel="noopener">http://www.geeksforgeeks.org/ugly-numbers/</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// pointer for multi of 2,3,5</span></span><br><span class="line">    <span class="keyword">int</span> i2 = <span class="number">0</span>, i3 = <span class="number">0</span>, i5 = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// dp </span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> ugly = Math.min(dp[i5]*<span class="number">5</span>,</span><br><span class="line">                   Math.min(dp[i2]*<span class="number">2</span>,</span><br><span class="line">                            dp[i3]*<span class="number">3</span>));</span><br><span class="line">        dp[i] = ugly;</span><br><span class="line">        <span class="comment">// check to increase pointer</span></span><br><span class="line">        <span class="keyword">if</span>(dp[i2]*<span class="number">2</span> == ugly) i2++;</span><br><span class="line">        <span class="keyword">if</span>(dp[i3]*<span class="number">3</span> == ugly) i3++;</span><br><span class="line">        <span class="keyword">if</span>(dp[i5]*<span class="number">5</span> == ugly) i5++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="268-missing-number-easy"><a href="#268-missing-number-easy" class="headerlink" title="#268-missing-number-easy"></a>#268-missing-number-easy</h4><p>Given an array containing <em>n</em> distinct numbers taken from <code>0, 1, 2, ..., n</code>, find the one that is missing from the array.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [3,0,1]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [9,6,4,2,3,5,7,0,1]</span><br><span class="line">Output: 8</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(nums[i]!=nums.length &amp;&amp; nums[i]!=nums[nums[i]])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = nums[nums[i]];</span><br><span class="line">            nums[nums[i]] = nums[i];</span><br><span class="line">            nums[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != i)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="269-alien-dictionary-hard"><a href="#269-alien-dictionary-hard" class="headerlink" title="#269-alien-dictionary-hard"></a>#269-alien-dictionary-hard</h4><p>There is a new alien language which uses the latin alphabet. However, the order among letters are unknown to you. You receive a list of <strong>non-empty</strong> words from the dictionary, where <strong>words are sorted lexicographically by the rules of this new language</strong>. Derive the order of letters in this language.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  &quot;wrt&quot;,</span><br><span class="line">  &quot;wrf&quot;,</span><br><span class="line">  &quot;er&quot;,</span><br><span class="line">  &quot;ett&quot;,</span><br><span class="line">  &quot;rftt&quot;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">Output: &quot;wertf&quot;</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  &quot;z&quot;,</span><br><span class="line">  &quot;x&quot;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">Output: &quot;zx&quot;</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  &quot;z&quot;,</span><br><span class="line">  &quot;x&quot;,</span><br><span class="line">  &quot;z&quot;</span><br><span class="line">] </span><br><span class="line"></span><br><span class="line">Output: &quot;&quot; </span><br><span class="line"></span><br><span class="line">Explanation: The order is invalid, so return &quot;&quot;.</span><br></pre></td></tr></table></figure><p><strong>Use topological sort, build graph first based on word order, need to populate all chars for easier implementation</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">//["ab","adc"],["adc"],["aa","abb","aba"]</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">alienOrder</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(words == <span class="keyword">null</span> || words.length == <span class="number">0</span>)</span><br><span class="line">            <span class="comment">// len could be only one word</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="comment">// use map to save adjList and population</span></span><br><span class="line">        Map&lt;Character,Set&lt;Character&gt;&gt; adjList = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// put all character in case of orphan</span></span><br><span class="line">        <span class="keyword">for</span>(String word : words)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())</span><br><span class="line">                adjList.put(c,<span class="keyword">null</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;words.length-<span class="number">1</span>; ++i)&#123;</span><br><span class="line">            String a = words[i], b = words[i+<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> idx=<span class="number">0</span>; idx&lt;a.length() &amp;&amp; idx&lt;b.length(); ++idx)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a.charAt(idx) != b.charAt(idx))&#123;</span><br><span class="line">                    Set&lt;Character&gt; children = adjList.get(a.charAt(idx));</span><br><span class="line">                    <span class="keyword">if</span>(children == <span class="keyword">null</span>)&#123;</span><br><span class="line">                        children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">                        adjList.put(a.charAt(idx),children);</span><br><span class="line">                    &#125;</span><br><span class="line">                    children.add(b.charAt(idx));  </span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// topological sort, since input may not valid, need to check cycle: z,x,z</span></span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        Set&lt;Character&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;Character&gt; path = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> key : adjList.keySet())&#123;</span><br><span class="line">            <span class="keyword">if</span>(hasCycle(adjList,stack,visited,path,key))</span><br><span class="line">                <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">            sb.append(stack.pop());</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(Map&lt;Character,Set&lt;Character&gt;&gt; adjList,Stack&lt;Character&gt; stack,Set&lt;Character&gt; visited,Set&lt;Character&gt; path,<span class="keyword">char</span> curr)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(path.contains(curr))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(visited.contains(curr))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        visited.add(curr);</span><br><span class="line">        path.add(curr);</span><br><span class="line">        Set&lt;Character&gt; children = adjList.get(curr);</span><br><span class="line">        <span class="keyword">if</span>(children != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> child : children)&#123;</span><br><span class="line">                <span class="keyword">if</span>(hasCycle(adjList,stack,visited,path,child))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;            </span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(curr);</span><br><span class="line">        path.remove(curr);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="271-encode-and-decode-strings-medium"><a href="#271-encode-and-decode-strings-medium" class="headerlink" title="#271-encode-and-decode-strings-medium"></a>#271-encode-and-decode-strings-medium</h4><p>Design an algorithm to encode <strong>a list of strings</strong> to <strong>a string</strong>. The encoded string is then sent over the network and is decoded back to the original list of strings.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// count#str</span></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(String str : strs)&#123;</span><br><span class="line">            <span class="comment">// append one by one</span></span><br><span class="line">            sb.append(str.length() + <span class="string">"#"</span> + str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; s.length())&#123;</span><br><span class="line">            <span class="keyword">int</span> j = i;</span><br><span class="line">            <span class="keyword">while</span>(s.charAt(j) != <span class="string">'#'</span>)</span><br><span class="line">                j ++;</span><br><span class="line">            <span class="keyword">int</span> len = Integer.parseInt(s.substring(i,j));</span><br><span class="line">            result.add(s.substring(j+<span class="number">1</span>,j+<span class="number">1</span>+len));</span><br><span class="line">            i = j + <span class="number">1</span> + len;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Your Codec object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// Codec codec = new Codec();</span></span><br><span class="line"><span class="comment">// codec.decode(codec.encode(strs));</span></span><br></pre></td></tr></table></figure><p><strong>num#len1#len2#12</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    sb.append(strs.size() + <span class="string">"#"</span>);</span><br><span class="line">    <span class="keyword">for</span>(String str : strs)</span><br><span class="line">        sb.append(str.length() + <span class="string">"#"</span>);</span><br><span class="line">    <span class="keyword">for</span>(String str : strs)</span><br><span class="line">        sb.append(str);</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// find count</span></span><br><span class="line">    <span class="keyword">while</span>(tail&lt;s.length() &amp;&amp; s.charAt(tail)!=<span class="string">'#'</span>)</span><br><span class="line">        tail++;</span><br><span class="line">    <span class="keyword">int</span> count = Integer.parseInt(s.substring(head,tail));</span><br><span class="line">    <span class="keyword">int</span>[] len = <span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; i++)&#123;</span><br><span class="line">        head = tail + <span class="number">1</span>;</span><br><span class="line">        tail = head;</span><br><span class="line">        <span class="keyword">while</span>(tail&lt;s.length() &amp;&amp; s.charAt(tail)!=<span class="string">'#'</span>)</span><br><span class="line">            tail++;</span><br><span class="line">        len[i] = Integer.parseInt(s.substring(head,tail));</span><br><span class="line">    &#125;</span><br><span class="line">    head = tail + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == s.length())</span><br><span class="line">            result.add(<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            result.add(s.substring(head,head+len[i]));</span><br><span class="line">            head += len[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="272-closest-bst-value-ii-hard"><a href="#272-closest-bst-value-ii-hard" class="headerlink" title="#272-closest-bst-value-ii-hard"></a>#272-closest-bst-value-ii-hard</h4><p>Given a non-empty binary search tree and a target value, find <em>k</em> values in the BST that are closest to the target.</p><p><strong>Note:</strong></p><ul><li>Given target value is a floating point.</li><li>You may assume <em>k</em> is always valid, that is: <em>k</em> ≤ total nodes.</li><li>You are guaranteed to have only one unique set of <em>k</em> values in the BST that are closest to the target.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [4,2,5,1,3], target = 3.714286, and k = 2</span><br><span class="line"></span><br><span class="line">    4</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \</span><br><span class="line">1   3</span><br><span class="line"></span><br><span class="line">Output: [4,3]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">closestKValues</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two stack, one for pre one for suc</span></span><br><span class="line">    <span class="comment">// 12345, 3,7</span></span><br><span class="line">    <span class="comment">// =&gt; pres 1,2,3</span></span><br><span class="line">    <span class="comment">// =&gt; succ 5,4</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Stack&lt;Integer&gt; pres = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; sucs = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// notice one of should have equal condition</span></span><br><span class="line">    inorderPre(root,target,pres);</span><br><span class="line">    inorderSuc(root,target,sucs);</span><br><span class="line">    <span class="comment">// then find k</span></span><br><span class="line">    <span class="keyword">while</span>(k-- &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(pres.isEmpty())</span><br><span class="line">            result.add(sucs.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sucs.isEmpty())</span><br><span class="line">            result.add(pres.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(Math.abs(pres.peek()-target) &lt; Math.abs(sucs.peek()-target))</span><br><span class="line">            result.add(pres.pop());</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result.add(sucs.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorderPre</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, Stack&lt;Integer&gt; pres)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    inorderPre(root.left, target, pres);</span><br><span class="line">    <span class="comment">// push all smaller pred, choose equal (or sucs equal)</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &gt;= target)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    pres.push(root.val);</span><br><span class="line">    inorderPre(root.right, target, pres);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorderSuc</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, Stack&lt;Integer&gt; sucs)</span></span>&#123;</span><br><span class="line">    <span class="comment">// reverse inorder</span></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    inorderSuc(root.right, target, sucs);</span><br><span class="line">    <span class="comment">// find all larger suc</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &lt; target)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    sucs.push(root.val);</span><br><span class="line">    inorderSuc(root.left, target, sucs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="277-find-celebrity-medium"><a href="#277-find-celebrity-medium" class="headerlink" title="#277-find-celebrity-medium"></a>#277-find-celebrity-medium</h4><p>Suppose you are at a party with <code>n</code> people (labeled from <code>0</code> to <code>n - 1</code>) and among them, there may exist one celebrity. The definition of a celebrity is that all the other <code>n - 1</code> people know him/her but he/she does not know any of them.</p><p>Now you want to find out who the celebrity is or verify that there is not one. The only thing you are allowed to do is to ask questions like: “Hi, A. Do you know B?” to get information of whether A knows B. You need to find out the celebrity (or verify there is not one) by asking as few questions as possible (in the asymptotic sense).</p><p>You are given a helper function <code>bool knows(a, b)</code> which tells you whether A knows B. Implement a function <code>int findCelebrity(n)</code>, your function should minimize the number of calls to <code>knows</code>.</p><p><strong>Note</strong>: There will be exactly one celebrity if he/she is in the party. Return the celebrity’s label if there is a celebrity in the party. If there is no celebrity, return <code>-1</code>.</p><p><strong>brute force n^2:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Relation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        candidate:</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a=<span class="number">0</span>; a&lt;n; ++a)&#123;</span><br><span class="line">            <span class="comment">// check if a knows no one</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b=<span class="number">0</span>; b&lt;n; ++b)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a != b &amp;&amp; knows(a,b))</span><br><span class="line">                    <span class="keyword">continue</span> candidate;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// check if everyone knows a</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b=<span class="number">0</span>; b&lt;n; ++b)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a != b &amp;&amp; !knows(b,a))</span><br><span class="line">                    <span class="keyword">continue</span> candidate;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>stack O(n)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        stack.push(i);</span><br><span class="line">    <span class="keyword">while</span>(stack.size() &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> a = stack.pop(), b = stack.pop();</span><br><span class="line">        <span class="keyword">if</span>(knows(a,b)) <span class="comment">// b is candidate</span></span><br><span class="line">            stack.push(b);</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">// a is candidate</span></span><br><span class="line">            stack.push(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> candidate = stack.pop();</span><br><span class="line">    <span class="comment">// double check</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i != candidate &amp;&amp; (!knows(i,candidate) || knows(candidate,i)))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Two pass similar as stack but space O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> candidate = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(knows(candidate,i))</span><br><span class="line">            candidate = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i != candidate &amp;&amp; (!knows(i,candidate) || knows(candidate,i)))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="279-perfect-squares-medium"><a href="#279-perfect-squares-medium" class="headerlink" title="#279-perfect-squares-medium"></a>#279-perfect-squares-medium</h4><p>Given a positive integer <em>n</em>, find the least number of perfect square numbers (for example, <code>1, 4, 9, 16, ...</code>) which sum to <em>n</em>.</p><p>For example, given <em>n</em> = <code>12</code>, return <code>3</code> because <code>12 = 4 + 4 + 4</code>; given <em>n</em> = <code>13</code>, return <code>2</code> because <code>13 = 4 + 9</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use dp check prev sum</span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// dp iteration</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="comment">// for num i, check all squares</span></span><br><span class="line">        <span class="comment">// curr square + (i-square)</span></span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j*j&lt;=i; j++)&#123;</span><br><span class="line">            <span class="comment">// dp[j*j] is 1</span></span><br><span class="line">            <span class="comment">// so population not needed</span></span><br><span class="line">            min = Math.min(min, dp[i-j*j] + <span class="number">1</span>);</span><br><span class="line">        &#125;      </span><br><span class="line">        dp[i] = min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="285-inorder-successor-in-bst-medium"><a href="#285-inorder-successor-in-bst-medium" class="headerlink" title="#285-inorder-successor-in-bst-medium"></a>#285-inorder-successor-in-bst-medium</h4><p>Given a binary search tree and a node in it, find the in-order successor of that node in the BST.</p><p><strong>Note</strong>: If the given node has no in-order successor in the tree, return <code>null</code>.</p><p><strong>recursion: </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderSuccessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// if root &lt;= p, just check right side</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &lt;= p.val)</span><br><span class="line">        <span class="keyword">return</span> inorderSuccessor(root.right,p);</span><br><span class="line">    <span class="comment">// if root &gt; p, root is possible result</span></span><br><span class="line">    TreeNode result = inorderSuccessor(root.left,p);</span><br><span class="line">    <span class="keyword">return</span> result == <span class="keyword">null</span>? root : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderSuccessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// if root.val &gt; p, it's possible result</span></span><br><span class="line">    TreeNode result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.val &gt; p.val)&#123;</span><br><span class="line">            result = root;</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            root = root.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>predecessor:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderPredecessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// if root.val &lt; p, possible result</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &gt;= p)</span><br><span class="line">        <span class="keyword">return</span> inorderPredecessor(root.left,p);</span><br><span class="line">    TreeNode result = inorderPredecessor(root.right,p);</span><br><span class="line">    <span class="keyword">return</span> result == <span class="keyword">null</span> ? root : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="287-find-duplicate-number-medium"><a href="#287-find-duplicate-number-medium" class="headerlink" title="#287-find-duplicate-number-medium"></a>#287-find-duplicate-number-medium</h4><p>Given an array <em>nums</em> containing <em>n</em> + 1 integers where each integer is between 1 and <em>n</em> (inclusive), prove that at least one duplicate number must exist. Assume that there is only one duplicate number, find the duplicate one.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,3,4,2,2]</span><br><span class="line">Output: 2</span><br><span class="line">[2,2,2,2]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// find entrance of cycle</span></span><br><span class="line">    <span class="keyword">int</span> slow = nums[<span class="number">0</span>], fast = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">int</span> idx1 = nums[<span class="number">0</span>], idx2 = slow;</span><br><span class="line">    <span class="keyword">while</span>(idx1 != idx2)&#123;</span><br><span class="line">        idx1 = nums[idx1];</span><br><span class="line">        idx2 = nums[idx2];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="295-find-median-from-data-stream-hard"><a href="#295-find-median-from-data-stream-hard" class="headerlink" title="#295-find-median-from-data-stream-hard"></a>#295-find-median-from-data-stream-hard</h4><p>Median is the middle value in an ordered integer list. If the size of the list is even, there is no middle value. So the median is the mean of the two middle value.</p><p>For example,</p><p><code>[2,3,4]</code>, the median is <code>3</code></p><p><code>[2,3]</code>, the median is <code>(2 + 3) / 2 = 2.5</code></p><p>Design a data structure that supports the following two operations:</p><ul><li>void addNum(int num) - Add a integer number from the data stream to the data structure.</li><li>double findMedian() - Return the median of all elements so far.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addNum(1)</span><br><span class="line">addNum(2)</span><br><span class="line">findMedian() -&gt; 1.5</span><br><span class="line">addNum(3) </span><br><span class="line">findMedian() -&gt; 2</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two heap (min &amp; max)</span></span><br><span class="line">    PriorityQueue&lt;Long&gt; minHeap, maxHeap;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MedianFinder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        minHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">        maxHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// left max heap, right min heap</span></span><br><span class="line">        <span class="comment">// every time add to left, </span></span><br><span class="line">        maxHeap.offer((<span class="keyword">long</span>)num);</span><br><span class="line">        minHeap.offer(maxHeap.poll());</span><br><span class="line">        <span class="comment">// keep max heap larger</span></span><br><span class="line">        <span class="keyword">if</span>(maxHeap.size() &lt; minHeap.size())</span><br><span class="line">            maxHeap.offer(minHeap.poll());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedian</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(minHeap.size() == maxHeap.size())</span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">double</span>)(minHeap.peek() + maxHeap.peek()) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">double</span>)maxHeap.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="297-encode-and-decode-binary-tree-hard"><a href="#297-encode-and-decode-binary-tree-hard" class="headerlink" title="#297-encode-and-decode-binary-tree-hard"></a>#297-encode-and-decode-binary-tree-hard</h4><p>Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.</p><p>Design an algorithm to serialize and deserialize a binary tree. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary tree can be serialized to a string and this string can be deserialized to the original tree structure.</p><p><strong>preorder bfs recursion</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use preorder dfs</span></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        buildString(root,sb);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildString</span><span class="params">(TreeNode root,StringBuilder sb)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            sb.append(<span class="string">"X"</span>).append(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(root.val).append(<span class="string">","</span>);</span><br><span class="line">        buildString(root.left,sb);</span><br><span class="line">        buildString(root.right,sb);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.addAll(Arrays.asList(data.split(<span class="string">","</span>)));</span><br><span class="line">        <span class="keyword">return</span> buildTree(queue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(Queue&lt;String&gt; queue)</span></span>&#123;</span><br><span class="line">        String val = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(val==<span class="keyword">null</span> || val.equals(<span class="string">"X"</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.parseInt(val));</span><br><span class="line">        root.left = buildTree(queue);</span><br><span class="line">        root.right = buildTree(queue);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>bfs iteration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            TreeNode node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(node == <span class="keyword">null</span>)&#123;</span><br><span class="line">                sb.append(<span class="string">"X,"</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(node.val+<span class="string">","</span>);</span><br><span class="line">            queue.offer(node.left);</span><br><span class="line">            queue.offer(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data==<span class="keyword">null</span> || data.length()==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        String[] values = data.split(<span class="string">","</span>);</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[<span class="number">0</span>]));</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            TreeNode node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(!values[idx].equals(<span class="string">"X"</span>))&#123;</span><br><span class="line">                node.left = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[idx]));</span><br><span class="line">                queue.offer(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;</span><br><span class="line">            <span class="keyword">if</span>(!values[idx].equals(<span class="string">"X"</span>))&#123;</span><br><span class="line">                node.right = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[idx]));</span><br><span class="line">                queue.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="300-longest-increasing-subsequence-medium"><a href="#300-longest-increasing-subsequence-medium" class="headerlink" title="#300-longest-increasing-subsequence-medium"></a>#300-longest-increasing-subsequence-medium</h4><p>Given an unsorted array of integers, find the length of longest increasing subsequence.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [10,9,2,5,3,7,101,18]</span><br><span class="line">Output: 4 </span><br><span class="line">Explanation: The longest increasing subsequence is [2,3,7,101], therefore the length is 4.</span><br></pre></td></tr></table></figure><p><strong>n^2 dp:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; nums[j])</span><br><span class="line">                maxLen = Math.max(maxLen,dp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[i] = maxLen + <span class="number">1</span>;</span><br><span class="line">        result = Math.max(result,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>binary search dp:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="comment">// maintain an increasing dp array</span></span><br><span class="line">    <span class="comment">// use maxLen as tail</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = maxLen;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(dp[mid] &lt; num)</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[left] = num;</span><br><span class="line">        <span class="keyword">if</span>(left == maxLen)</span><br><span class="line">            maxLen ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="301-remove-invalid-parentheses-hard"><a href="#301-remove-invalid-parentheses-hard" class="headerlink" title="#301-remove-invalid-parentheses-hard"></a>#301-remove-invalid-parentheses-hard</h4><p>Remove the minimum number of invalid parentheses in order to make the input string valid. Return all possible results.</p><p><strong>Note:</strong> The input string may contain letters other than the parentheses <code>(</code> and <code>)</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;()())()&quot;</span><br><span class="line">Output: [&quot;()()()&quot;, &quot;(())()&quot;]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;(a)())()&quot;</span><br><span class="line">Output: [&quot;(a)()()&quot;, &quot;(a())()&quot;]</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;)(&quot;</span><br><span class="line">Output: [&quot;&quot;]</span><br></pre></td></tr></table></figure><p><strong>BFS: find optimal directly</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use bfs, find shortest result first</span></span><br><span class="line"><span class="comment">// use set to check visited substring</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">removeInvalidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    queue.offer(s);</span><br><span class="line">    <span class="keyword">boolean</span> foundResult = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        String curr = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(isValid(curr))&#123;</span><br><span class="line">            result.add(curr);</span><br><span class="line">            foundResult = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// might be same len valid result in queue</span></span><br><span class="line">        <span class="keyword">if</span>(foundResult)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">// remove a char add to queue</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.length(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.charAt(i) != <span class="string">'('</span> &amp;&amp; curr.charAt(i) != <span class="string">')'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// remove i th char</span></span><br><span class="line">            String next = curr.substring(<span class="number">0</span>,i) + curr.substring(i+<span class="number">1</span>,curr.length());</span><br><span class="line">            <span class="keyword">if</span>(!visited.contains(next))&#123;</span><br><span class="line">                queue.offer(next);</span><br><span class="line">                visited.add(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// function to check if s is valid</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray())&#123;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'('</span>)</span><br><span class="line">            count ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">')'</span>)&#123;</span><br><span class="line">            count --;</span><br><span class="line">            <span class="keyword">if</span>(count &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="310-minimum-height-trees-medium"><a href="#310-minimum-height-trees-medium" class="headerlink" title="#310-minimum-height-trees-medium"></a>#310-minimum-height-trees-medium</h4><p>For a undirected graph with tree characteristics, we can choose any node as the root. The result graph is then a rooted tree. Among all possible rooted trees, those with minimum height are called minimum height trees (MHTs). Given such a graph, write a function to find all the MHTs and return a list of their root labels.</p><p><strong>Format</strong><br>The graph contains <code>n</code> nodes which are labeled from <code>0</code> to <code>n - 1</code>. You will be given the number <code>n</code> and a list of undirected <code>edges</code>(each edge is a pair of labels).</p><p>You can assume that no duplicate edges will appear in <code>edges</code>. Since all edges are undirected, <code>[0, 1]</code> is the same as <code>[1, 0]</code>and thus will not appear together in <code>edges</code>.</p><p><strong>Example 1 :</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 4, edges = [[1, 0], [1, 2], [1, 3]]</span><br><span class="line"></span><br><span class="line">        0</span><br><span class="line">        |</span><br><span class="line">        1</span><br><span class="line">       / \</span><br><span class="line">      2   3 </span><br><span class="line"></span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure><p><strong>Example 2 :</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 6, edges = [[0, 3], [1, 3], [2, 3], [4, 3], [5, 4]]</span><br><span class="line"></span><br><span class="line">     0  1  2</span><br><span class="line">      \ | /</span><br><span class="line">        3</span><br><span class="line">        |</span><br><span class="line">        4</span><br><span class="line">        |</span><br><span class="line">        5 </span><br><span class="line"></span><br><span class="line">Output: [3, 4]</span><br></pre></td></tr></table></figure><p><strong>Brute force BFS TLE:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findMinHeightTrees</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs  TLE, remove leaves until 2 node left</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges)&#123;</span><br><span class="line">        graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</span><br><span class="line">        graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> minHeight = Integer.MAX_VALUE;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> height = getHeight(graph,i);</span><br><span class="line">        <span class="keyword">if</span>(height &lt; minHeight)&#123;</span><br><span class="line">            minHeight = height;</span><br><span class="line">            result.clear();</span><br><span class="line">            result.add(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(height == minHeight)</span><br><span class="line">            result.add(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph,<span class="keyword">int</span> root)</span></span>&#123;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    visited.add(root);</span><br><span class="line">    <span class="keyword">int</span> h = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        h ++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">            List&lt;Integer&gt; children = graph.get(curr);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> child : children)&#123;</span><br><span class="line">                <span class="comment">// prone, only add node that has children</span></span><br><span class="line">                <span class="keyword">if</span>(visited.add(child))&#123;</span><br><span class="line">                    queue.offer(child);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>similar bfs topological, remove leaves:</strong></p><p><strong>leaves polled in the last level are result</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findMinHeightTrees</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs  TLE, remove leaves until 2 node left</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)  <span class="comment">// coner case</span></span><br><span class="line">        <span class="keyword">return</span> Arrays.asList(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// count out degree</span></span><br><span class="line">    <span class="keyword">int</span>[] degree = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges)&#123;</span><br><span class="line">        graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</span><br><span class="line">        graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</span><br><span class="line">        degree[edge[<span class="number">0</span>]] ++;</span><br><span class="line">        degree[edge[<span class="number">1</span>]] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// using bfs, adding leaves to init</span></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(degree[i] == <span class="number">1</span>)  <span class="comment">// leaf</span></span><br><span class="line">            queue.offer(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// last level poll are results !!!</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        result.clear(); </span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">            <span class="comment">// all currs are leaves</span></span><br><span class="line">            <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">            degree[curr] --;    <span class="comment">// == 0</span></span><br><span class="line">            result.add(curr);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> nei : graph.get(curr))&#123;</span><br><span class="line">                degree[nei] --;</span><br><span class="line">                <span class="keyword">if</span>(degree[nei] == <span class="number">1</span>)&#123; <span class="comment">// one is leaf</span></span><br><span class="line">                    queue.offer(nei);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="313-supper-ugly-number-medium"><a href="#313-supper-ugly-number-medium" class="headerlink" title="#313-supper-ugly-number-medium"></a>#313-supper-ugly-number-medium</h4><p>Write a program to find the nth super ugly number.</p><p>Super ugly numbers are positive numbers whose all prime factors are in the given prime list <code>primes</code> of size <code>k</code>. For example, <code>[1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32]</code>is the sequence of the first 12 super ugly numbers given <code>primes</code> = <code>[2, 7, 13, 19]</code> of size 4.</p><p><strong>Note:</strong><br>(1) <code>1</code> is a super ugly number for any given <code>primes</code>.<br>(2) The given numbers in <code>primes</code> are in ascending order.<br>(3) 0 &lt; <code>k</code> ≤ 100, 0 &lt; <code>n</code> ≤ 106, 0 &lt; <code>primes[i]</code> &lt; 1000.<br>(4) The nth super ugly number is guaranteed to fit in a 32-bit signed integer.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use idea of ugly number ii</span></span><br><span class="line">    <span class="comment">// array to save result, first is 1</span></span><br><span class="line">    <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// array to save index</span></span><br><span class="line">    <span class="keyword">int</span>[] idx = <span class="keyword">new</span> <span class="keyword">int</span>[primes.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="comment">// find min to be curr ugly num</span></span><br><span class="line">        <span class="keyword">int</span> ugly = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;idx.length; j++)&#123;</span><br><span class="line">            <span class="comment">// nums[idx for j] * primes[j]</span></span><br><span class="line">            <span class="keyword">int</span> candidate = primes[j] * nums[idx[j]];</span><br><span class="line">            ugly = Math.min(ugly,candidate);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// set curr result</span></span><br><span class="line">        nums[i] = ugly;</span><br><span class="line">        <span class="comment">// update index for all primes</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;idx.length; j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> prev = nums[idx[j]];</span><br><span class="line">            <span class="keyword">if</span>(prev * primes[j] == ugly)</span><br><span class="line">                idx[j] ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="323-number-of-connected-components-medium"><a href="#323-number-of-connected-components-medium" class="headerlink" title="#323-number-of-connected-components-medium"></a>#323-number-of-connected-components-medium</h4><p>Given <code>n</code> nodes labeled from <code>0</code> to <code>n - 1</code> and a list of undirected edges (each edge is a pair of nodes), write a function to find the number of connected components in an undirected graph.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 5 and edges = [[0, 1], [1, 2], [3, 4]]</span><br><span class="line"></span><br><span class="line">     0          3</span><br><span class="line">     |          |</span><br><span class="line">     1 --- 2    4 </span><br><span class="line"></span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>visited DFS similar to count island</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countComponents</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges)&#123;</span><br><span class="line">        graph.get(edge[<span class="number">0</span>]).add(edge[<span class="number">1</span>]);</span><br><span class="line">        graph.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited.contains(i))&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            dfs(graph,i,visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph,<span class="keyword">int</span> curr,Set&lt;Integer&gt; visited)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(visited.contains(curr))</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    visited.add(curr);</span><br><span class="line">    List&lt;Integer&gt; children = graph.get(curr);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> child : children)</span><br><span class="line">        <span class="keyword">if</span>(!visited.contains(child))</span><br><span class="line">            dfs(graph,child,visited);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="325-max-size-subarray-sum-equals-k-medium"><a href="#325-max-size-subarray-sum-equals-k-medium" class="headerlink" title="#325-max-size-subarray-sum-equals-k-medium"></a>#325-max-size-subarray-sum-equals-k-medium</h4><p>Given an array <em>nums</em> and a target value <em>k</em>, find the maximum length of a subarray that sums to <em>k</em>. If there isn’t one, return 0 instead.</p><p><strong>Note:</strong><br>The sum of the entire <em>nums</em> array is guaranteed to fit within the 32-bit signed integer range.</p><p><strong>Example 1:</strong></p><p>Given <em>nums</em> = <code>[1, -1, 5, -2, 3]</code>, <em>k</em> = <code>3</code>,<br>return <code>4</code>. (because the subarray <code>[1, -1, 5, -2]</code> sums to 3 and is the longest)</p><p><strong>Example 2:</strong></p><p>Given <em>nums</em> = <code>[-2, -1, 2, 1]</code>, <em>k</em> = <code>1</code>,<br>return <code>2</code>. (because the subarray <code>[-1, 2]</code> sums to 1 and is the longest)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArrayLen</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(sum - k))</span><br><span class="line">            maxLen = Math.max(maxLen,i-map.get(sum-k));</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(sum))</span><br><span class="line">            map.put(sum,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="332-reconstruct-itinerary-medium"><a href="#332-reconstruct-itinerary-medium" class="headerlink" title="#332-reconstruct-itinerary-medium"></a>#332-reconstruct-itinerary-medium</h4><p>Given a list of airline tickets represented by pairs of departure and arrival airports <code>[from, to]</code>, reconstruct the itinerary in order. All of the tickets belong to a man who departs from <code>JFK</code>. Thus, the itinerary must begin with <code>JFK</code>.</p><p><strong>Note:</strong></p><ol><li>If there are multiple valid itineraries, you should return the itinerary that has the smallest lexical order when read as a single string. For example, the itinerary <code>[&quot;JFK&quot;, &quot;LGA&quot;]</code> has a smaller lexical order than <code>[&quot;JFK&quot;, &quot;LGB&quot;]</code>.</li><li>All airports are represented by three capital letters (IATA code).</li><li>You may assume all tickets form at least one valid itinerary.</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: tickets = [[&quot;MUC&quot;, &quot;LHR&quot;], [&quot;JFK&quot;, &quot;MUC&quot;], [&quot;SFO&quot;, &quot;SJC&quot;], [&quot;LHR&quot;, &quot;SFO&quot;]]</span><br><span class="line">Output: [&quot;JFK&quot;, &quot;MUC&quot;, &quot;LHR&quot;, &quot;SFO&quot;, &quot;SJC&quot;]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: tickets = [[&quot;JFK&quot;,&quot;SFO&quot;],[&quot;JFK&quot;,&quot;ATL&quot;],[&quot;SFO&quot;,&quot;ATL&quot;],[&quot;ATL&quot;,&quot;JFK&quot;],[&quot;ATL&quot;,&quot;SFO&quot;]]</span><br><span class="line">Output: [&quot;JFK&quot;,&quot;ATL&quot;,&quot;JFK&quot;,&quot;SFO&quot;,&quot;ATL&quot;,&quot;SFO&quot;]</span><br><span class="line">Explanation: Another possible reconstruction is [&quot;JFK&quot;,&quot;SFO&quot;,&quot;ATL&quot;,&quot;JFK&quot;,&quot;ATL&quot;,&quot;SFO&quot;]. But it is larger in lexical order.</span><br></pre></td></tr></table></figure><p><strong>DFS sorted children, invalid add to end:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">Map&lt;String, List&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String[] t : tickets) &#123;</span><br><span class="line">String parent = t[<span class="number">0</span>], child = t[<span class="number">1</span>];</span><br><span class="line">List&lt;String&gt; children = graph.get(parent);</span><br><span class="line"><span class="keyword">if</span> (children == <span class="keyword">null</span>) &#123;</span><br><span class="line">children = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">graph.put(parent, children);</span><br><span class="line">&#125;</span><br><span class="line">children.add(child);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (String key : graph.keySet())</span><br><span class="line">Collections.sort(graph.get(key));</span><br><span class="line">List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       result.add(<span class="string">"JFK"</span>);</span><br><span class="line"><span class="keyword">if</span>(dfs(graph, <span class="string">"JFK"</span>, result, tickets.length))</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// return if find result</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(Map&lt;String, List&lt;String&gt;&gt; graph, String curr, List&lt;String&gt; result, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">List&lt;String&gt; children = graph.get(curr);</span><br><span class="line"><span class="keyword">if</span> (children != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; children.size(); ++i) &#123;</span><br><span class="line">String child = children.remove(<span class="number">0</span>);</span><br><span class="line">               result.add(child);</span><br><span class="line"><span class="keyword">if</span> (dfs(graph, child, result, count - <span class="number">1</span>))</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">children.add(child);</span><br><span class="line">               result.remove(result.size()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Stack iteration: add invalid to stack, remove prev from path</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// using heap for sorting, invalid will reconsidered from stack</span></span><br><span class="line">Map&lt;String, PriorityQueue&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String[] t : tickets) &#123;</span><br><span class="line">String parent = t[<span class="number">0</span>], child = t[<span class="number">1</span>];</span><br><span class="line">PriorityQueue&lt;String&gt; children = graph.get(parent);</span><br><span class="line"><span class="keyword">if</span> (children == <span class="keyword">null</span>) &#123;</span><br><span class="line">children = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">graph.put(parent, children);</span><br><span class="line">&#125;</span><br><span class="line">children.offer(child);</span><br><span class="line">&#125;</span><br><span class="line">       String curr = <span class="string">"JFK"</span>;</span><br><span class="line">       Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">       List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;tickets.length; ++i)&#123;</span><br><span class="line">           <span class="comment">// case invalid path, add to stack and remove from path</span></span><br><span class="line">           <span class="keyword">while</span>(!graph.containsKey(curr) || graph.get(curr).size()==<span class="number">0</span>)&#123;</span><br><span class="line">               stack.push(curr);</span><br><span class="line">               curr = result.remove(result.size()-<span class="number">1</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           result.add(curr);</span><br><span class="line">           curr = graph.get(curr).poll();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// add curr and rest in stack</span></span><br><span class="line">       result.add(curr);</span><br><span class="line">       <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">           result.add(stack.pop());</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="335-self-crossing-hard"><a href="#335-self-crossing-hard" class="headerlink" title="#335-self-crossing-hard"></a>#335-self-crossing-hard</h4><p>You are given an array <em>x</em> of <code>n</code> positive numbers. You start at point <code>(0,0)</code> and moves <code>x[0]</code> metres to the north, then <code>x[1]</code> metres to the west, <code>x[2]</code> metres to the south, <code>x[3]</code> metres to the east and so on. In other words, after each move your direction changes counter-clockwise.</p><p>Write a one-pass algorithm with <code>O(1)</code> extra space to determine, if your path crosses itself, or not.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Given x = [2, 1, 1, 2],</span><br><span class="line">?????</span><br><span class="line">?   ?</span><br><span class="line">???????&gt;</span><br><span class="line">    ?</span><br><span class="line"></span><br><span class="line">Return true (self crossing)</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Given x = [1, 2, 3, 4],</span><br><span class="line">????????</span><br><span class="line">?      ?</span><br><span class="line">?</span><br><span class="line">?</span><br><span class="line">?????????????&gt;</span><br><span class="line"></span><br><span class="line">Return false (not self crossing)</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given x = [1, 1, 1, 1],</span><br><span class="line">?????</span><br><span class="line">?   ?</span><br><span class="line">?????&gt;</span><br><span class="line"></span><br><span class="line">Return true (self crossing)</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSelfCrossing</span><span class="params">(<span class="keyword">int</span>[] x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// i could cross with i-3, i-4, i-5</span></span><br><span class="line">    <span class="keyword">if</span>(x==<span class="keyword">null</span> || x.length&lt;=<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// start from 3</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>; i&lt;x.length; i++)&#123;</span><br><span class="line">        <span class="comment">// check i &amp; i-3</span></span><br><span class="line">        <span class="comment">// 7 4: 7&gt;=5, 6&gt;=4</span></span><br><span class="line">        <span class="keyword">if</span>(x[i]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">1</span>]&lt;=x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// check i &amp; i-4</span></span><br><span class="line">        <span class="comment">// 7 3: 7+3&gt;=5, 6==4</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=<span class="number">4</span> &amp;&amp; x[i]+x[i-<span class="number">4</span>]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">1</span>]==x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// check i &amp; i-5</span></span><br><span class="line">        <span class="comment">// 7 2: 7+3&gt;=5, 5&gt;=3, 6+2&gt;=4, 6&lt;=4 !(4&gt;=2)</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=<span class="number">5</span> &amp;&amp; x[i]+x[i-<span class="number">4</span>]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">2</span>]&gt;=x[i-<span class="number">4</span>] &amp;&amp;</span><br><span class="line">          x[i-<span class="number">1</span>]+x[i-<span class="number">5</span>]&gt;=x[i-<span class="number">3</span>] &amp;&amp; x[i-<span class="number">1</span>]&lt;=x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="350-intersection-of-two-arrays-easy"><a href="#350-intersection-of-two-arrays-easy" class="headerlink" title="#350-intersection-of-two-arrays-easy"></a>#350-intersection-of-two-arrays-easy</h4><p>Given two arrays, write a function to compute their intersection.</p><p><strong>Example:</strong><br>Given <em>nums1</em> = <code>[1, 2, 2, 1]</code>, <em>nums2</em> = <code>[2, 2]</code>, return <code>[2, 2]</code>.</p><p><strong>sort O(nlogn)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    Arrays.sort(nums1);</span><br><span class="line">    Arrays.sort(nums2);</span><br><span class="line">    <span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(idx1 &lt; nums1.length &amp;&amp; idx2 &lt; nums2.length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums1[idx1] == nums2[idx2])&#123;</span><br><span class="line">            list.add(nums1[idx1]);</span><br><span class="line">            idx1++;idx2++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums1[idx1] &lt; nums2[idx2])</span><br><span class="line">            idx1 ++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            idx2 ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; i++)</span><br><span class="line">        result[i] = list.get(i);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>map count O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums1.length &gt; nums2.length)</span><br><span class="line">        <span class="keyword">return</span> intersect(nums2,nums1);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums1)</span><br><span class="line">        map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.getOrDefault(num,<span class="number">0</span>) != <span class="number">0</span>)&#123;</span><br><span class="line">            list.add(num);</span><br><span class="line">            map.put(num,map.get(num)-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; i++)</span><br><span class="line">        result[i] = list.get(i);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="362-design-hit-counter-medium"><a href="#362-design-hit-counter-medium" class="headerlink" title="#362-design-hit-counter-medium"></a>#362-design-hit-counter-medium</h4><p>Design a hit counter which counts the number of hits received in the past 5 minutes.</p><p>Each function accepts a timestamp parameter (in seconds granularity) and you may assume that calls are being made to the system in chronological order (ie, the timestamp is monotonically increasing). You may assume that the earliest timestamp starts at 1.</p><p>It is possible that several hits arrive roughly at the same time.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">HitCounter counter = new HitCounter();</span><br><span class="line"></span><br><span class="line">// hit at timestamp 1.</span><br><span class="line">counter.hit(1);</span><br><span class="line"></span><br><span class="line">// hit at timestamp 2.</span><br><span class="line">counter.hit(2);</span><br><span class="line"></span><br><span class="line">// hit at timestamp 3.</span><br><span class="line">counter.hit(3);</span><br><span class="line"></span><br><span class="line">// get hits at timestamp 4, should return 3.</span><br><span class="line">counter.getHits(4);</span><br><span class="line"></span><br><span class="line">// hit at timestamp 300.</span><br><span class="line">counter.hit(300);</span><br><span class="line"></span><br><span class="line">// get hits at timestamp 300, should return 4.</span><br><span class="line">counter.getHits(300);</span><br><span class="line"></span><br><span class="line">// get hits at timestamp 301, should return 3.</span><br><span class="line">counter.getHits(301);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HitCounter</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 300s time cycle</span></span><br><span class="line">    <span class="keyword">int</span>[] times, hits;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HitCounter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.times = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">300</span>];</span><br><span class="line">        <span class="keyword">this</span>.hits = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">300</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Record a hit.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hit</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = timestamp % <span class="number">300</span>;  <span class="comment">// find bucket</span></span><br><span class="line">        <span class="keyword">if</span>(times[idx] != timestamp)&#123; <span class="comment">// check time</span></span><br><span class="line">            times[idx] = timestamp;</span><br><span class="line">            hits[idx] = <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            hits[idx] += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Return the number of hits in the past 5 minutes.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHits</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// find timestamp in most recent cycle</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">300</span>; ++i)</span><br><span class="line">            <span class="keyword">if</span>(timestamp - times[i] &lt; <span class="number">300</span>)</span><br><span class="line">                count += hits[i];</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your HitCounter object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * HitCounter obj = new HitCounter();</span></span><br><span class="line"><span class="comment"> * obj.hit(timestamp);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.getHits(timestamp);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><hr><h4 id="371-sum-of-two-integers-easy"><a href="#371-sum-of-two-integers-easy" class="headerlink" title="#371-sum-of-two-integers-easy"></a>#371-sum-of-two-integers-easy</h4><p>Calculate the sum of two integers <em>a</em> and <em>b</em>, but you are <strong>not allowed</strong> to use the operator <code>+</code> and <code>-</code>.</p><p><strong>Example:</strong><br>Given <em>a</em> = 1 and <em>b</em> = 2, return 3.</p><p><strong>Iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = a, carry = b;</span><br><span class="line">    <span class="keyword">while</span>(carry != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> nextSum = sum ^ carry;</span><br><span class="line">        <span class="keyword">int</span> nextCarry = (sum &amp; carry) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        sum = nextSum;</span><br><span class="line">        carry = nextCarry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">int</span> sum = a ^ b;</span><br><span class="line">    <span class="keyword">int</span> carry = (a &amp; b) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> getSum(sum,carry);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="373-find-k-pairs-with-smallest-sum-medium"><a href="#373-find-k-pairs-with-smallest-sum-medium" class="headerlink" title="#373-find-k-pairs-with-smallest-sum-medium"></a>#373-find-k-pairs-with-smallest-sum-medium</h4><p>You are given two integer arrays <strong>nums1</strong> and <strong>nums2</strong> sorted in ascending order and an integer <strong>k</strong>. </p><p>Define a pair <strong>(u,v)</strong> which consists of one element from the first array and one element from the second array.</p><p>Find the k pairs <strong>(u1,v1),(u2,v2) …(uk,vk)</strong> with the smallest sums.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums1 = [1,7,11], nums2 = [2,4,6],  k = 3</span><br><span class="line"></span><br><span class="line">Return: [1,2],[1,4],[1,6]</span><br><span class="line"></span><br><span class="line">The first 3 pairs are returned from the sequence:</span><br><span class="line">[1,2],[1,4],[1,6],[7,2],[7,4],[11,2],[7,6],[11,4],[11,6]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; kSmallestPairs(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums1.length==<span class="number">0</span> || nums2.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(k,<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1,<span class="keyword">int</span>[] o2)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o1[<span class="number">0</span>] + o1[<span class="number">1</span>] - o2[<span class="number">0</span>] - o2[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// populate first array first, curr[2] save index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums1.length &amp;&amp; i&lt;k;i++)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nums1[i],nums2[<span class="number">0</span>],<span class="number">0</span>&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.isEmpty() &amp;&amp; result.size()&lt;k)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] curr = heap.poll();</span><br><span class="line">        <span class="keyword">int</span> n1 = curr[<span class="number">0</span>], n2 = curr[<span class="number">1</span>], idx2 = curr[<span class="number">2</span>];</span><br><span class="line">        result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;n1,n2&#125;);</span><br><span class="line">        <span class="keyword">if</span>(idx2 == nums2.length - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;n1,nums2[idx2+<span class="number">1</span>],idx2+<span class="number">1</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="378-k-th-smallest-element-in-a-sorted-matrix-medium"><a href="#378-k-th-smallest-element-in-a-sorted-matrix-medium" class="headerlink" title="#378-k-th-smallest-element-in-a-sorted-matrix-medium"></a>#378-k-th-smallest-element-in-a-sorted-matrix-medium</h4><p>Given a <em>n</em> x <em>n</em> matrix where each of the rows and columns are sorted in ascending order, find the kth smallest element in the matrix.</p><p>Note that it is the kth smallest element in the sorted order, not the kth distinct element.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">matrix = [</span><br><span class="line">   [ 1,  5,  9],</span><br><span class="line">   [10, 11, 13],</span><br><span class="line">   [12, 13, 15]</span><br><span class="line">],</span><br><span class="line">k = 8,</span><br><span class="line"></span><br><span class="line">return 13.</span><br></pre></td></tr></table></figure><p><strong>Could use Dijkstra</strong></p><p><strong>Use heap init with row</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to #373</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// use [val,i,j] to save cell</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// init heap with first row, space O(c)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[<span class="number">0</span>][j],<span class="number">0</span>,j&#125;);</span><br><span class="line">    <span class="comment">// push cell below</span></span><br><span class="line">    <span class="keyword">int</span>[] curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty())&#123;</span><br><span class="line">        curr = heap.poll();</span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">int</span> val = curr[<span class="number">0</span>], i = curr[<span class="number">1</span>], j = curr[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i + <span class="number">1</span> &lt; m)</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[i+<span class="number">1</span>][j],i+<span class="number">1</span>,j&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>if k th distinct:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to #373</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// use [val,i,j] to save cell</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// init heap with first row, space O(c)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[<span class="number">0</span>][j],<span class="number">0</span>,j&#125;);</span><br><span class="line">    <span class="comment">// push cell below</span></span><br><span class="line">    <span class="keyword">int</span>[] curr = <span class="keyword">null</span>, prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty())&#123;</span><br><span class="line">        curr = heap.poll();</span><br><span class="line">        <span class="keyword">if</span>(prev==<span class="keyword">null</span> || prev!=<span class="keyword">null</span> &amp;&amp; curr[<span class="number">0</span>]!=prev[<span class="number">0</span>])</span><br><span class="line">            k--;</span><br><span class="line">        prev = curr;</span><br><span class="line">        <span class="keyword">int</span> val = curr[<span class="number">0</span>], i = curr[<span class="number">1</span>], j = curr[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i + <span class="number">1</span> &lt; m)</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[i+<span class="number">1</span>][j],i+<span class="number">1</span>,j&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Binary Search:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> low = matrix[<span class="number">0</span>][<span class="number">0</span>], high = matrix[row-<span class="number">1</span>][col-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(low &lt; high)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = low + (high - low)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;  <span class="comment">// count smallest num</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> j = col - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; matrix[i][j] &gt; mid)</span><br><span class="line">                j --;</span><br><span class="line">            count += j + <span class="number">1</span>; <span class="comment">// count &lt;= mid</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(count &lt; k) <span class="comment">// mid too small</span></span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            high = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="380-insert-delete-getrandom-o1-medium"><a href="#380-insert-delete-getrandom-o1-medium" class="headerlink" title="#380-insert-delete-getrandom-o1-medium"></a>#380-insert-delete-getrandom-o1-medium</h4><p>Design a data structure that supports all following operations in <em>average</em> <strong>O(1)</strong> time.</p><ol><li><code>insert(val)</code>: Inserts an item val to the set if not already present.</li><li><code>remove(val)</code>: Removes an item val from the set if present.</li><li><code>getRandom</code>: Returns a random element from current set of elements. Each element must have the <strong>same probability</strong> of being returned.</li></ol><p><strong>Use map save val and idx, use list save val, remove from last (swap)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; list;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(val))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        map.put(val,list.size()); <span class="comment">// save val and idx in list</span></span><br><span class="line">        list.add(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(val))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(map.get(val) != list.size()-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// val not last</span></span><br><span class="line">            <span class="keyword">int</span> idx = map.get(val); <span class="comment">// replace with last val</span></span><br><span class="line">            <span class="keyword">int</span> last = list.get(list.size()-<span class="number">1</span>);</span><br><span class="line">            list.set(idx,last);    </span><br><span class="line">            map.put(last,idx);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 1. val at end, 2. after replace </span></span><br><span class="line">        map.remove(val);</span><br><span class="line">        list.remove(list.size()-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get a random element from the set. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">return</span> list.get(random.nextInt(list.size()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RandomizedSet object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RandomizedSet obj = new RandomizedSet();</span></span><br><span class="line"><span class="comment"> * boolean param_1 = obj.insert(val);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.remove(val);</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.getRandom();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><hr><h4 id="381-insert-delete-getrandom-duplicates-allowed-hard"><a href="#381-insert-delete-getrandom-duplicates-allowed-hard" class="headerlink" title="#381-insert-delete-getrandom-duplicates-allowed-hard"></a>#381-insert-delete-getrandom-duplicates-allowed-hard</h4><p>Design a data structure that supports all following operations in <em>average</em> <strong>O(1)</strong> time.</p><p>Note: Duplicate elements are allowed.</p><ol><li><code>insert(val)</code>: Inserts an item val to the collection.</li><li><code>remove(val)</code>: Removes an item val from the collection if present.</li><li><code>getRandom</code>: Returns a random element from current collection of elements. The probability of each element being returned is <strong>linearly related</strong> to the number of same value the collection contains.</li></ol><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// Init an empty collection.</span><br><span class="line">RandomizedCollection collection = new RandomizedCollection();</span><br><span class="line"></span><br><span class="line">// Inserts 1 to the collection. Returns true as the collection did not contain 1.</span><br><span class="line">collection.insert(1);</span><br><span class="line"></span><br><span class="line">// Inserts another 1 to the collection. Returns false as the collection contained 1. Collection now contains [1,1].</span><br><span class="line">collection.insert(1);</span><br><span class="line"></span><br><span class="line">// Inserts 2 to the collection, returns true. Collection now contains [1,1,2].</span><br><span class="line">collection.insert(2);</span><br><span class="line"></span><br><span class="line">// getRandom should return 1 with the probability 2/3, and returns 2 with the probability 1/3.</span><br><span class="line">collection.getRandom();</span><br><span class="line"></span><br><span class="line">// Removes 1 from the collection, returns true. Collection now contains [1,2].</span><br><span class="line">collection.remove(1);</span><br><span class="line"></span><br><span class="line">// getRandom should return 1 and 2 both equally likely.</span><br><span class="line">collection.getRandom();</span><br></pre></td></tr></table></figure><p><strong>similar, use hash set save idx (iterator to pick)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedCollection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; collection;</span><br><span class="line">    Map&lt;Integer,Set&lt;Integer&gt;&gt; map;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedCollection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        collection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Inserts a value to the collection. Returns true if the collection did not already contain the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// collection.size() is idx for new val</span></span><br><span class="line">        <span class="keyword">boolean</span> contain = map.containsKey(val);</span><br><span class="line">        <span class="keyword">if</span>(!contain)    <span class="comment">// add idx set</span></span><br><span class="line">            map.put(val,<span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">        map.get(val).add(collection.size());</span><br><span class="line">        collection.add(val);</span><br><span class="line">        <span class="keyword">return</span> !contain;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes a value from the collection. Returns true if the collection contained the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(val))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> lastIdx = collection.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> lastNum = collection.get(lastIdx);</span><br><span class="line">        <span class="comment">// if last==val, same object here</span></span><br><span class="line">        Set&lt;Integer&gt; valSet = map.get(val);</span><br><span class="line">        Set&lt;Integer&gt; lastSet = map.get(lastNum);</span><br><span class="line">        <span class="comment">// if last==val, val will remove here</span></span><br><span class="line">        <span class="comment">// if last!=val, last will remove anyway</span></span><br><span class="line">        lastSet.remove(lastIdx);</span><br><span class="line">        collection.remove(lastIdx);</span><br><span class="line">        <span class="keyword">if</span>(lastNum != val)&#123;</span><br><span class="line">            <span class="keyword">int</span> repIdx = valSet.iterator().next();<span class="comment">//to be replace</span></span><br><span class="line">            lastSet.add(repIdx); <span class="comment">// add replace idx, will not be empty</span></span><br><span class="line">            collection.set(repIdx,lastNum);</span><br><span class="line">            valSet.remove(repIdx); <span class="comment">// remove replaced, check empty outside</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// whether last or not, check empty</span></span><br><span class="line">        <span class="keyword">if</span>(valSet.isEmpty())</span><br><span class="line">            map.remove(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get a random element from the collection. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = random.nextInt(collection.size());</span><br><span class="line">        <span class="keyword">return</span> collection.get(idx);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RandomizedCollection object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RandomizedCollection obj = new RandomizedCollection();</span></span><br><span class="line"><span class="comment"> * boolean param_1 = obj.insert(val);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.remove(val);</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.getRandom();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><hr><h4 id="384-shuffle-an-array-medium"><a href="#384-shuffle-an-array-medium" class="headerlink" title="#384-shuffle-an-array-medium"></a>#384-shuffle-an-array-medium</h4><p>Shuffle a set of numbers without duplicates.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// Init an array with set 1, 2, and 3.</span><br><span class="line">int[] nums = &#123;1,2,3&#125;;</span><br><span class="line">Solution solution = new Solution(nums);</span><br><span class="line"></span><br><span class="line">// Shuffle the array [1,2,3] and return its result. Any permutation of [1,2,3] must equally likely to be returned.</span><br><span class="line">solution.shuffle();</span><br><span class="line"></span><br><span class="line">// Resets the array back to its original configuration [1,2,3].</span><br><span class="line">solution.reset();</span><br><span class="line"></span><br><span class="line">// Returns the random shuffling of array [1,2,3].</span><br><span class="line">solution.shuffle();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] shuffleNums;</span><br><span class="line">    <span class="keyword">int</span>[] nums;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">        <span class="keyword">this</span>.shuffleNums = nums.clone();</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Resets the array to its original configuration and return it. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] reset() &#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns a random shuffling of the array. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] shuffle() &#123;</span><br><span class="line">        <span class="comment">// for each num P(change to i) = 1/n</span></span><br><span class="line">        <span class="comment">// i not replaced: P = n-1/n * n-2/n-1 * ... * i/i+1 * (1/i)</span></span><br><span class="line">        <span class="comment">// for j relocate to i</span></span><br><span class="line">        <span class="comment">// if j &gt; i P = n-1/n * n-2/n-1 * ... * j/j+1 * (1/j)</span></span><br><span class="line">        <span class="comment">// if j &lt; i P = n-1/n * n-2/n-1 * ... * i/i+1 * (1/i)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=nums.length-<span class="number">1</span>; i&gt;<span class="number">0</span>; --i)&#123;</span><br><span class="line">            <span class="keyword">int</span> j = random.nextInt(i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> temp = shuffleNums[i];</span><br><span class="line">            shuffleNums[i] = shuffleNums[j];</span><br><span class="line">            shuffleNums[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> shuffleNums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="388-longest-absolute-file-path-medium"><a href="#388-longest-absolute-file-path-medium" class="headerlink" title="#388-longest-absolute-file-path-medium"></a>#388-longest-absolute-file-path-medium</h4><p>Suppose we abstract our file system by a string in the following manner:</p><p>The string <code>&quot;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&quot;</code> represents:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br><span class="line">    subdir1</span><br><span class="line">    subdir2</span><br><span class="line">        file.ext</span><br></pre></td></tr></table></figure><p>The directory <code>dir</code> contains an empty sub-directory <code>subdir1</code> and a sub-directory <code>subdir2</code> containing a file <code>file.ext</code>.</p><p>The string <code>&quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot;</code> represents:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br><span class="line">    subdir1</span><br><span class="line">        file1.ext</span><br><span class="line">        subsubdir1</span><br><span class="line">    subdir2</span><br><span class="line">        subsubdir2</span><br><span class="line">            file2.ext</span><br></pre></td></tr></table></figure><p>The directory <code>dir</code> contains two sub-directories <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and an empty second-level sub-directory <code>subsubdir1</code>. <code>subdir2</code> contains a second-level sub-directory <code>subsubdir2</code> containing a file <code>file2.ext</code>.</p><p>We are interested in finding the longest (number of characters) absolute path to a file within our file system. For example, in the second example above, the longest absolute path is <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>, and its length is <code>32</code> (not including the double quotes).</p><p>Given a string representing the file system in the above format, return the length of the longest absolute path to file in the abstracted file system. If there is no file in the system, return <code>0</code>.</p><p><strong>Note:</strong></p><ul><li>The name of a file contains at least a <code>.</code> and an extension.</li><li>The name of a directory or sub-directory will not contain a <code>.</code>.</li></ul><p>Time complexity required: <code>O(n)</code> where <code>n</code> is the size of the input string.</p><p>Notice that <code>a/aa/aaa/file1.txt</code> is not the longest file path, if there is another path <code>aaaaaaaaaaaaaaaaaaaaa/sth.png</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthLongestPath</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use stack, </span></span><br><span class="line">    <span class="comment">// for a level, stack saves only higher level len</span></span><br><span class="line">    <span class="comment">// if same level exit then pop</span></span><br><span class="line">    <span class="keyword">if</span>(input == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="number">0</span>);  <span class="comment">// dummy bottom</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// every \n =&gt; a folder or a file</span></span><br><span class="line">    <span class="keyword">for</span>(String s : input.split(<span class="string">"\n"</span>))&#123;</span><br><span class="line">        <span class="comment">// define the level</span></span><br><span class="line">        <span class="comment">// first level -1+1=0, \t=&gt;1, \t\t=&gt;2</span></span><br><span class="line">        <span class="keyword">int</span> level = s.lastIndexOf(<span class="string">"\t"</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// check whether stack has only higher level</span></span><br><span class="line">        <span class="comment">// l0=&gt;size 1,l1=&gt;size 2,l2=&gt;size 3</span></span><br><span class="line">        <span class="keyword">while</span>(stack.size() &gt; level+<span class="number">1</span>) <span class="comment">// find parent</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        <span class="comment">// push curr level len to stack, remove \t, add /</span></span><br><span class="line">        <span class="keyword">int</span> len = stack.peek() + s.length() - level + <span class="number">1</span>;</span><br><span class="line">        stack.push(len);</span><br><span class="line">        <span class="comment">// if it's a file, compute maxlen</span></span><br><span class="line">        <span class="keyword">if</span>(s.contains(<span class="string">"."</span>))</span><br><span class="line">            maxLen = Math.max(maxLen,len - <span class="number">1</span>);  <span class="comment">// remove /</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="394-decode-string-medium"><a href="#394-decode-string-medium" class="headerlink" title="#394-decode-string-medium"></a>#394-decode-string-medium</h4><p>Given an encoded string, return it’s decoded string.</p><p>The encoding rule is: <code>k[encoded_string]</code>, where the <em>encoded_string</em> inside the square brackets is being repeated exactly <em>k</em> times. Note that <em>k</em> is guaranteed to be a positive integer.</p><p>You may assume that the input string is always valid; No extra white spaces, square brackets are well-formed, etc.</p><p>Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, <em>k</em>. For example, there won’t be input like <code>3a</code> or <code>2[4]</code>.</p><p><strong>Examples:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = &quot;3[a]2[bc]&quot;, return &quot;aaabcbc&quot;.</span><br><span class="line">s = &quot;3[a2[c]]&quot;, return &quot;accaccacc&quot;.</span><br><span class="line">s = &quot;2[abc]3[cd]ef&quot;, return &quot;abcabccdcdcdef&quot;.</span><br></pre></td></tr></table></figure><p><strong>Idea to save &lt;count,StringBuilder&gt; in stack:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    Stack&lt;Pair&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">while</span>(idx &lt; s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(idx)))&#123;</span><br><span class="line">            <span class="keyword">int</span> end = idx + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(end &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(end)))</span><br><span class="line">                end ++;</span><br><span class="line">            <span class="keyword">int</span> count = Integer.parseInt(s.substring(idx,end));</span><br><span class="line">            stack.push(<span class="keyword">new</span> Pair(count));</span><br><span class="line">            idx = end;  <span class="comment">// jump to letter</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(idx) == <span class="string">']'</span>)&#123;</span><br><span class="line">            Pair curr = stack.pop();</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.count; ++i)</span><br><span class="line">                sb.append(curr.sb.toString());</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">                result.append(sb.toString());</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                stack.peek().sb.append(sb.toString());</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(idx)&gt;=<span class="string">'A'</span> &amp;&amp; s.charAt(idx)&lt;=<span class="string">'z'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">                result.append(s.charAt(idx));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                stack.peek().sb.append(s.charAt(idx));</span><br><span class="line">        &#125;</span><br><span class="line">        idx ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toString();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    StringBuilder sb;</span><br><span class="line">    Pair(<span class="keyword">int</span> count)&#123;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">        <span class="keyword">this</span>.sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using 2 stack separately</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    Stack&lt;Integer&gt; countStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;StringBuilder&gt; strStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    strStack.push(<span class="keyword">new</span> StringBuilder()); <span class="comment">// for 0 level instead of another sb</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(idx &lt; s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(idx)))&#123;</span><br><span class="line">            <span class="keyword">int</span> end = idx + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(end &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(end)))</span><br><span class="line">                end ++;</span><br><span class="line">            <span class="keyword">int</span> count = Integer.parseInt(s.substring(idx,end));</span><br><span class="line">            countStack.push(count);</span><br><span class="line">            strStack.push(<span class="keyword">new</span> StringBuilder());</span><br><span class="line">            idx = end;  <span class="comment">// now end should be ']'</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(idx) == <span class="string">']'</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> count = countStack.pop();</span><br><span class="line">            String curr = strStack.pop().toString();</span><br><span class="line">            StringBuilder temp = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; ++i)</span><br><span class="line">                temp.append(curr);</span><br><span class="line">            strStack.peek().append(temp.toString()); </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">// assume should be letters</span></span><br><span class="line">            strStack.peek().append(s.charAt(idx));</span><br><span class="line">        &#125;</span><br><span class="line">        idx ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> strStack.peek().toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="398-random-pick-index-medium"><a href="#398-random-pick-index-medium" class="headerlink" title="#398-random-pick-index-medium"></a>#398-random-pick-index-medium</h4><p>Given an array of integers with possible duplicates, randomly output the index of a given target number. You can assume that the given target number must exist in the array.</p><p><strong>Note:</strong><br>The array size can be very large. Solution that uses too much extra space will not pass the judge.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">int[] nums = new int[] &#123;1,2,3,3,3&#125;;</span><br><span class="line">Solution solution = new Solution(nums);</span><br><span class="line"></span><br><span class="line">// pick(3) should return either index 2, 3, or 4 randomly. Each index should have equal probability of returning.</span><br><span class="line">solution.pick(3);</span><br><span class="line"></span><br><span class="line">// pick(1) should return 0. Since in the array only nums[0] is equal to 1.</span><br><span class="line">solution.pick(1);</span><br></pre></td></tr></table></figure><p><strong>Using index list: Space O(n), Time to pick O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer,List&lt;Integer&gt;&gt; map;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i)&#123;</span><br><span class="line">            List&lt;Integer&gt; list = map.get(nums[i]);</span><br><span class="line">            <span class="keyword">if</span>(list == <span class="keyword">null</span>)&#123;</span><br><span class="line">                list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                map.put(nums[i],list);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(target))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        List&lt;Integer&gt; list = map.get(target);</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> idx = random.nextInt(list.size());</span><br><span class="line">        <span class="keyword">return</span> list.get(idx);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Reservoir Sampling: no extra space, Time to pick O(n):</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] nums;</span><br><span class="line">    Random random;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;    </span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = -<span class="number">1</span>, count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] != target)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// x target, each 1/x probability</span></span><br><span class="line">            <span class="keyword">if</span>(random.nextInt(++count) == <span class="number">0</span>)</span><br><span class="line">                idx = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;201 ~ 300&lt;/th&gt;
&lt;th&gt;301 ~ 400&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;#201-bitwise-and-of-numbers-range-medium
      
    
    </summary>
    
      <category term="leetcode" scheme="https://jliao011.github.io/categories/leetcode/"/>
    
    
  </entry>
  
  <entry>
    <title>LeetCode Solutions 1 - 200</title>
    <link href="https://jliao011.github.io/2018/05/27/leetcode-1-200/"/>
    <id>https://jliao011.github.io/2018/05/27/leetcode-1-200/</id>
    <published>2018-05-27T07:31:15.000Z</published>
    <updated>2018-07-31T07:22:24.000Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th style="text-align:left">1 ~ 100</th><th style="text-align:left">101 ~ 200</th></tr></thead><tbody><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#101-symmetric-tree-easy">#101-symmetric-tree-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#102-level-order-traversal-medium">#102-level-order-traversal-medium</a></td></tr><tr><td style="text-align:left"><a href="#3-longest-substring-without-repeating-characters-medium">#3-longest-substring-without-repeating-characters-medium</a></td><td style="text-align:left"><a href="#103-zigzag-level-order-traversal-medium">#103-zigzag-level-order-traversal-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#105-construct-tree-preorder-inorder-medium">#105-construct-tree-preorder-inorder-medium</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#106-construct-tree-inorder-postorder-medium">#106-construct-tree-inorder-postorder-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#109-sorted-list-to-bst-medium">#109-sorted-list-to-bst-medium</a></strong></td></tr><tr><td style="text-align:left"><a href="#10-regular-expression-match-hard">#10-regular-expression-match-hard</a></td><td style="text-align:left"><a href="#110-balanced-binary-tree-easy">#110-balanced-binary-tree-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#111-min-depth-of-binary-tree-easy">#111-min-depth-of-binary-tree-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#112-path-sum-easy">#112-path-sum-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#113-path-sum-ii-medium">#113-path-sum-ii-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#114-flatten-binary-tree-to-linked-list-medium">#114-flatten-binary-tree-to-linked-list-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#115-distinct-subsequences-hard">#115-distinct-subsequences-hard</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#116-populating-next-right-pointer-medium">#116-populating-next-right-pointer-medium</a></strong></td></tr><tr><td style="text-align:left"><a href="#17-letter-combinations-of-a-phone-number-medium">#17-letter-combinations-of-a-phone-number-medium</a></td><td style="text-align:left"><strong><a href="#117-populating-next-right-pointer-ii-medium">#117-populating-next-right-pointer-ii-medium</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#118-pascals-triangle-easy">#118-pascals-triangle-easy</a></td></tr><tr><td style="text-align:left"><a href="#29-divide-two-integers-medium">#29-divide-two-integers-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#120-triangle-medium">#120-triangle-medium</a></td></tr><tr><td style="text-align:left"><strong><a href="#21-merge-two-sorted-list-medium">#21-merge-two-sorted-list-medium</a></strong></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#22-generate-parentheses-medium">#22-generate-parentheses-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#25-reverse-nodes-in-k-group-hard">#25-reverse-nodes-in-k-group-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#126-word-ladder-ii-hard">#126-word-ladder-ii-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#127-word-ladder-medium">#127-word-ladder-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#128-longest-consecutive-sequence-hard">#128-longest-consecutive-sequence-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#130-surrounded-regions">#130-surrounded-regions</a></td></tr><tr><td style="text-align:left"><a href="#31-next-permutation-medium">#31-next-permutation-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#32-longest-valid-parentheses-hard">#32-longest-valid-parentheses-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#33-search-in-rotated-sorted-array-medium">#33-search-in-rotated-sorted-array-medium</a></td><td style="text-align:left"><a href="#133-clone-graph-medium">#133-clone-graph-medium</a></td></tr><tr><td style="text-align:left"><a href="#34-find-first-and-last-position-in-sorted-array-medium">#34-find-first-and-last-position-in-sorted-array-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#136-single-number-easy">#136-single-number-easy</a></td></tr><tr><td style="text-align:left"><a href="#38-count-and-say-easy">#38-count-and-say-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#41-first-missing-positive-hard">#41-first-missing-positive-hard</a></td><td style="text-align:left"><a href="#141-linked-list-cycle-easy">#141-linked-list-cycle-easy</a></td></tr><tr><td style="text-align:left"><a href="#42-trapping-rain-water-hard">#42-trapping-rain-water-hard</a></td><td style="text-align:left"><a href="#142-linked-list-cycle-ii-medium">#142-linked-list-cycle-ii-medium</a></td></tr><tr><td style="text-align:left"><a href="#43-multiply-strings-medium">#43-multiply-strings-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#146-lru-cache-hard">#146-lru-cache-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#149-max-points-on-a-line-hard">#149-max-points-on-a-line-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#151-reverse-words-in-a-string-medium">#151-reverse-words-in-a-string-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#155-min-stack-medium">#155-min-stack-medium</a></td></tr><tr><td style="text-align:left"><a href="#56-merge-intervals-medium">#56-merge-intervals-medium</a></td><td style="text-align:left"><a href="#156-binary-tree-upside-down-medium">#156-binary-tree-upside-down-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#159-longest-substring-with-at-most-2-distince-characters-hard">#159-longest-substring-with-at-most-2-distince-characters-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#160-intersection-of-two-linked-list-easy">#160-intersection-of-two-linked-list-easy</a></td></tr><tr><td style="text-align:left"><a href="#61-rotate-list-medium">#61-rotate-list-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#62-unique-paths-medium">#62-unique-paths-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#63-unique-paths-ii-medium">#63-unique-paths-ii-medium</a></td><td style="text-align:left"><a href="#163-missing-ranges-medium">#163-missing-ranges-medium</a></td></tr><tr><td style="text-align:left"><a href="#64-minimum-path-sum-medium">#64-minimum-path-sum-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#165-compare-version-numbers-medium">#165-compare-version-numbers-medium</a></td></tr><tr><td style="text-align:left"><a href="#66-plus-one-easy">#66-plus-one-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#67-add-binary-easy">#67-add-binary-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#169-majority-element-easy">#169-majority-element-easy</a></td></tr><tr><td style="text-align:left"><strong><a href="#70-climbing-stairs-easy">#70-climbing-stairs-easy</a></strong></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#71-simplify-path-medium">#71-simplify-path-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#72-edit-distance-hard">#72-edit-distance-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#73-set-matrix-zeros-medium">#73-set-matrix-zeros-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#74-search-a-2d-matrix-medium">#74-search-a-2d-matrix-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#75-sort-colors-medium">#75-sort-colors-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#76-minimun-window-substring-hard">#76-minimun-window-substring-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#77-combinations-medium">#77-combinations-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#78-subsets-medium">#78-subsets-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#79-word-search-medium">#79-word-search-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#80-remove-duplicates-from-sorted-array-ii-medium">#80-remove-duplicates-from-sorted-array-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#81-search-in-rotated-sorted-array-ii-medium"><strong>#81-search-in-rotated-sorted-array-ii-medium</strong></a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#82-remove-duplicates-from-sorted-list-ii-medium">#82-remove-duplicates-from-sorted-list-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#83-remove-duplicates-from-sorted-list-easy">#83-remove-duplicates-from-sorted-list-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#84-largest-rectangle-in-histogram-hard">#84-largest-rectangle-in-histogram-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#86-partition-list-medium">#86-partition-list-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#87-scramble-string-hard">#87-scramble-string-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#88-merge-sorted-array-easy">#88-merge-sorted-array-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#89-gray-code-medium">#89-gray-code-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#90-subsets-ii-medium">#90-subsets-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#92-reverse-linked-list-ii-medium">#92-reverse-linked-list-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#93-restore-ip-addresses-medium">#93-restore-ip-addresses-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#94-binary-tree-inorder-traversal-medium">#94-binary-tree-inorder-traversal-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#95-unique-bst-ii-medium">#95-unique-bst-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#96-unique-bst-medium">#96-unique-bst-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#97-interleaving-string-hard">#97-interleaving-string-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#98-validate-binary-search-tree-medium">#98-validate-binary-search-tree-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#100-same-tree-easy">#100-same-tree-easy</a></td></tr></tbody></table><h4 id="3-longest-substring-without-repeating-characters-medium"><a href="#3-longest-substring-without-repeating-characters-medium" class="headerlink" title="#3-longest-substring-without-repeating-characters-medium"></a>#3-longest-substring-without-repeating-characters-medium</h4><p>Given a string, find the length of the <strong>longest substring</strong> without repeating characters.</p><p><strong>Examples:</strong></p><p>Given <code>&quot;abcabcbb&quot;</code>, the answer is <code>&quot;abc&quot;</code>, which the length is 3.</p><p>Given <code>&quot;bbbbb&quot;</code>, the answer is <code>&quot;b&quot;</code>, with the length of 1.</p><p>Given <code>&quot;pwwkew&quot;</code>, the answer is <code>&quot;wke&quot;</code>, with the length of 3. Note that the answer must be a <strong>substring</strong>, <code>&quot;pwke&quot;</code> is a <em>subsequence</em> and not a substring.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringDistinct</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();<span class="comment">// save character, index</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>; tail &lt; s.length(); tail++) &#123;</span><br><span class="line"><span class="comment">// if duplicated, move head</span></span><br><span class="line"><span class="keyword">if</span> (map.containsKey(s.charAt(tail)))</span><br><span class="line"><span class="comment">// head cannot move back e.g. abbbbbba</span></span><br><span class="line">head = Math.max(head, map.get(s.charAt(tail)) + <span class="number">1</span>);</span><br><span class="line">map.put(s.charAt(tail), tail);</span><br><span class="line">maxLen = Math.max(maxLen, tail - head + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringDistinctOPT</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];<span class="comment">// case only alphabet, save index</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>; tail &lt; s.length(); tail++) &#123;</span><br><span class="line">head = Math.max(head, bin[s.charAt(tail) - <span class="string">'a'</span>]);<span class="comment">// maybe 0</span></span><br><span class="line">bin[s.charAt(tail) - <span class="string">'a'</span>] = tail + <span class="number">1</span>; <span class="comment">// save same's next</span></span><br><span class="line">maxLen = Math.max(maxLen, tail - head + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="5-longest-palindromic-substring-medium"><a href="#5-longest-palindromic-substring-medium" class="headerlink" title="#5-longest-palindromic-substring-medium"></a>#5-longest-palindromic-substring-medium</h4><p>Given a string <strong>s</strong>, find the longest palindromic substring in <strong>s</strong>. You may assume that the maximum length of <strong>s</strong> is 1000.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;babad&quot;</span><br><span class="line">Output: &quot;bab&quot;</span><br><span class="line">Note: &quot;aba&quot; is also a valid answer.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;cbbd&quot;</span><br><span class="line">Output: &quot;bb&quot;</span><br></pre></td></tr></table></figure><p><strong>brute force expending:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">int</span>[] idx = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>]; <span class="comment">// save head,tail for longest</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        extend(s,i,i,idx);</span><br><span class="line">        extend(s,i,i+<span class="number">1</span>,idx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(idx[<span class="number">0</span>],idx[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">extend</span><span class="params">(String s,<span class="keyword">int</span> left,<span class="keyword">int</span> right,<span class="keyword">int</span>[] idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(left&gt;=<span class="number">0</span> &amp;&amp; right&lt;s.length() &amp;&amp; s.charAt(left)==s.charAt(right))&#123;</span><br><span class="line">        <span class="keyword">if</span>(right-left &gt; idx[<span class="number">1</span>]-idx[<span class="number">0</span>])&#123;</span><br><span class="line">            idx[<span class="number">0</span>] = left;</span><br><span class="line">            idx[<span class="number">1</span>] = right;</span><br><span class="line">        &#125; </span><br><span class="line">        left --;</span><br><span class="line">        right ++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="10-regular-expression-match-hard"><a href="#10-regular-expression-match-hard" class="headerlink" title="#10-regular-expression-match-hard"></a>#10-regular-expression-match-hard</h4><p>Given an input string (<code>s</code>) and a pattern (<code>p</code>), implement regular expression matching with support for <code>&#39;.&#39;</code> and <code>&#39;*&#39;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;.&apos; Matches any single character.</span><br><span class="line">&apos;*&apos; Matches zero or more of the preceding element.</span><br></pre></td></tr></table></figure><p>The matching should cover the <strong>entire</strong> input string (not partial).</p><p><strong>Note:</strong></p><ul><li><code>s</code> could be empty and contains only lowercase letters <code>a-z</code>.</li><li><code>p</code> could be empty and contains only lowercase letters <code>a-z</code>, and characters like <code>.</code> or <code>*</code>.</li></ul><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">s = &quot;aa&quot;</span><br><span class="line">p = &quot;a&quot;</span><br><span class="line">Output: false</span><br><span class="line">Explanation: &quot;a&quot; does not match the entire string &quot;aa&quot;.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (s == <span class="keyword">null</span> || p == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length() + <span class="number">1</span>][p.length() + <span class="number">1</span>];</span><br><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line"><span class="comment">// initial the first line</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= p.length(); j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>)</span><br><span class="line">dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// dp conditions:</span></span><br><span class="line"><span class="comment">// (1) p.char == . || p.char == s.char</span></span><br><span class="line"><span class="comment">// (2) p.char == *:</span></span><br><span class="line"><span class="comment">// 1. treat as 0 : check i, j-2</span></span><br><span class="line"><span class="comment">// 2. if p[j-1] == s.char || .: check i-1,j</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= p.length(); j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'.'</span> || p.charAt(j - <span class="number">1</span>) == s.charAt(i - <span class="number">1</span>))</span><br><span class="line">dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line"><span class="comment">// check * is 0, include prev match or not</span></span><br><span class="line">                  <span class="keyword">if</span>(dp[i][j-<span class="number">2</span>])&#123;</span><br><span class="line">                      dp[i][j] = <span class="keyword">true</span>;</span><br><span class="line">                  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(p.charAt(j - <span class="number">2</span>) == s.charAt(i - <span class="number">1</span>) || p.charAt(j - <span class="number">2</span>) == <span class="string">'.'</span>)&#123;</span><br><span class="line">                      <span class="comment">// * is one or more, prev char must match</span></span><br><span class="line">                      dp[i][j] = dp[i][j-<span class="number">1</span>] || dp[i-<span class="number">1</span>][j];</span><br><span class="line">                      <span class="comment">// * is one, check left (if left true,left's left up is true as well)</span></span><br><span class="line">                      <span class="comment">// * is 0, already checked</span></span><br><span class="line">                      <span class="comment">// * is more, check up</span></span><br><span class="line">                  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dp[s.length()][p.length()];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="17-letter-combinations-of-a-phone-number-medium"><a href="#17-letter-combinations-of-a-phone-number-medium" class="headerlink" title="#17-letter-combinations-of-a-phone-number-medium"></a>#17-letter-combinations-of-a-phone-number-medium</h4><p>Given a string containing digits from <code>2-9</code> inclusive, return all possible letter combinations that the number could represent.</p><p>A mapping of digit to letters (just like on the telephone buttons) is given below. Note that 1 does not map to any letters.</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Telephone-keypad2.svg/200px-Telephone-keypad2.svg.png" alt="img"></p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;23&quot;</span><br><span class="line">Output: [&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;].</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">letterCombinations</span><span class="params">(String digits)</span> </span>&#123;</span><br><span class="line">    String[] lookup = &#123;<span class="string">""</span>,<span class="string">""</span>,<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"jkl"</span>,<span class="string">"mno"</span>,<span class="string">"pqrs"</span>,<span class="string">"tuv"</span>,<span class="string">"wxyz"</span>&#125;;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(digits == <span class="keyword">null</span> || digits.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    backtrack(result,digits,<span class="number">0</span>,<span class="keyword">new</span> StringBuilder(),lookup);</span><br><span class="line">    <span class="keyword">return</span>  result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; result,String digits,<span class="keyword">int</span> idx,StringBuilder path,String[] lookup)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == digits.length())&#123;</span><br><span class="line">        result.add(path.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> curr = digits.charAt(idx) - <span class="string">'0'</span>, size = path.length();</span><br><span class="line">    String letters = lookup[curr];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;letters.length(); ++i)&#123;</span><br><span class="line">        path.append(letters.charAt(i));</span><br><span class="line">        backtrack(result,digits,idx+<span class="number">1</span>,path,lookup);</span><br><span class="line">        path.setLength(size);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="21-merge-two-sorted-list-medium"><a href="#21-merge-two-sorted-list-medium" class="headerlink" title="#21-merge-two-sorted-list-medium"></a>#21-merge-two-sorted-list-medium</h4><p>Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together the nodes of the first two lists.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4</span><br><span class="line">Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l1 == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    <span class="keyword">if</span>(l2 == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    <span class="keyword">if</span>(l1.val &lt; l2.val)&#123;</span><br><span class="line">        l1.next = mergeTwoLists(l1.next,l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        l2.next = mergeTwoLists(l1,l2.next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev = dummy;</span><br><span class="line">    <span class="keyword">while</span>(l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(l1.val &lt; l2.val)&#123;</span><br><span class="line">            prev.next = l1;</span><br><span class="line">            l1 = l1.next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            prev.next = l2;</span><br><span class="line">            l2 = l2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = prev.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(l1 == <span class="keyword">null</span>)</span><br><span class="line">        prev.next = l2;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        prev.next = l1;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="22-generate-parentheses-medium"><a href="#22-generate-parentheses-medium" class="headerlink" title="#22-generate-parentheses-medium"></a>#22-generate-parentheses-medium</h4><p>Given <em>n</em> pairs of parentheses, write a function to generate all combinations of well-formed parentheses.</p><p>For example, given <em>n</em> = 3, a solution set is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &quot;((()))&quot;,</span><br><span class="line">  &quot;(()())&quot;,</span><br><span class="line">  &quot;(())()&quot;,</span><br><span class="line">  &quot;()(())&quot;,</span><br><span class="line">  &quot;()()()&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// utilizing backtracking</span></span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,<span class="keyword">new</span> StringBuilder(),<span class="number">0</span>,<span class="number">0</span>,n);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; result,StringBuilder temp,<span class="keyword">int</span> left,<span class="keyword">int</span> right,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp.length() == n * <span class="number">2</span>)&#123;</span><br><span class="line">        result.add(temp.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> len = temp.length();</span><br><span class="line">    <span class="comment">// append (</span></span><br><span class="line">    <span class="keyword">if</span>(left &lt; n)&#123;</span><br><span class="line">        temp.append(<span class="string">'('</span>);</span><br><span class="line">        backtrack(result,temp,left+<span class="number">1</span>,right,n);</span><br><span class="line">        temp.setLength(len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// append )</span></span><br><span class="line">    <span class="keyword">if</span>(right &lt; left)&#123;</span><br><span class="line">        temp.append(<span class="string">')'</span>);</span><br><span class="line">        backtrack(result,temp,left,right+<span class="number">1</span>,n);</span><br><span class="line">        temp.setLength(len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="25-reverse-nodes-in-k-group-hard"><a href="#25-reverse-nodes-in-k-group-hard" class="headerlink" title="#25-reverse-nodes-in-k-group-hard"></a>#25-reverse-nodes-in-k-group-hard</h4><p>Given a linked list, reverse the nodes of a linked list <em>k</em> at a time and return its modified list.</p><p><em>k</em> is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of <em>k</em> then left-out nodes in the end should remain as it is.</p><p><strong>Example:</strong></p><p>Given this linked list: <code>1-&gt;2-&gt;3-&gt;4-&gt;5</code></p><p>For <em>k</em> = 2, you should return: <code>2-&gt;1-&gt;4-&gt;3-&gt;5</code></p><p>For <em>k</em> = 3, you should return: <code>3-&gt;2-&gt;1-&gt;4-&gt;5</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// constant memory, cannot use recursion (dummy)</span></span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span> || k==<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev = dummy, tail = dummy, next = <span class="keyword">null</span>, curr = <span class="keyword">null</span>;</span><br><span class="line">    prev.next = head;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="comment">// find group first, k th node</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(count&lt;k &amp;&amp; tail!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// less than k break</span></span><br><span class="line">        <span class="keyword">if</span>(tail == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// reverse prev to curr</span></span><br><span class="line">        <span class="comment">// D -&gt; 1 -&gt; 2 -&gt; 3(T) -&gt; N</span></span><br><span class="line">        <span class="comment">// move 1 after 3: D 2 3 1 N</span></span><br><span class="line">        head = prev.next;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            next = prev.next;   <span class="comment">// save 1</span></span><br><span class="line">            prev.next = next.next;  <span class="comment">// assign head</span></span><br><span class="line">            next.next = tail.next;  <span class="comment">// assign tail</span></span><br><span class="line">            tail.next = next;   </span><br><span class="line">        &#125;  </span><br><span class="line">        prev = head;</span><br><span class="line">        tail = head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="29-divide-two-integers-medium"><a href="#29-divide-two-integers-medium" class="headerlink" title="#29-divide-two-integers-medium"></a>#29-divide-two-integers-medium</h4><p>Given two integers <code>dividend</code> and <code>divisor</code>, divide two integers without using multiplication, division and mod operator.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(divisor == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">if</span>(dividend == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(divisor == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dividend;</span><br><span class="line">    <span class="keyword">if</span>(divisor == -<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dividend == Integer.MIN_VALUE? Integer.MAX_VALUE : -dividend;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(dividend &lt; <span class="number">0</span> ^ divisor &lt;<span class="number">0</span>)</span><br><span class="line">        sign = -<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> ldividend = Math.abs((<span class="keyword">long</span>)dividend);  <span class="comment">// notice long inside</span></span><br><span class="line">    <span class="keyword">long</span> ldivisor = Math.abs((<span class="keyword">long</span>)divisor);</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(ldividend &gt;= ldivisor)&#123;</span><br><span class="line">        <span class="keyword">long</span> temp = ldivisor, multi = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(temp &lt;&lt; <span class="number">1</span> &lt; ldividend)&#123;</span><br><span class="line">            temp &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            multi &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ldividend -= temp;</span><br><span class="line">        result += multi;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sign==<span class="number">1</span>? result : -result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="31-next-permutation-medium"><a href="#31-next-permutation-medium" class="headerlink" title="#31-next-permutation-medium"></a>#31-next-permutation-medium</h4><p>Implement <strong>next permutation</strong>, which rearranges numbers into the lexicographically next greater permutation of numbers.</p><p>If such arrangement is not possible, it must rearrange it as the lowest possible order (ie, sorted in ascending order).</p><p>The replacement must be <strong>in-place</strong> and use only constant extra memory.</p><p>Here are some examples. Inputs are in the left-hand column and its corresponding outputs are in the right-hand column.</p><p><code>1,2,3</code> → <code>1,3,2</code><br><code>3,2,1</code> → <code>1,2,3</code><br><code>1,1,5</code> → <code>1,5,1</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> head = nums.length - <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(head &gt;= <span class="number">0</span> &amp;&amp; nums[head] &gt;= nums[head+<span class="number">1</span>])</span><br><span class="line">        head --;</span><br><span class="line">    <span class="keyword">if</span>(head &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> tail = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(nums[tail] &lt;= nums[head])</span><br><span class="line">            tail --;</span><br><span class="line">        swap(nums,head,tail);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if head == -1, just reverse</span></span><br><span class="line">    reverse(nums,head+<span class="number">1</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        swap(nums,i,j);</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="32-longest-valid-parentheses-hard"><a href="#32-longest-valid-parentheses-hard" class="headerlink" title="#32-longest-valid-parentheses-hard"></a>#32-longest-valid-parentheses-hard</h4><p>Given a string containing just the characters <code>&#39;(&#39;</code> and <code>&#39;)&#39;</code>, find the length of the longest valid (well-formed) parentheses substring.</p><p>For <code>&quot;(()&quot;</code>, the longest valid parentheses substring is <code>&quot;()&quot;</code>, which has length = 2.</p><p>Another example is <code>&quot;)()())&quot;</code>, where the longest valid parentheses substring is <code>&quot;()()&quot;</code>, which has length = 4.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(-<span class="number">1</span>); <span class="comment">// for first pair if ()</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">       <span class="keyword">if</span>(s.charAt(i) == <span class="string">'('</span>)</span><br><span class="line">           stack.push(i);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())&#123;</span><br><span class="line">                stack.push(i);  <span class="comment">// first not valid</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                maxLen = Math.max(maxLen,i-stack.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="33-search-in-rotated-sorted-array-medium"><a href="#33-search-in-rotated-sorted-array-medium" class="headerlink" title="#33-search-in-rotated-sorted-array-medium"></a>#33-search-in-rotated-sorted-array-medium</h4><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.</p><p>(i.e., <code>[0,1,2,4,5,6,7]</code> might become <code>[4,5,6,7,0,1,2]</code>).</p><p>You are given a target value to search. If found in the array return its index, otherwise return <code>-1</code>.</p><p>You may assume no duplicate exists in the array.</p><p>Your algorithm’s runtime complexity must be in the order of <em>O</em>(log <em>n</em>).</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,5,6,7,0,1,2], target = 0</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,5,6,7,0,1,2], target = 3</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="comment">// left half not rotate</span></span><br><span class="line">        <span class="keyword">if</span>(nums[left] &lt;= nums[mid])&#123;</span><br><span class="line">            <span class="comment">// mid in not rotate part</span></span><br><span class="line">            <span class="keyword">if</span>(nums[left]&lt;=target &amp;&amp; target&lt;nums[mid])</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// mid in rotate part</span></span><br><span class="line">            <span class="keyword">else</span> left = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// right half not rotate</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// mid in not rotate part</span></span><br><span class="line">            <span class="keyword">if</span>(nums[mid]&lt;target &amp;&amp; target&lt;=nums[right])</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// mid in rotate part</span></span><br><span class="line">            <span class="keyword">else</span> right = mid -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="34-find-first-and-last-position-in-sorted-array-medium"><a href="#34-find-first-and-last-position-in-sorted-array-medium" class="headerlink" title="#34-find-first-and-last-position-in-sorted-array-medium"></a>#34-find-first-and-last-position-in-sorted-array-medium</h4><p>Given an array of integers <code>nums</code> sorted in ascending order, find the starting and ending position of a given <code>target</code> value.</p><p>Your algorithm’s runtime complexity must be in the order of <em>O</em>(log <em>n</em>).</p><p>If the target is not found in the array, return <code>[-1, -1]</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [5,7,7,8,8,10], target = 8</span><br><span class="line">Output: [3,4]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [5,7,7,8,8,10], target = 6</span><br><span class="line">Output: [-1,-1]</span><br></pre></td></tr></table></figure> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] result = &#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left + <span class="number">1</span> &lt; right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] &gt;= target)</span><br><span class="line">            right = mid;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            left = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[left] == target)</span><br><span class="line">        result[<span class="number">0</span>] = left;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(nums[right] == target)</span><br><span class="line">        result[<span class="number">0</span>] = right;</span><br><span class="line">    <span class="keyword">if</span>(result[<span class="number">0</span>] == -<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    left = <span class="number">0</span>; right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left + <span class="number">1</span> &lt; right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] &lt;= target)</span><br><span class="line">            left = mid;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            right = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[right] == target)</span><br><span class="line">        result[<span class="number">1</span>] = right;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(nums[left] == target)</span><br><span class="line">        result[<span class="number">1</span>] = left;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="36-Valid-Sudoku-medium"><a href="#36-Valid-Sudoku-medium" class="headerlink" title="36. Valid Sudoku (medium)"></a>36. Valid Sudoku (medium)</h4><p>Determine if a Sudoku is valid, according to: <a href="http://sudoku.com.au/TheRules.aspx" target="_blank" rel="noopener">Sudoku Puzzles - The Rules</a>.</p><p>The Sudoku board could be partially filled, where empty cells are filled with the character <code>&#39;.&#39;</code>.</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png" alt="img"></p><p>A partially filled sudoku which is valid.</p><p><strong>Note:</strong><br>A valid Sudoku board (partially filled) is not necessarily solvable. Only the filled cells need to be validated.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length!=<span class="number">9</span> || board[<span class="number">0</span>].length!=<span class="number">9</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;Character&gt; rowSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;Character&gt; colSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;Character&gt; cubSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="comment">// check row, col, cube</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;<span class="number">9</span>;row++)&#123;</span><br><span class="line">        rowSet.clear();</span><br><span class="line">        colSet.clear();</span><br><span class="line">        cubSet.clear();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;<span class="number">9</span>;col++)&#123;</span><br><span class="line">            <span class="comment">// left to right</span></span><br><span class="line">            <span class="keyword">if</span>(board[row][col]!=<span class="string">'.'</span> &amp;&amp; !rowSet.add(board[row][col]))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="comment">// up to down</span></span><br><span class="line">            <span class="keyword">if</span>(board[col][row]!=<span class="string">'.'</span> &amp;&amp; !colSet.add(board[col][row]))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="comment">// map to a cube</span></span><br><span class="line">            <span class="keyword">int</span> cubeRow = <span class="number">3</span> * (row / <span class="number">3</span>) + col / <span class="number">3</span>; </span><br><span class="line">            <span class="keyword">int</span> cubeCol = <span class="number">3</span> * (row % <span class="number">3</span>) + col % <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">if</span>(board[cubeRow][cubeCol]!=<span class="string">'.'</span> &amp;&amp; !cubSet.add(board[cubeRow][cubeCol]))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="37-Sudoku-Solver-hard"><a href="#37-Sudoku-Solver-hard" class="headerlink" title="37. Sudoku Solver (hard)"></a>37. Sudoku Solver (hard)</h4><p>Write a program to solve a Sudoku puzzle by filling the empty cells.</p><p>Empty cells are indicated by the character <code>&#39;.&#39;</code>.</p><p>You may assume that there will be only one unique solution.</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png" alt="img"></p><p>A sudoku puzzle…</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Sudoku-by-L2G-20050714_solution.svg/250px-Sudoku-by-L2G-20050714_solution.svg.png" alt="img"></p><p>…and its solution numbers marked in red.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length!=<span class="number">9</span> || board[<span class="number">0</span>].length!=<span class="number">9</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    solver(board);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">solver</span><span class="params">(<span class="keyword">char</span>[][] board)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">9</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] != <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'1'</span>;c&lt;=<span class="string">'9'</span>;c++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(isValid(board,i,j,c))&#123;</span><br><span class="line">                    board[i][j] = c;</span><br><span class="line">                    <span class="keyword">if</span>(solver(board))</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board,<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;<span class="number">9</span>;k++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(board[i][k] == c)    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(board[k][j] == c)    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> row = <span class="number">3</span> * (i / <span class="number">3</span>) + k / <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">int</span> col = <span class="number">3</span> * (j / <span class="number">3</span>) + k % <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span>(board[row][col] == c)    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="38-count-and-say-easy"><a href="#38-count-and-say-easy" class="headerlink" title="#38-count-and-say-easy"></a>#38-count-and-say-easy</h4><p>The count-and-say sequence is the sequence of integers with the first five terms as following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.     1</span><br><span class="line">2.     11</span><br><span class="line">3.     21</span><br><span class="line">4.     1211</span><br><span class="line">5.     111221</span><br></pre></td></tr></table></figure><p><code>1</code> is read off as <code>&quot;one 1&quot;</code> or <code>11</code>.<br><code>11</code> is read off as <code>&quot;two 1s&quot;</code> or <code>21</code>.<br><code>21</code> is read off as <code>&quot;one 2</code>, then <code>one 1&quot;</code> or <code>1211</code>.</p><p>Given an integer <em>n</em>, generate the <em>n</em>th term of the count-and-say sequence.</p><p>Note: Each term of the sequence of integers will be represented as a string.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 4</span><br><span class="line">Output: &quot;1211&quot;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">countAndSay</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"1"</span>;</span><br><span class="line">    String result = <span class="string">"1"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(idx &lt; result.length())&#123;</span><br><span class="line">            <span class="keyword">char</span> curr = result.charAt(idx);</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(idx&lt;result.length()-<span class="number">1</span> &amp;&amp; result.charAt(idx)==result.charAt(idx+<span class="number">1</span>))&#123;</span><br><span class="line">                idx ++;</span><br><span class="line">                count ++;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(count).append(curr);</span><br><span class="line">            idx ++;</span><br><span class="line">        &#125;</span><br><span class="line">        result = sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="39-Combination-Sum-medium"><a href="#39-Combination-Sum-medium" class="headerlink" title="39. Combination Sum (medium)"></a>39. Combination Sum (medium)</h4><p>Given a <strong>set</strong> of candidate numbers (<strong>C</strong>) <strong>(without duplicates)</strong> and a target number (<strong>T</strong>), find all unique combinations in <strong>C</strong> where the candidate numbers sums to <strong>T</strong>. </p><p>The <strong>same</strong> repeated number may be chosen from <strong>C</strong> <strong>unlimited number of times</strong>.</p><p><strong>Note:</strong></p><ul><li>All numbers (including target) will be positive integers.</li><li>The solution set must not contain duplicate combinations.</li></ul><p>For example, given candidate set <code>[2, 3, 6, 7]</code> and target <code>7</code>,<br>A solution set is: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [7],</span><br><span class="line">  [2, 2, 3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="comment">// use backtracking</span></span><br><span class="line">List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,candidates,<span class="keyword">new</span> ArrayList&lt;&gt;(),target,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] candidates,List&lt;Integer&gt; temp,<span class="keyword">int</span> target,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(target == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// should build a new list</span></span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;candidates.length;i++)&#123;</span><br><span class="line">        temp.add(candidates[i]);</span><br><span class="line">        <span class="comment">// item repeatly used, should call i</span></span><br><span class="line">        backtrack(result,candidates,temp,target-candidates[i],i);</span><br><span class="line">        <span class="comment">// remove after recursion</span></span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="40-Combination-Sum-II-medium"><a href="#40-Combination-Sum-II-medium" class="headerlink" title="40. Combination Sum II (medium)"></a>40. Combination Sum II (medium)</h4><p>Given a collection of candidate numbers (<strong>C</strong>) and a target number (<strong>T</strong>), find all unique combinations in <strong>C</strong> where the candidate numbers sums to <strong>T</strong>.</p><p>Each number in <strong>C</strong> may only be used <strong>once</strong> in the combination.</p><p><strong>Note:</strong></p><ul><li>All numbers (including target) will be positive integers.</li><li>The solution set must not contain duplicate combinations.</li></ul><p>For example, given candidate set <code>[10, 1, 2, 7, 6, 1, 5]</code> and target <code>8</code>,<br>A solution set is: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1, 7],</span><br><span class="line">  [1, 2, 5],</span><br><span class="line">  [2, 6],</span><br><span class="line">  [1, 1, 6]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum2(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="comment">// backtracking, duplicate element, use once</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Arrays.sort(candidates);    <span class="comment">// to skip duplicate</span></span><br><span class="line">    backtrack(result,candidates,<span class="keyword">new</span> ArrayList&lt;&gt;(),target,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] candidates,List&lt;Integer&gt; temp,<span class="keyword">int</span> target,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(target == <span class="number">0</span>)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;candidates.length;i++)&#123;</span><br><span class="line">        <span class="comment">// here i &gt; idx not 0. to avoid duplicate</span></span><br><span class="line">        <span class="comment">// since same adjacent same element, so need sorting</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;idx &amp;&amp; candidates[i]==candidates[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        temp.add(candidates[i]);</span><br><span class="line">        backtrack(result,candidates,temp,target-candidates[i],i+<span class="number">1</span>);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="41-first-missing-positive-hard"><a href="#41-first-missing-positive-hard" class="headerlink" title="#41-first-missing-positive-hard"></a>#41-first-missing-positive-hard</h4><p>Given an unsorted integer array, find the first missing positive integer.</p><p>For example,<br>Given <code>[1,2,0]</code> return <code>3</code>,<br>and <code>[3,4,-1,1]</code> return <code>2</code>.</p><p>Your algorithm should run in <em>O</em>(<em>n</em>) time and uses constant space.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// swap pos num to corresponding index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="comment">// use nums[i]-1 as index, cannot have cycle</span></span><br><span class="line">        <span class="keyword">while</span>(nums[i]&gt;<span class="number">0</span> &amp;&amp; nums[i]&lt;=nums.length &amp;&amp; nums[i]!=nums[nums[i]-<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = nums[nums[i]-<span class="number">1</span>];</span><br><span class="line">            nums[nums[i]-<span class="number">1</span>] = nums[i];</span><br><span class="line">            nums[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// traverse find nums[i]-1 != i</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != i + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// beyond the bound</span></span><br><span class="line">    <span class="keyword">return</span> nums.length + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="42-trapping-rain-water-hard"><a href="#42-trapping-rain-water-hard" class="headerlink" title="#42-trapping-rain-water-hard"></a>#42-trapping-rain-water-hard</h4><p>Given <em>n</em> non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.</p><p>For example,<br>Given <code>[0,1,0,2,1,0,1,3,2,1,2,1]</code>, return <code>6</code>.</p><p><img src="http://www.leetcode.com/static/images/problemset/rainwatertrap.png" alt="img"></p><p>The above elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.</p><p><strong>DP approach O(n) &amp; O(n)</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use dp 3 pass</span></span><br><span class="line">    <span class="keyword">if</span>(height.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// first pass find left max</span></span><br><span class="line">    <span class="keyword">int</span>[] left = <span class="keyword">new</span> <span class="keyword">int</span>[height.length];</span><br><span class="line">    <span class="keyword">int</span> leftMax = height[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)&#123;</span><br><span class="line">        leftMax = Math.max(leftMax,height[i]);</span><br><span class="line">        left[i] = leftMax;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// second pass find right max</span></span><br><span class="line">    <span class="keyword">int</span>[] right = <span class="keyword">new</span> <span class="keyword">int</span>[height.length];</span><br><span class="line">    <span class="keyword">int</span> rightMax = height[height.length-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=height.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        rightMax = Math.max(rightMax,height[i]);</span><br><span class="line">        right[i] = rightMax;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// third pass find water each idx</span></span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)</span><br><span class="line">        result += Math.min(left[i],right[i]) - height[i];</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Stack  approach O(n) &amp; O(n)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// stack approaching</span></span><br><span class="line">    <span class="keyword">if</span>(height.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// use stack to save index</span></span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)&#123;</span><br><span class="line">        <span class="comment">// if larger than prev</span></span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; height[i]&gt;height[stack.peek()])&#123;</span><br><span class="line">            <span class="keyword">int</span> currIdx = stack.pop();</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// compare prev height and i height</span></span><br><span class="line">            <span class="keyword">int</span> h = Math.min(height[stack.peek()],height[i]) - height[currIdx];</span><br><span class="line">            <span class="keyword">int</span> w = i - stack.peek() - <span class="number">1</span>;</span><br><span class="line">            result += h * w;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Two pointer approach O(n) &amp; O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// two pointer</span></span><br><span class="line">    <span class="keyword">if</span>(height.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// left &amp; right max,</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = height.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> leftMax = height[left], rightMax = height[right];</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// stop when left&gt;right, should be &lt;= </span></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="comment">// case left ++</span></span><br><span class="line">        <span class="keyword">if</span>(leftMax &lt; rightMax)&#123;</span><br><span class="line">            <span class="keyword">if</span>(height[left] &lt; leftMax)</span><br><span class="line">                result += leftMax - height[left];</span><br><span class="line">            leftMax = Math.max(leftMax,height[left]);</span><br><span class="line">            left ++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">// case right --</span></span><br><span class="line">            <span class="keyword">if</span>(height[right] &lt; rightMax)</span><br><span class="line">                result += rightMax - height[right];</span><br><span class="line">            rightMax = Math.max(rightMax,height[right]);</span><br><span class="line">            right --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="43-multiply-strings-medium"><a href="#43-multiply-strings-medium" class="headerlink" title="#43-multiply-strings-medium"></a>#43-multiply-strings-medium</h4><p>Given two non-negative integers <code>num1</code> and <code>num2</code> represented as strings, return the product of <code>num1</code> and <code>num2</code>.</p><p><strong>Note:</strong></p><ol><li>The length of both <code>num1</code> and <code>num2</code> is &lt; 110.</li><li>Both <code>num1</code> and <code>num2</code> contains only digits <code>0-9</code>.</li><li>Both <code>num1</code> and <code>num2</code> does not contain any leading zero.</li><li>You <strong>must not use any built-in BigInteger library</strong> or <strong>convert the inputs to integer</strong> directly.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num1==<span class="keyword">null</span> || num1.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(num2==<span class="keyword">null</span> || num2.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(num1.equals(<span class="string">"0"</span>) || num2.equals(<span class="string">"0"</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">int</span> m = num1.length(), n = num2.length();</span><br><span class="line">    <span class="comment">// num1 * num2 max len = m + n</span></span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[m+n];</span><br><span class="line">    <span class="comment">// i bit * j bit head is at i+j</span></span><br><span class="line">    <span class="comment">// cannot use carry</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=m-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=n-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> n2 = num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = n1 * n2 + result[i+j+<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// one digit</span></span><br><span class="line">            result[i+j+<span class="number">1</span>] = sum % <span class="number">10</span>;</span><br><span class="line">            <span class="comment">// ten digit</span></span><br><span class="line">            result[i+j] += sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;result.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(sb.length()==<span class="number">0</span> &amp;&amp; result[i]==<span class="number">0</span>))</span><br><span class="line">            sb.append(result[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="44-Wildcard-Matching-hard"><a href="#44-Wildcard-Matching-hard" class="headerlink" title="44. Wildcard Matching (hard)"></a>44. Wildcard Matching (hard)</h4><p>Implement wildcard pattern matching with support for <code>&#39;?&#39;</code> and <code>&#39;*&#39;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&apos;?&apos; Matches any single character.</span><br><span class="line">&apos;*&apos; Matches any sequence of characters (including the empty sequence).</span><br><span class="line"></span><br><span class="line">The matching should cover the entire input string (not partial).</span><br><span class="line"></span><br><span class="line">The function prototype should be:</span><br><span class="line">bool isMatch(const char *s, const char *p)</span><br><span class="line"></span><br><span class="line">Some examples:</span><br><span class="line">isMatch(&quot;aa&quot;,&quot;a&quot;) → false</span><br><span class="line">isMatch(&quot;aa&quot;,&quot;aa&quot;) → true</span><br><span class="line">isMatch(&quot;aaa&quot;,&quot;aa&quot;) → false</span><br><span class="line">isMatch(&quot;aa&quot;, &quot;*&quot;) → true</span><br><span class="line">isMatch(&quot;aa&quot;, &quot;a*&quot;) → true</span><br><span class="line">isMatch(&quot;ab&quot;, &quot;?*&quot;) → true</span><br><span class="line">isMatch(&quot;aab&quot;, &quot;c*a*b&quot;) → false</span><br></pre></td></tr></table></figure><p>Similar method to regular expression match, DP approach</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || p==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length()+<span class="number">1</span>][p.length()+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// go through first row, * could match ""</span></span><br><span class="line">    <span class="comment">// first col is false, dont match ""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=p.length();j++)</span><br><span class="line">        <span class="keyword">if</span>(p.charAt(j-<span class="number">1</span>) == <span class="string">'*'</span>)</span><br><span class="line">            dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j-<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// case 1: p.char==(s.char, ?) =&gt; dp[i][j] = dp[i-1][j-1]</span></span><br><span class="line">    <span class="comment">// case 2: p.char==* =&gt; * is "" dp[i][j] = dp[i][j-1]</span></span><br><span class="line">    <span class="comment">//                   =&gt; * is not "" dp[i][j] = dp[i-1][j];</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=p.length();j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p.charAt(j-<span class="number">1</span>)==s.charAt(i-<span class="number">1</span>) || p.charAt(j-<span class="number">1</span>)==<span class="string">'?'</span>)</span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p.charAt(j-<span class="number">1</span>) == <span class="string">'*'</span>)</span><br><span class="line">                <span class="comment">// * is sequence and * is blank</span></span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j] || dp[i][j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s.length()][p.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="46-Permutations-distinct-medium"><a href="#46-Permutations-distinct-medium" class="headerlink" title="46. Permutations (distinct)(medium)"></a>46. Permutations (distinct)(medium)</h4><p>Given a collection of <strong>distinct</strong> numbers, return all possible permutations.</p><p>For example,<br><code>[1,2,3]</code> have the following permutations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,2,3],</span><br><span class="line">  [1,3,2],</span><br><span class="line">  [2,1,3],</span><br><span class="line">  [2,3,1],</span><br><span class="line">  [3,1,2],</span><br><span class="line">  [3,2,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>Backtracking add to temp</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="comment">// use backtracking, remember to use visited</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">boolean</span>[] visited)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp.size() == nums.length)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check visited, i from 0 to n</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        visited[i] = <span class="keyword">true</span>;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,visited);</span><br><span class="line">        <span class="comment">// reset when return to here</span></span><br><span class="line">        visited[i] = <span class="keyword">false</span>;</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Backtracking swap (quicker)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,nums,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == nums.length)&#123;</span><br><span class="line">        List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num: nums)</span><br><span class="line">            temp.add(num);</span><br><span class="line">        result.add(temp);    </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;nums.length;i++)&#123;</span><br><span class="line">        swap(nums,idx,i);</span><br><span class="line">        <span class="comment">// swap every position with idx</span></span><br><span class="line">        backtrack(result,nums,idx+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// swap back when return here</span></span><br><span class="line">        swap(nums,idx,i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="47-Permutations-II-duplicates-medium"><a href="#47-Permutations-II-duplicates-medium" class="headerlink" title="47. Permutations II (duplicates)(medium)"></a>47. Permutations II (duplicates)(medium)</h4><p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.</p><p>For example,<br><code>[1,1,2]</code> have the following unique permutations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,1,2],</span><br><span class="line">  [1,2,1],</span><br><span class="line">  [2,1,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permuteUnique(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// need sorting to remove duplicate</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">boolean</span>[] used)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp.size() == nums.length)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="comment">// both !used[i-1] and used[i-1] work</span></span><br><span class="line">        <span class="keyword">if</span>(used[i] || i&gt;<span class="number">0</span>&amp;&amp;nums[i]==nums[i-<span class="number">1</span>]&amp;&amp;!used[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        used[i] = <span class="keyword">true</span>;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,used);</span><br><span class="line">        used[i] = <span class="keyword">false</span>;</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="48-Rotate-Image-medium"><a href="#48-Rotate-Image-medium" class="headerlink" title="48. Rotate Image (medium)"></a>48. Rotate Image (medium)</h4><p>Rotate the image by 90 degrees (clockwise).</p><p><strong>Note:</strong><br>You have to rotate the image <strong>in-place</strong>, which means you have to modify the input 2D matrix directly. <strong>DO NOT</strong> allocate another 2D matrix and do the rotation.</p><p><strong>clockwise: upside down first, then symmetry</strong></p><p><strong>anti-clockwise: left right first, then symmetry</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(matrix.length != matrix[<span class="number">0</span>].length)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// upside down</span></span><br><span class="line">    <span class="keyword">int</span> n = matrix.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;n;col++)&#123;</span><br><span class="line">        <span class="keyword">int</span> up = <span class="number">0</span>, down = n-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(up &lt; down)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = matrix[up][col];</span><br><span class="line">            matrix[up][col] = matrix[down][col];</span><br><span class="line">            matrix[down][col] = temp;</span><br><span class="line">            up ++;</span><br><span class="line">            down --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// symmetry</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = matrix[i][j];</span><br><span class="line">            matrix[i][j] = matrix[j][i];</span><br><span class="line">            matrix[j][i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="49-Group-Anagrams-medium"><a href="#49-Group-Anagrams-medium" class="headerlink" title="49. Group Anagrams (medium)"></a>49. Group Anagrams (medium)</h4><p>Given an array of strings, group anagrams together.</p><p>For example, given: <code>[&quot;eat&quot;, &quot;tea&quot;, &quot;tan&quot;, &quot;ate&quot;, &quot;nat&quot;, &quot;bat&quot;]</code>,<br>Return:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [&quot;ate&quot;, &quot;eat&quot;,&quot;tea&quot;],</span><br><span class="line">  [&quot;nat&quot;,&quot;tan&quot;],</span><br><span class="line">  [&quot;bat&quot;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>Note:</strong> All inputs will be in lower-case.</p><p><strong>HashMap, return</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123;</span><br><span class="line">    <span class="keyword">if</span>(strs == <span class="keyword">null</span> || strs.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;String,List&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(String s : strs)&#123;</span><br><span class="line">        String key = getKey(s);</span><br><span class="line">        List&lt;String&gt; list = map.get(key);</span><br><span class="line">        <span class="keyword">if</span>(list == <span class="keyword">null</span>)&#123;</span><br><span class="line">            list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            map.put(key,list);</span><br><span class="line">        &#125;</span><br><span class="line">        list.add(s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(map.values());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">getKey</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>[] array = s.toCharArray();</span><br><span class="line">    Arrays.sort(array);</span><br><span class="line">    <span class="keyword">return</span> String.valueOf(array);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="50-Pow-x-n-medium"><a href="#50-Pow-x-n-medium" class="headerlink" title="50. Pow(x,n) (medium)"></a>50. Pow(x,n) (medium)</h4><p><strong>recursion</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// deal with int.min</span></span><br><span class="line">        <span class="comment">// +2 could remain even or odd</span></span><br><span class="line">        <span class="keyword">if</span>(n == Integer.MIN_VALUE)</span><br><span class="line">            n+=<span class="number">2</span>;</span><br><span class="line">        n = -n;</span><br><span class="line">        x = <span class="number">1</span> / x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> myPow(x*x,n/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> x * myPow(x*x,n/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// deal with int.min</span></span><br><span class="line">        <span class="comment">// +2 could remain even or odd</span></span><br><span class="line">        <span class="keyword">if</span>(n == Integer.MIN_VALUE)</span><br><span class="line">            n+=<span class="number">2</span>;</span><br><span class="line">        n = -n;</span><br><span class="line">        x = <span class="number">1</span> / x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>((n &amp; <span class="number">1</span>) == <span class="number">1</span>)  <span class="comment">// n is odd</span></span><br><span class="line">            result *= x;</span><br><span class="line">        x *= x;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="51-N-Queens-hard"><a href="#51-N-Queens-hard" class="headerlink" title="51. N-Queens (hard)"></a>51. N-Queens (hard)</h4><p><strong>backtracking</strong></p><p>The <em>n</em>-queens puzzle is the problem of placing <em>n</em> queens on an <em>n</em>×<em>n</em> chessboard such that no two queens attack each other.</p><p><img src="https://leetcode.com/static/images/problemset/8-queens.png" alt="img"></p><p>Given an integer <em>n</em>, return all distinct solutions to the <em>n</em>-queens puzzle.</p><p>Each solution contains a distinct board configuration of the <em>n</em>-queens’ placement, where <code>&#39;Q&#39;</code> and <code>&#39;.&#39;</code> both indicate a queen and an empty space respectively.</p><p>For example,<br>There exist two distinct solutions to the 4-queens puzzle:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [&quot;.Q..&quot;,  // Solution 1</span><br><span class="line">  &quot;...Q&quot;,</span><br><span class="line">  &quot;Q...&quot;,</span><br><span class="line">  &quot;..Q.&quot;],</span><br><span class="line"></span><br><span class="line"> [&quot;..Q.&quot;,  // Solution 2</span><br><span class="line">  &quot;Q...&quot;,</span><br><span class="line">  &quot;...Q&quot;,</span><br><span class="line">  &quot;.Q..&quot;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// construct blank board</span></span><br><span class="line">    <span class="keyword">char</span>[][] board = <span class="keyword">new</span> <span class="keyword">char</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">    <span class="comment">// backtracking</span></span><br><span class="line">    backtrack(result,board,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;String&gt;&gt; result,<span class="keyword">char</span>[][] board,<span class="keyword">int</span> col)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(col == board.length)&#123;</span><br><span class="line">        result.add(build(board));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for each row, try each col, only one loop need</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;board.length;row++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(isValid(board,row,col))&#123;</span><br><span class="line">            board[row][col] = <span class="string">'Q'</span>;</span><br><span class="line">            backtrack(result,board,col+<span class="number">1</span>);</span><br><span class="line">            board[row][col] = <span class="string">'.'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board,<span class="keyword">int</span> row,<span class="keyword">int</span> col)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// in same row, same col, same diagnal</span></span><br><span class="line">            <span class="keyword">if</span>(i==row  || j==col || Math.abs(i-row)==Math.abs(j-col))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">build</span><span class="params">(<span class="keyword">char</span>[][] board)</span></span>&#123;</span><br><span class="line">    <span class="comment">// build board to a result instance</span></span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    List&lt;String&gt; rows = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        rows.add(String.valueOf(board[i]));</span><br><span class="line">    <span class="keyword">return</span> rows;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="52-N-Queens-II-hard"><a href="#52-N-Queens-II-hard" class="headerlink" title="52. N-Queens II (hard)"></a>52. N-Queens II (hard)</h4><p>Now, instead outputting board configurations, return the total number of distinct solutions.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">totalNQueens</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// only check valid cases</span></span><br><span class="line">    <span class="comment">// use 4 boolean arrays to mark:</span></span><br><span class="line">    <span class="comment">//     1. traverse each row, no check same row</span></span><br><span class="line">    <span class="comment">//     2. same col occupied</span></span><br><span class="line">    <span class="comment">//     3. 45 diagnal occupied: y=x+b =&gt; b=y-x constant</span></span><br><span class="line">    <span class="comment">//     4. 135 diagnal occupied y=-x+b =&gt; b=y+x constant</span></span><br><span class="line">    <span class="comment">//         board has 2n-1 diagnals each case</span></span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] cols = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];         <span class="comment">// for col</span></span><br><span class="line">    <span class="keyword">boolean</span>[] diag1 = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];   <span class="comment">// for y-x</span></span><br><span class="line">    <span class="keyword">boolean</span>[] diag2 = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];   <span class="comment">// for y+x</span></span><br><span class="line">    backtrack(result,<span class="number">0</span>,cols,diag1,diag2);</span><br><span class="line">    <span class="keyword">return</span> result[<span class="number">0</span>];        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span>[] result,<span class="keyword">int</span> col,<span class="keyword">boolean</span>[] cols,<span class="keyword">boolean</span>[] diag1,<span class="keyword">boolean</span>[] diag2)</span></span>&#123;</span><br><span class="line">    <span class="comment">// traverse along rows, </span></span><br><span class="line">    <span class="keyword">int</span> n = cols.length;</span><br><span class="line">    <span class="keyword">if</span>(col == n)&#123;</span><br><span class="line">        result[<span class="number">0</span>]++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;n;row++)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx1 = col - row + n - <span class="number">1</span>; <span class="comment">// n-1 offset</span></span><br><span class="line">        <span class="keyword">int</span> idx2 = col + row;</span><br><span class="line">        <span class="keyword">if</span>(cols[row] || diag1[idx1] || diag2[idx2])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        cols[row] = <span class="keyword">true</span>;</span><br><span class="line">        diag1[idx1] = <span class="keyword">true</span>;</span><br><span class="line">        diag2[idx2] = <span class="keyword">true</span>;</span><br><span class="line">        backtrack(result,col+<span class="number">1</span>,cols,diag1,diag2);</span><br><span class="line">        cols[row] = <span class="keyword">false</span>;</span><br><span class="line">        diag1[idx1] = <span class="keyword">false</span>;</span><br><span class="line">        diag2[idx2] = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="53-Maximum-subarray-easy"><a href="#53-Maximum-subarray-easy" class="headerlink" title="53. Maximum subarray (easy)"></a>53. Maximum subarray (easy)</h4><p>Find the contiguous subarray within an array (containing at least one number) which has the largest sum.</p><p>For example, given the array <code>[-2,1,-3,4,-1,2,1,-5,4]</code>,<br>the contiguous subarray <code>[4,-1,2,1]</code> has the largest sum = <code>6</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// save currSum and maxSum </span></span><br><span class="line">    <span class="keyword">int</span> currSum = <span class="number">0</span>, maxSum = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num: nums)&#123;</span><br><span class="line">        currSum = Math.max(num,num+currSum);</span><br><span class="line">        maxSum = Math.max(maxSum,currSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="54-Spiral-Matrix-medium"><a href="#54-Spiral-Matrix-medium" class="headerlink" title="54. Spiral Matrix (medium)"></a>54. Spiral Matrix (medium)</h4><p>Given a matrix of <em>m</em> x <em>n</em> elements (<em>m</em> rows, <em>n</em> columns), return all elements of the matrix in spiral order.</p><p>For example,<br>Given the following matrix:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [ 1, 2, 3 ],</span><br><span class="line"> [ 4, 5, 6 ],</span><br><span class="line"> [ 7, 8, 9 ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>You should return <code>[1,2,3,6,9,8,7,4,5]</code>.</p><p><img src="https://leetcode.com/problems/spiral-matrix/Figures/54_spiralmatrix.png" alt="SpiralMatrix"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">spiralOrder</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> r1 = <span class="number">0</span>, r2 = matrix.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> c1 = <span class="number">0</span>, c2 = matrix[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(r1&lt;=r2 &amp;&amp; c1&lt;=c2)&#123;</span><br><span class="line">        <span class="comment">// add all r1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c1;c&lt;=c2;c++)</span><br><span class="line">            result.add(matrix[r1][c]);</span><br><span class="line">        <span class="comment">// add all c2</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r1+<span class="number">1</span>;r&lt;=r2;r++)</span><br><span class="line">            result.add(matrix[r][c2]);</span><br><span class="line">        <span class="comment">// if las row or col break</span></span><br><span class="line">        <span class="keyword">if</span>(r1==r2 || c1==c2)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// add all r2</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c2-<span class="number">1</span>;c&gt;=c1+<span class="number">1</span>;c--)</span><br><span class="line">            result.add(matrix[r2][c]);</span><br><span class="line">        <span class="comment">// add all c1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r2;r&gt;=r1+<span class="number">1</span>;r--)</span><br><span class="line">            result.add(matrix[r][c1]);</span><br><span class="line">        <span class="comment">// update</span></span><br><span class="line">        r1++;r2--;c1++;c2--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="55-Jump-Game-medium"><a href="#55-Jump-Game-medium" class="headerlink" title="55. Jump Game (medium)"></a>55. Jump Game (medium)</h4><p>Given an array of non-negative integers, you are initially positioned at the first index of the array.</p><p>Each element in the array represents your maximum jump length at that position. </p><p>Determine if you are able to reach the last index.</p><p>For example:<br>A = <code>[2,3,1,1,4]</code>, return <code>true</code>.</p><p>A = <code>[3,2,1,0,4]</code>, return <code>false</code>.</p><p><strong>end to head, check whether it’s a good point</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canJump</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// last index that is a good point</span></span><br><span class="line">    <span class="keyword">int</span> last = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=last-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i + nums[i] &gt;= last)</span><br><span class="line">            last = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> last == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="56-merge-intervals-medium"><a href="#56-merge-intervals-medium" class="headerlink" title="#56-merge-intervals-medium"></a>#56-merge-intervals-medium</h4><p>Given a collection of intervals, merge all overlapping intervals.</p><p>For example,<br>Given <code>[1,3],[2,6],[8,10],[15,18]</code>,<br>return <code>[1,6],[8,10],[15,18]</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for an interval.</span></span><br><span class="line"><span class="comment"> * public class Interval &#123;</span></span><br><span class="line"><span class="comment"> *     int start;</span></span><br><span class="line"><span class="comment"> *     int end;</span></span><br><span class="line"><span class="comment"> *     Interval() &#123; start = 0; end = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Interval(int s, int e) &#123; start = s; end = e; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">merge</span><span class="params">(List&lt;Interval&gt; intervals)</span> </span>&#123;</span><br><span class="line">    List&lt;Interval&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.size() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="comment">// sort based on start time</span></span><br><span class="line">    Collections.sort(intervals,<span class="keyword">new</span> Comparator&lt;Interval&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Interval a,Interval b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a.start - b.start;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    Interval prev = <span class="keyword">null</span>; <span class="comment">// used for merge</span></span><br><span class="line">    <span class="keyword">for</span>(Interval curr : intervals)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prev == <span class="keyword">null</span> || prev.end &lt; curr.start)&#123;</span><br><span class="line">            <span class="comment">// add new interval to result</span></span><br><span class="line">            prev = curr;</span><br><span class="line">            result.add(curr);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; <span class="comment">// prev!=null &amp;&amp; prev.end &gt;= curr.start</span></span><br><span class="line">            prev.end = Math.max(prev.end,curr.end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="57-Insert-Interval-hard"><a href="#57-Insert-Interval-hard" class="headerlink" title="57. Insert Interval (hard)"></a>57. Insert Interval (hard)</h4><p>Given a set of <em>non-overlapping</em> intervals, insert a new interval into the intervals (merge if necessary).</p><p>You may assume that the intervals were initially sorted according to their start times.</p><p><strong>Example 1:</strong><br>Given intervals <code>[1,3],[6,9]</code>, insert and merge <code>[2,5]</code> in as <code>[1,5],[6,9]</code>.</p><p><strong>Example 2:</strong><br>Given <code>[1,2],[3,5],[6,7],[8,10],[12,16]</code>, insert and merge <code>[4,9]</code> in as <code>[1,2],[3,10],[12,16]</code>.</p><p>This is because the new interval <code>[4,9]</code> overlaps with <code>[3,5],[6,7],[8,10]</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for an interval.</span></span><br><span class="line"><span class="comment"> * public class Interval &#123;</span></span><br><span class="line"><span class="comment"> *     int start;</span></span><br><span class="line"><span class="comment"> *     int end;</span></span><br><span class="line"><span class="comment"> *     Interval() &#123; start = 0; end = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Interval(int s, int e) &#123; start = s; end = e; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">insert</span><span class="params">(List&lt;Interval&gt; intervals, Interval newInterval)</span> </span>&#123;</span><br><span class="line">    List&lt;Interval&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// assume already sorted</span></span><br><span class="line">    <span class="comment">// Collections.sort(intervals,(o1,o2)-&gt;o1.start-o2.start);</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// add intervals before newIntervals first, no overlapping</span></span><br><span class="line">    <span class="keyword">while</span>(idx&lt;intervals.size() &amp;&amp; intervals.get(idx).end&lt;newInterval.start)&#123;</span><br><span class="line">        result.add(intervals.get(idx));</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// merge overlapping intervals, curr.end &gt;= new.start</span></span><br><span class="line">    <span class="keyword">while</span>(idx&lt;intervals.size() &amp;&amp; intervals.get(idx).start&lt;=newInterval.end)&#123;</span><br><span class="line">        Interval curr = intervals.get(idx);</span><br><span class="line">        newInterval.start = Math.min(newInterval.start,curr.start);</span><br><span class="line">        newInterval.end = Math.max(newInterval.end,curr.end);</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    result.add(newInterval);</span><br><span class="line">    <span class="comment">// add intervals after newIntervals, no overlapping</span></span><br><span class="line">    <span class="keyword">while</span>(idx&lt;intervals.size())&#123;</span><br><span class="line">        result.add(intervals.get(idx));</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="58-Length-of-Last-Word-easy"><a href="#58-Length-of-Last-Word-easy" class="headerlink" title="58. Length of Last Word (easy)"></a>58. Length of Last Word (easy)</h4><p>Given a string <em>s</em> consists of upper/lower-case alphabets and empty space characters <code>&#39; &#39;</code>, return the length of last word in the string.</p><p>If the last word does not exist, return 0.</p><p><strong>Note:</strong> A word is defined as a character sequence consists of non-space characters only.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;Hello World&quot;</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLastWord</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tail = s.length()-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(tail&gt;=<span class="number">0</span> &amp;&amp; s.charAt(tail)==<span class="string">' '</span>)</span><br><span class="line">        tail--;</span><br><span class="line">    <span class="keyword">int</span> head = tail;</span><br><span class="line">    <span class="keyword">while</span>(head&gt;=<span class="number">0</span> &amp;&amp; s.charAt(head)!=<span class="string">' '</span>)</span><br><span class="line">        head--;</span><br><span class="line">    <span class="keyword">return</span> tail - head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="59-Spiral-Matrix-II-medium"><a href="#59-Spiral-Matrix-II-medium" class="headerlink" title="59. Spiral Matrix II (medium)"></a>59. Spiral Matrix II (medium)</h4><p>Given an integer <em>n</em>, generate a square matrix filled with elements from 1 to <em>n</em>2 in spiral order.</p><p>For example,<br>Given <em>n</em> = <code>3</code>,</p><p>You should return the following matrix:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [ 1, 2, 3 ],</span><br><span class="line"> [ 8, 9, 4 ],</span><br><span class="line"> [ 7, 6, 5 ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] generateMatrix(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">int</span>[][] result = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> r1 = <span class="number">0</span>, r2 = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> c1 = <span class="number">0</span>, c2 = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(r1&lt;=r2 &amp;&amp; c1&lt;=c2)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c1;c&lt;=c2;c++)</span><br><span class="line">            result[r1][c] = num++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r1+<span class="number">1</span>;r&lt;=r2;r++)</span><br><span class="line">            result[r][c2] = num++;</span><br><span class="line">        <span class="keyword">if</span>(r1==r2 || c1==c2)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c2-<span class="number">1</span>;c&gt;=c1+<span class="number">1</span>;c--)</span><br><span class="line">            result[r2][c] = num++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r2;r&gt;=r1+<span class="number">1</span>;r--)</span><br><span class="line">            result[r][c1] = num++;</span><br><span class="line">        r1++;r2--;c1++;c2--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="61-Rotate-List-medium"><a href="#61-Rotate-List-medium" class="headerlink" title="61. Rotate List (medium)"></a>61. Rotate List (medium)</h4><p>Given a list, rotate the list to the right by <em>k</em> places, where <em>k</em> is non-negative.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL and k = 2,</span><br><span class="line">return 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">rotateRight</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// notice corner case</span></span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>), fast = dummy;</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="comment">// find length first, and end node</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">        len ++;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// find node before new head</span></span><br><span class="line">    <span class="comment">// k may larger than len =&gt; %</span></span><br><span class="line">    ListNode slow = dummy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len-k%len;i++)</span><br><span class="line">        slow = slow.next;</span><br><span class="line">    <span class="comment">// rotation order, </span></span><br><span class="line">    fast.next = dummy.next;</span><br><span class="line">    dummy.next = slow.next;</span><br><span class="line">    slow.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="62-Unique-Paths-medium"><a href="#62-Unique-Paths-medium" class="headerlink" title="62. Unique Paths (medium)"></a>62. Unique Paths (medium)</h4><p>A robot is located at the top-left corner of a <em>m</em> x <em>n</em> grid (marked ‘Start’ in the diagram below).</p><p>The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked ‘Finish’ in the diagram below).</p><p>How many possible unique paths are there?</p><p><img src="https://leetcode.com/static/images/problemset/robot_maze.png" alt="img"></p><p>Above is a 3 x 7 grid. How many possible unique paths are there?</p><p><strong>Note:</strong> <em>m</em> and <em>n</em> will be at most 100.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">uniquePaths</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// time O(mn), space O(min(m,n))</span></span><br><span class="line">    <span class="keyword">if</span>(m &lt;= <span class="number">0</span> || n &lt;=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// use 1D dp </span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(dp,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">            dp[j] += dp[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="63-Unique-Paths-II-medium"><a href="#63-Unique-Paths-II-medium" class="headerlink" title="63. Unique Paths II (medium)"></a>63. Unique Paths II (medium)</h4><p>Follow up for “Unique Paths”:</p><p>Now consider if some obstacles are added to the grids. How many unique paths would there be?</p><p>An obstacle and empty space is marked as <code>1</code> and <code>0</code> respectively in the grid.</p><p>For example,</p><p>There is one obstacle in the middle of a 3x3 grid as illustrated below.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [0,0,0],</span><br><span class="line">  [0,1,0],</span><br><span class="line">  [0,0,0]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>The total number of unique paths is <code>2</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">uniquePathsWithObstacles</span><span class="params">(<span class="keyword">int</span>[][] obstacleGrid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to previous, use 1D DP</span></span><br><span class="line">    <span class="keyword">if</span>(obstacleGrid==<span class="keyword">null</span> || obstacleGrid.length==<span class="number">0</span> || obstacleGrid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = obstacleGrid.length, n = obstacleGrid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// init head as 0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="comment">// obstacle, curr count reset 0</span></span><br><span class="line">            <span class="keyword">if</span>(obstacleGrid[i][j] == <span class="number">1</span>)</span><br><span class="line">                dp[j] = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// accumulate when j &gt; 0</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j &gt; <span class="number">0</span>)</span><br><span class="line">                dp[j] += dp[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="64-Minimum-Path-Sum-medium"><a href="#64-Minimum-Path-Sum-medium" class="headerlink" title="64. Minimum Path Sum (medium)"></a>64. Minimum Path Sum (medium)</h4><p>Given a <em>m</em> x <em>n</em> grid filled with non-negative numbers, find a path from top left to bottom right which <em>minimizes</em> the sum of all numbers along its path.</p><p><strong>Note:</strong> You can only move either down or right at any point in time.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[1,3,1],</span><br><span class="line"> [1,5,1],</span><br><span class="line"> [4,2,1]]</span><br></pre></td></tr></table></figure><p>Given the above grid map, return </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7</span><br></pre></td></tr></table></figure><p>. Because the path 1→3→1→1→1 minimizes the sum.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// go through first row</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">        grid[<span class="number">0</span>][j] += grid[<span class="number">0</span>][j-<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// go through first col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)</span><br><span class="line">        grid[i][<span class="number">0</span>] += grid[i-<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// go through other</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">            grid[i][j] += Math.min(grid[i-<span class="number">1</span>][j],grid[i][j-<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> grid[m-<span class="number">1</span>][n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="66-Plus-One-easy"><a href="#66-Plus-One-easy" class="headerlink" title="66. Plus One (easy)"></a>66. Plus One (easy)</h4><p>Given a non-negative integer represented as a <strong>non-empty</strong> array of digits, plus one to the integer.</p><p>You may assume the integer do not contain any leading zero, except the number 0 itself.</p><p>The digits are stored such that the most significant digit is at the head of the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] plusOne(<span class="keyword">int</span>[] digits) &#123;</span><br><span class="line">    <span class="keyword">if</span>(digits==<span class="keyword">null</span> || digits.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// if 9, continue check previous,</span></span><br><span class="line">    <span class="comment">// if not 9, +1 will stop</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=digits.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(digits[i] == <span class="number">9</span>)</span><br><span class="line">            digits[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            digits[i] ++;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if all 0</span></span><br><span class="line">    <span class="keyword">if</span>(digits[<span class="number">0</span>] == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[digits.length+<span class="number">1</span>];</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> digits;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="67-add-binary-easy"><a href="#67-add-binary-easy" class="headerlink" title="67-add-binary-easy"></a>67-add-binary-easy</h4><p>Given two binary strings, return their sum (also a binary string).</p><p>For example,<br>a = <code>&quot;11&quot;</code><br>b = <code>&quot;1&quot;</code><br>Return <code>&quot;100&quot;</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addBinary</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="keyword">null</span> || b == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="comment">// use string builder and reverse</span></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">int</span> i = a.length() - <span class="number">1</span>, j = b.length() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)</span><br><span class="line">            sum += a.charAt(i--) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)</span><br><span class="line">            sum += b.charAt(j--) - <span class="string">'0'</span>;</span><br><span class="line">        sb.append(sum % <span class="number">2</span>);</span><br><span class="line">        sum /= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum != <span class="number">0</span>)</span><br><span class="line">        sb.append(sum);</span><br><span class="line">    <span class="keyword">return</span> sb.reverse().toString();    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="69-int-sqrt-x-easy"><a href="#69-int-sqrt-x-easy" class="headerlink" title="69. int sqrt(x) (easy)"></a>69. int sqrt(x) (easy)</h4><p><strong>binary search</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">1</span>, right = x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(mid &gt; x / mid)</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// mid^2 &lt; x but mid+1 ^2 &gt; x</span></span><br><span class="line">            <span class="keyword">if</span>(mid+<span class="number">1</span> &gt; x/(mid+<span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="70-climbing-stairs-easy"><a href="#70-climbing-stairs-easy" class="headerlink" title="#70-climbing-stairs-easy"></a>#70-climbing-stairs-easy</h4><p>You are climbing a stair case. It takes <em>n</em> steps to reach to the top.</p><p>Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?</p><p><strong>Note:</strong> Given <em>n</em> will be a positive integer.</p><p><strong>**Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output:  3</span><br><span class="line">Explanation:  There are three ways to climb to the top.</span><br><span class="line"></span><br><span class="line">1. 1 step + 1 step + 1 step</span><br><span class="line">2. 1 step + 2 steps</span><br><span class="line">3. 2 steps + 1 step</span><br></pre></td></tr></table></figure><p><strong>basic:</strong></p><p>Assume <code>T(n-1) = O(2`</code>n-1<code></code>)`, <em>therefore</em></p><p><code>T(n) = T(n-1) + T(n-2) + O(1)</code> <em>which is equal to</em></p><p><code>T(n) = O(2`</code>n-1<code>) + O(2</code>n-2<code>) + O(1) = O(2</code>n<code></code>)`</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// n step is count n-1 step + count n-2 step</span></span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="keyword">int</span> first = <span class="number">1</span>, second = <span class="number">2</span>, curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        curr = first + second;</span><br><span class="line">        first = second;</span><br><span class="line">        second = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>add memo top down:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 0:1, 1:1, 2:2, 3:3, 4:5, 5:8</span></span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>)    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] memo = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> helper(n,memo);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span>[] memo)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(memo[n] != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> memo[n];</span><br><span class="line">    memo[n] = helper(n-<span class="number">1</span>,memo) + helper(n-<span class="number">2</span>,memo);</span><br><span class="line">    <span class="keyword">return</span> memo[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>top down dp iteration space O(n)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)</span><br><span class="line">        dp[i] = dp[i-<span class="number">1</span>] + dp[i-<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> first = <span class="number">1</span>, second = <span class="number">1</span>, result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        result = first + second;</span><br><span class="line">        first = second;</span><br><span class="line">        second = result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="71-simplify-path-medium"><a href="#71-simplify-path-medium" class="headerlink" title="#71-simplify-path-medium"></a>#71-simplify-path-medium</h4><p>Given an absolute path for a file (Unix-style), simplify it.</p><p>For example,<br><strong>path</strong> = <code>&quot;/home/&quot;</code>, =&gt; <code>&quot;/home&quot;</code><br><strong>path</strong> = <code>&quot;/a/./b/../../c/&quot;</code>, =&gt; <code>&quot;/c&quot;</code></p><ul><li>Did you consider the case where <strong>path</strong> = <code>&quot;/../&quot;</code>?<br>In this case, you should return <code>&quot;/&quot;</code>.</li><li>Another corner case is the path might contain multiple slashes <code>&#39;/&#39;</code> together, such as <code>&quot;/home//foo/&quot;</code>.<br>In this case, you should ignore redundant slashes and return <code>&quot;/home/foo&quot;</code>.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">simplifyPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use stack .. pop else push</span></span><br><span class="line">    <span class="keyword">if</span>(path == <span class="keyword">null</span> || path.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(String s : path.split(<span class="string">"/"</span>))&#123;</span><br><span class="line">        <span class="comment">// case .(curr folder) continue</span></span><br><span class="line">        <span class="keyword">if</span>(s.equals(<span class="string">"."</span>))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">// case .. prev folder</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">".."</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(!stack.isEmpty())</span><br><span class="line">                stack.pop();</span><br><span class="line">        <span class="comment">// case name dir, not empty, not ///</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!s.isEmpty())&#123;</span><br><span class="line">            stack.push(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case /</span></span><br><span class="line">    <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"/"</span>;</span><br><span class="line">    <span class="comment">// pop and build result</span></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="comment">// build list from stack</span></span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(stack);</span><br><span class="line">    <span class="keyword">for</span>(String s : list)</span><br><span class="line">        sb.append(<span class="string">"/"</span>).append(s);</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="72-edit-distance-hard"><a href="#72-edit-distance-hard" class="headerlink" title="#72-edit-distance-hard"></a>#72-edit-distance-hard</h4><p>Given two words <em>word1</em> and <em>word2</em>, find the minimum number of operations required to convert <em>word1</em> to <em>word2</em>.</p><p>You have the following 3 operations permitted on a word:</p><ol><li>Insert a character</li><li>Delete a character</li><li>Replace a character</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: word1 = &quot;horse&quot;, word2 = &quot;ros&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: </span><br><span class="line">horse -&gt; rorse (replace &apos;h&apos; with &apos;r&apos;)</span><br><span class="line">rorse -&gt; rose (remove &apos;r&apos;)</span><br><span class="line">rose -&gt; ros (remove &apos;e&apos;)</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: word1 = &quot;intention&quot;, word2 = &quot;execution&quot;</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: </span><br><span class="line">intention -&gt; inention (remove &apos;t&apos;)</span><br><span class="line">inention -&gt; enention (replace &apos;i&apos; with &apos;e&apos;)</span><br><span class="line">enention -&gt; exention (replace &apos;n&apos; with &apos;x&apos;)</span><br><span class="line">exention -&gt; exection (replace &apos;n&apos; with &apos;c&apos;)</span><br><span class="line">exection -&gt; execution (insert &apos;u&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar regex</span></span><br><span class="line">    <span class="keyword">if</span>(word1==<span class="keyword">null</span> || word2==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// row word1, col word2</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[word2.length()+<span class="number">1</span>][word1.length()+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// init first row: word1 to ""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;word1.length(); j++)</span><br><span class="line">        dp[<span class="number">0</span>][j+<span class="number">1</span>] = dp[<span class="number">0</span>][j] + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// init first col: "" to word2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word2.length(); i++)</span><br><span class="line">        dp[i+<span class="number">1</span>][<span class="number">0</span>] = dp[i][<span class="number">0</span>] + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// the other</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word2.length(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;word1.length(); j++)&#123;</span><br><span class="line">            <span class="comment">// char1 != char2:</span></span><br><span class="line">            <span class="comment">// 1. insert: dp[i][j] = dp[i-1][j]+1;</span></span><br><span class="line">            <span class="comment">// 2. replace: dp[i][j] = dp[i-1][j-1]+1;</span></span><br><span class="line">            <span class="comment">// 3. delete: dp[i][j] = dp[i][j-1]+1;</span></span><br><span class="line">            <span class="keyword">if</span>(word2.charAt(i) != word1.charAt(j))&#123;</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = <span class="number">1</span> +</span><br><span class="line">                               Math.min(dp[i][j],</span><br><span class="line">                               Math.min(dp[i][j+<span class="number">1</span>],</span><br><span class="line">                                        dp[i+<span class="number">1</span>][j]));</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="comment">// case char1 == char2</span></span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[word2.length()][word1.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="73-set-matrix-zeros-medium"><a href="#73-set-matrix-zeros-medium" class="headerlink" title="#73-set-matrix-zeros-medium"></a>#73-set-matrix-zeros-medium</h4><p>Given a <em>m</em> x <em>n</em> matrix, if an element is 0, set its entire row and column to 0. Do it in place.</p><p>Did you use extra space?<br>A straight forward solution using O(<em>m**n</em>) space is probably a bad idea.<br>A simple improvement uses O(<em>m</em> + <em>n</em>) space, but still not the best solution.<br>Could you devise a constant space solution?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setZeroes</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// set all leading row &amp; col to zeros</span></span><br><span class="line">    <span class="keyword">if</span>(matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">boolean</span> firstRow = <span class="keyword">false</span>, firstCol = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// check first col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)</span><br><span class="line">        <span class="keyword">if</span>(matrix[i][<span class="number">0</span>] == <span class="number">0</span>)</span><br><span class="line">            firstCol = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// check first row</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;col;j++)</span><br><span class="line">        <span class="keyword">if</span>(matrix[<span class="number">0</span>][j] == <span class="number">0</span>)</span><br><span class="line">            firstRow = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// the other</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;row;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;col;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">                matrix[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                matrix[<span class="number">0</span>][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set 0 skip first row &amp; col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;row;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;col;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][<span class="number">0</span>]==<span class="number">0</span> || matrix[<span class="number">0</span>][j]==<span class="number">0</span>)</span><br><span class="line">                matrix[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// update first row &amp; col can cause problem</span></span><br><span class="line">    <span class="comment">// update first row &amp; col</span></span><br><span class="line">    <span class="keyword">if</span>(firstRow)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;col;j++)</span><br><span class="line">            matrix[<span class="number">0</span>][j] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(firstCol)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)</span><br><span class="line">            matrix[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="74-search-a-2d-matrix-medium"><a href="#74-search-a-2d-matrix-medium" class="headerlink" title="#74-search-a-2d-matrix-medium"></a>#74-search-a-2d-matrix-medium</h4><p>Write an efficient algorithm that searches for a value in an <em>m</em> x <em>n</em> matrix. This matrix has the following properties:</p><ul><li>Integers in each row are sorted from left to right.</li><li>The first integer of each row is greater than the last integer of the previous row.</li></ul><p>For example,</p><p>Consider the following matrix:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,   3,  5,  7],</span><br><span class="line">  [10, 11, 16, 20],</span><br><span class="line">  [23, 30, 34, 50]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>Given <strong>target</strong> = <code>3</code>, return <code>true</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// convert to binary search</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// left right should be index</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = m * n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> row = mid / n;</span><br><span class="line">        <span class="keyword">int</span> col = mid % n;</span><br><span class="line">        <span class="keyword">if</span>(matrix[row][col] == target)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(matrix[row][col] &lt; target)</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="75-sort-colors-medium"><a href="#75-sort-colors-medium" class="headerlink" title="#75-sort-colors-medium"></a>#75-sort-colors-medium</h4><p>Given an array with <em>n</em> objects colored red, white or blue, sort them so that objects of the same color are adjacent, with the colors in the order red, white and blue.</p><p>Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.</p><p><strong>Note:</strong><br>You are not suppose to use the library’s sort function for this problem.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//  0000|i|1111|j|????|k|2222</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// j is unvisited, notice j = k</span></span><br><span class="line">    <span class="keyword">while</span>(j &lt;= k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[j] == <span class="number">0</span>)&#123;</span><br><span class="line">            swap(nums,i++,j++);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">1</span>)</span><br><span class="line">            j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">2</span>)</span><br><span class="line">            swap(nums,j,k--);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//  0000|i|1111|j|????|k|2222</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// j is unvisited, notice j = k</span></span><br><span class="line">    <span class="keyword">while</span>(j &lt;= k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[j] == <span class="number">0</span>)&#123;</span><br><span class="line">            nums[j++] = nums[i];</span><br><span class="line">            nums[i++] = <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">1</span>)&#123;</span><br><span class="line">            j ++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">2</span>)&#123;</span><br><span class="line">            nums[j] = nums[k];</span><br><span class="line">            nums[k--] = <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="76-minimun-window-substring-hard"><a href="#76-minimun-window-substring-hard" class="headerlink" title="#76-minimun-window-substring-hard"></a>#76-minimun-window-substring-hard</h4><p>Given a string S and a string T, find the minimum window in S which will contain all the characters in T in complexity O(n).</p><p>For example,<br><strong>S</strong> = <code>&quot;ADOBECODEBANC&quot;</code><br><strong>T</strong> = <code>&quot;ABC&quot;</code></p><p>Minimum window is <code>&quot;BANC&quot;</code>.</p><p><strong>Note:</strong><br>If there is no such window in S that covers all characters in T, return the empty string <code>&quot;&quot;</code>.</p><p>If there are multiple such windows, you are guaranteed that there will always be only one unique minimum window in S.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || t==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="comment">// find t histogram first</span></span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : t.toCharArray())</span><br><span class="line">        bin[c] ++;</span><br><span class="line">    <span class="comment">// sliding window</span></span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, count = t.length();</span><br><span class="line">    <span class="keyword">int</span> minLen = s.length() + <span class="number">1</span>, minHead = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>;tail&lt;s.length();tail++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(bin[s.charAt(tail)] &gt; <span class="number">0</span>)</span><br><span class="line">            count --;</span><br><span class="line">        bin[s.charAt(tail)]--;</span><br><span class="line">        <span class="comment">// valid edge condition</span></span><br><span class="line">        <span class="keyword">while</span>(count == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// update min then shift window</span></span><br><span class="line">            <span class="keyword">if</span>(tail-head+<span class="number">1</span> &lt; minLen)&#123;</span><br><span class="line">                minLen = tail - head + <span class="number">1</span>;</span><br><span class="line">                minHead = head;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(bin[s.charAt(head)] == <span class="number">0</span>)</span><br><span class="line">                count ++;</span><br><span class="line">            bin[s.charAt(head)]++;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen &gt; s.length() ? <span class="string">""</span> : s.substring(minHead,minHead+minLen);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="77-combinations-medium"><a href="#77-combinations-medium" class="headerlink" title="#77-combinations-medium"></a>#77-combinations-medium</h4><p>Given two integers <em>n</em> and <em>k</em>, return all possible combinations of <em>k</em> numbers out of 1 … <em>n</em>.</p><p>For example,<br>If <em>n</em> = 4 and <em>k</em> = 2, a solution is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [2,4],</span><br><span class="line">  [3,4],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  [1,3],</span><br><span class="line">  [1,4],</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">// backtracking</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="number">1</span>,n,k);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; temp,<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> count)</span></span>&#123;</span><br><span class="line">    <span class="comment">// optimization here, if start to close to end so no enough elements</span></span><br><span class="line">    <span class="keyword">if</span>(count - temp.size() &gt; end - start + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//////////////////////////////////////</span></span><br><span class="line">    <span class="keyword">if</span>(temp.size() == count)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;=end;i++)&#123;</span><br><span class="line">        temp.add(i);</span><br><span class="line">        backtrack(result,temp,i+<span class="number">1</span>,end,count);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="78-subsets-medium"><a href="#78-subsets-medium" class="headerlink" title="#78-subsets-medium"></a>#78-subsets-medium</h4><p>Given a set of <strong>distinct</strong> integers, <em>nums</em>, return all possible subsets (the power set).</p><p><strong>Note:</strong> The solution set must not contain duplicate subsets.</p><p>For example,<br>If <strong>nums</strong> = <code>[1,2,3]</code>, a solution is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [1],</span><br><span class="line">  [2],</span><br><span class="line">  [1,2,3],</span><br><span class="line">  [1,3],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="comment">// backtracking // distinct</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, <span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="comment">// add result each level</span></span><br><span class="line">    result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;nums.length;i++)&#123;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,i+<span class="number">1</span>);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="79-word-search-medium"><a href="#79-word-search-medium" class="headerlink" title="#79-word-search-medium"></a>#79-word-search-medium</h4><p>Given a 2D board and a word, find if the word exists in the grid.</p><p>The word can be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once.</p><p>For example,<br>Given <strong>board</strong> = </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;E&apos;],</span><br><span class="line">  [&apos;S&apos;,&apos;F&apos;,&apos;C&apos;,&apos;S&apos;],</span><br><span class="line">  [&apos;A&apos;,&apos;D&apos;,&apos;E&apos;,&apos;E&apos;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>word = <code>&quot;ABCCED&quot;</code>, -&gt; returns <code>true</code>,</p><p>word = <code>&quot;SEE&quot;</code>, -&gt; returns <code>true</code>,</p><p>word = <code>&quot;ABCB&quot;</code>, -&gt; returns <code>false</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length==<span class="number">0</span> || board[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == word.charAt(<span class="number">0</span>) &amp;&amp; search(board,word,<span class="number">0</span>,i,j))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;        </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">char</span>[][] board,String word,<span class="keyword">int</span> idx,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=m || j&lt;<span class="number">0</span> || j&gt;=n || board[i][j]==<span class="string">'.'</span> || board[i][j]!=word.charAt(idx))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">char</span> prev = board[i][j];</span><br><span class="line">    board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">    <span class="keyword">if</span>(search(board,word,idx+<span class="number">1</span>,i+<span class="number">1</span>,j) ||</span><br><span class="line">      search(board,word,idx+<span class="number">1</span>,i-<span class="number">1</span>,j) ||</span><br><span class="line">      search(board,word,idx+<span class="number">1</span>,i,j+<span class="number">1</span>) ||</span><br><span class="line">      search(board,word,idx+<span class="number">1</span>,i,j-<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    board[i][j] = prev; <span class="comment">// restore</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="80-remove-duplicates-from-sorted-array-ii-medium"><a href="#80-remove-duplicates-from-sorted-array-ii-medium" class="headerlink" title="#80-remove-duplicates-from-sorted-array-ii-medium"></a>#80-remove-duplicates-from-sorted-array-ii-medium</h4><p>Follow up for “Remove Duplicates”:<br>What if duplicates are allowed at most <em>twice</em>?</p><p>For example,<br>Given sorted array <em>nums</em> = <code>[1,1,1,2,2,3]</code>,</p><p>Your function should return length = <code>5</code>, with the first five elements of <em>nums</em> being <code>1</code>, <code>1</code>, <code>2</code>, <code>2</code> and <code>3</code>. It doesn’t matter what you leave beyond the new length.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums.length &lt;= <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> nums.length;</span><br><span class="line">    <span class="keyword">int</span> tail = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// similar but check tail - 2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != nums[tail-<span class="number">2</span>])</span><br><span class="line">            nums[tail++] = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tail;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// optimized</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums.length &lt;= <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> nums.length;</span><br><span class="line">    <span class="keyword">int</span> tail = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tail &lt; <span class="number">2</span> || num != nums[tail-<span class="number">2</span>])</span><br><span class="line">            nums[tail++] = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="81-search-in-rotated-sorted-array-ii-medium"><a href="#81-search-in-rotated-sorted-array-ii-medium" class="headerlink" title="#81-search-in-rotated-sorted-array-ii-medium"></a>#81-search-in-rotated-sorted-array-ii-medium</h4><blockquote><p><em>Follow up</em> for “Search in Rotated Sorted Array”:<br>What if <em>duplicates</em> are allowed?</p><p>Would this affect the run-time complexity? How and why?</p></blockquote><p><a href="#33-search-in-rotated-sorted-array-medium">#33-search-in-rotated-sorted-array-medium</a></p><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.</p><p>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).</p><p>Write a function to determine if a given target is in the array.</p><p>The array may contain duplicates.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 1) everytime check if targe == nums[mid], if so, we find it.</span></span><br><span class="line"><span class="comment">// 2) otherwise, we check if the first half is in order (i.e. nums[left]&lt;=nums[mid]) </span></span><br><span class="line"><span class="comment">//   and if so, go to step 3), otherwise, the second half is in order,   go to step 4)</span></span><br><span class="line"><span class="comment">// 3) check if target in the range of [left, mid-1] (i.e. nums[left]&lt;=target &lt; nums[mid]), </span></span><br><span class="line"><span class="comment">//         if so, do search in the first half, i.e. right = mid-1; otherwise, search in the second half left = mid+1;</span></span><br><span class="line"><span class="comment">// 4)  check if target in the range of [mid+1, right] (i.e. nums[mid]&lt;target &lt;= nums[right]), </span></span><br><span class="line"><span class="comment">//         if so, do search in the second half, i.e. left = mid+1; otherwise search in the first half right = mid-1;</span></span><br><span class="line">        <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">// difference to deal with duplicate here</span></span><br><span class="line">            <span class="keyword">if</span>(nums[left]==nums[mid] &amp;&amp; nums[mid]==nums[right])&#123;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">            <span class="comment">// left half not rotate</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[left] &lt;= nums[mid])&#123;</span><br><span class="line">                <span class="comment">// mid in not rotate part</span></span><br><span class="line">                <span class="keyword">if</span>(nums[left]&lt;=target &amp;&amp; target&lt;nums[mid])</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// mid in rotate part</span></span><br><span class="line">                <span class="keyword">else</span> left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// right half not rotate</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt;= nums[right])&#123;</span><br><span class="line">                <span class="comment">// mid in not rotate part</span></span><br><span class="line">                <span class="keyword">if</span>(nums[mid]&lt;target &amp;&amp; target&lt;=nums[right])</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// mid in rotate part</span></span><br><span class="line">                <span class="keyword">else</span> right = mid -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;       </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="82-remove-duplicates-from-sorted-list-ii-medium"><a href="#82-remove-duplicates-from-sorted-list-ii-medium" class="headerlink" title="#82-remove-duplicates-from-sorted-list-ii-medium"></a>#82-remove-duplicates-from-sorted-list-ii-medium</h4><p>Given a sorted linked list, delete all nodes that have duplicate numbers, leaving only <em>distinct</em> numbers from the original list.</p><p>For example,<br>Given <code>1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5</code>, return <code>1-&gt;2-&gt;5</code>.<br>Given <code>1-&gt;1-&gt;1-&gt;2-&gt;3</code>, return <code>2-&gt;3</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ListNode prev = dummy, curr = head;</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// if next val = curr val, check next</span></span><br><span class="line">        <span class="keyword">while</span>(curr.next!=<span class="keyword">null</span> &amp;&amp; curr.val==curr.next.val)</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        <span class="comment">// if curr is distinct</span></span><br><span class="line">        <span class="keyword">if</span>(prev.next == curr)</span><br><span class="line">            prev = prev.next;</span><br><span class="line">        <span class="keyword">else</span>    </span><br><span class="line">        <span class="comment">// prev stays, case next sequence duplication</span></span><br><span class="line">        <span class="comment">// curr is the last duplication</span></span><br><span class="line">            prev.next = curr.next;   </span><br><span class="line">        curr = curr.next;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="83-remove-duplicates-from-sorted-list-easy"><a href="#83-remove-duplicates-from-sorted-list-easy" class="headerlink" title="#83-remove-duplicates-from-sorted-list-easy"></a>#83-remove-duplicates-from-sorted-list-easy</h4><p>Given a sorted linked list, delete all duplicates such that each element appear only <em>once</em>.</p><p>For example,<br>Given <code>1-&gt;1-&gt;2</code>, return <code>1-&gt;2</code>.<br>Given <code>1-&gt;1-&gt;2-&gt;3-&gt;3</code>, return <code>1-&gt;2-&gt;3</code>.</p><p><strong>iteration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span> || head.next==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span>(curr.next!=<span class="keyword">null</span> &amp;&amp; curr.val==curr.next.val)</span><br><span class="line">            curr.next = curr.next.next;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>recursion</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    head.next = deleteDuplicates(head.next);</span><br><span class="line">    <span class="comment">// here head.next != null</span></span><br><span class="line">    <span class="keyword">return</span> head.val == head.next.val ? head.next : head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="84-largest-rectangle-in-histogram-hard"><a href="#84-largest-rectangle-in-histogram-hard" class="headerlink" title="#84-largest-rectangle-in-histogram-hard"></a>#84-largest-rectangle-in-histogram-hard</h4><p>Given <em>n</em> non-negative integers representing the histogram’s bar height where the width of each bar is 1, find the area of largest rectangle in the histogram.</p><p><img src="https://leetcode.com/static/images/problemset/histogram.png" alt="img"></p><p>Above is a histogram where width of each bar is 1, given height = <code>[2,1,5,6,2,3]</code>.</p><p><img src="https://leetcode.com/static/images/problemset/histogram_area.png" alt="img"></p><p>The largest rectangle is shown in the shaded area, which has area = <code>10</code> unit.</p><p>For example,<br>Given heights = <code>[2,1,5,6,2,3]</code>,<br>return <code>10</code>.</p><p><a href="#42-trapping-rain-water-hard">#42-trapping-rain-water-hard</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Maintains an increasing stack</span></span><br><span class="line"><span class="comment">// encounter smaller height, check all previous areas.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">Stack&lt;Integer&gt; idxStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"><span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= heights.length; i++) &#123;</span><br><span class="line"><span class="comment">// push -1 for last, to pop all previous</span></span><br><span class="line"><span class="keyword">int</span> height = i == heights.length ? <span class="number">0</span> : heights[i];</span><br><span class="line"><span class="comment">// when increasing is broken</span></span><br><span class="line"><span class="keyword">while</span> (!idxStack.isEmpty() &amp;&amp; heights[idxStack.peek()] &gt;= height) &#123;</span><br><span class="line"><span class="comment">// get previous higher one, compute previous area</span></span><br><span class="line"><span class="comment">// it's all area from smaller to the highest</span></span><br><span class="line"><span class="keyword">int</span> h = heights[idxStack.pop()];</span><br><span class="line"><span class="comment">// if is empty, there is a bottom rectangle from current to head</span></span><br><span class="line"><span class="keyword">int</span> w = idxStack.isEmpty() ? i : i - <span class="number">1</span> - idxStack.peek();</span><br><span class="line">maxArea = Math.max(maxArea, h * w);</span><br><span class="line">&#125;</span><br><span class="line">idxStack.push(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>optimized beats 98%, check left then right idea </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// save left and right index</span></span><br><span class="line">    <span class="comment">// width is most left &amp; right idx whose h is larger</span></span><br><span class="line">    <span class="keyword">if</span>(heights==<span class="keyword">null</span> || heights.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] left = <span class="keyword">new</span> <span class="keyword">int</span>[heights.length];</span><br><span class="line">    <span class="keyword">int</span>[] right = <span class="keyword">new</span> <span class="keyword">int</span>[heights.length];</span><br><span class="line">    <span class="comment">// find left/right index whose h is larger</span></span><br><span class="line">    <span class="comment">// utilize previous result to reduce run time</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;heights.length;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> l = i-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l&gt;=<span class="number">0</span> &amp;&amp; heights[l]&gt;=heights[i])</span><br><span class="line">            l = left[l];</span><br><span class="line">        left[i] = l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=heights.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">int</span> r = i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(r&lt;heights.length &amp;&amp; heights[r]&gt;=heights[i])</span><br><span class="line">            r = right[r];</span><br><span class="line">        right[i] = r;</span><br><span class="line">    &#125;        </span><br><span class="line">    <span class="comment">// then for h, the width is r - l - 1;</span></span><br><span class="line">    <span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;heights.length;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> w = right[i] - left[i] - <span class="number">1</span>;</span><br><span class="line">        maxArea = Math.max(maxArea,heights[i]*w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="86-partition-list-medium"><a href="#86-partition-list-medium" class="headerlink" title="#86-partition-list-medium"></a>#86-partition-list-medium</h4><p>Given a linked list and a value <em>x</em>, partition it such that all nodes less than <em>x</em> come before nodes greater than or equal to <em>x</em>.</p><p>You should preserve the original relative order of the nodes in each of the two partitions.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3</span><br><span class="line">Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">partition</span><span class="params">(ListNode head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two head;</span></span><br><span class="line">    ListNode dummy1 = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev1 = dummy1;</span><br><span class="line">    ListNode dummy2 = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev2 = dummy2;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head.val &lt; x)&#123;</span><br><span class="line">            prev1.next = head;</span><br><span class="line">            prev1 = prev1.next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            prev2.next = head;</span><br><span class="line">            prev2 = prev2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// combine two list</span></span><br><span class="line">    prev1.next = dummy2.next;</span><br><span class="line">    prev2.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> dummy1.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="87-scramble-string-hard"><a href="#87-scramble-string-hard" class="headerlink" title="#87-scramble-string-hard"></a>#87-scramble-string-hard</h4><p>Given a string <em>s1</em>, we may represent it as a binary tree by partitioning it to two non-empty substrings recursively.</p><p>Below is one possible representation of <em>s1</em> = <code>&quot;great&quot;</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    great</span><br><span class="line">   /    \</span><br><span class="line">  gr    eat</span><br><span class="line"> / \    /  \</span><br><span class="line">g   r  e   at</span><br><span class="line">           / \</span><br><span class="line">          a   t</span><br></pre></td></tr></table></figure><p>To scramble the string, we may choose any non-leaf node and swap its two children.</p><p>For example, if we choose the node <code>&quot;gr&quot;</code> and swap its two children, it produces a scrambled string <code>&quot;rgeat&quot;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    rgeat</span><br><span class="line">   /    \</span><br><span class="line">  rg    eat</span><br><span class="line"> / \    /  \</span><br><span class="line">r   g  e   at</span><br><span class="line">           / \</span><br><span class="line">          a   t</span><br></pre></td></tr></table></figure><p>We say that <code>&quot;rgeat&quot;</code> is a scrambled string of <code>&quot;great&quot;</code>.</p><p>Similarly, if we continue to swap the children of nodes <code>&quot;eat&quot;</code> and <code>&quot;at&quot;</code>, it produces a scrambled string <code>&quot;rgtae&quot;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    rgtae</span><br><span class="line">   /    \</span><br><span class="line">  rg    tae</span><br><span class="line"> / \    /  \</span><br><span class="line">r   g  ta  e</span><br><span class="line">       / \</span><br><span class="line">      t   a</span><br></pre></td></tr></table></figure><p>We say that <code>&quot;rgtae&quot;</code> is a scrambled string of <code>&quot;great&quot;</code>.</p><p>Given two strings <em>s1</em> and <em>s2</em> of the same length, determine if <em>s2</em> is a scrambled string of <em>s1</em>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;great&quot;, s2 = &quot;rgeat&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;abcde&quot;, s2 = &quot;caebd&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isScramble</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// check all possible case</span></span><br><span class="line">    <span class="keyword">if</span>(s1.equals(s2))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// check char count</span></span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s1.length(); i++)&#123;</span><br><span class="line">        bin[s1.charAt(i)]++;</span><br><span class="line">        bin[s2.charAt(i)]--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check is char equal</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n : bin)</span><br><span class="line">        <span class="keyword">if</span>(n != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// recursion call, check all substring</span></span><br><span class="line">    <span class="comment">// origin not include, from 1 to length</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;s1.length(); i++)&#123;</span><br><span class="line">        <span class="comment">// a b | c d e, a b | d e c</span></span><br><span class="line">        <span class="keyword">if</span>(isScramble(s1.substring(<span class="number">0</span>,i),s2.substring(<span class="number">0</span>,i)) </span><br><span class="line">           &amp;&amp; isScramble(s1.substring(i),s2.substring(i)))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// a b | c d e, c d e | a b</span></span><br><span class="line">        <span class="keyword">if</span>(isScramble(s1.substring(<span class="number">0</span>,i),s2.substring(s2.length()-i)) </span><br><span class="line">           &amp;&amp; isScramble(s1.substring(i),s2.substring(<span class="number">0</span>,s2.length()-i)))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="88-merge-sorted-array-easy"><a href="#88-merge-sorted-array-easy" class="headerlink" title="#88-merge-sorted-array-easy"></a>#88-merge-sorted-array-easy</h4><p>Given two sorted integer arrays <em>nums1</em> and <em>nums2</em>, merge <em>nums2</em> into <em>nums1</em> as one sorted array.</p><p><strong>Note:</strong></p><ul><li>The number of elements initialized in <em>nums1</em> and <em>nums2</em> are <em>m</em> and <em>n</em> respectively.</li><li>You may assume that <em>nums1</em> has enough space (size that is greater or equal to <em>m</em> + <em>n</em>) to hold additional elements from <em>nums2</em>.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">nums1 = [1,2,3,0,0,0], m = 3</span><br><span class="line">nums2 = [2,5,6],       n = 3</span><br><span class="line"></span><br><span class="line">Output: [1,2,2,3,5,6]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> m, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// from end to head,</span></span><br><span class="line">    <span class="keyword">int</span> i = m - <span class="number">1</span>, j = n - <span class="number">1</span>, k = m + n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span> &amp;&amp; j &gt;= <span class="number">0</span>)</span><br><span class="line">        nums1[k--] = nums1[i] &gt; nums2[j] ? nums1[i--] : nums2[j--];</span><br><span class="line">    <span class="keyword">while</span>(j &gt;= <span class="number">0</span>)  <span class="comment">// nums2 rest</span></span><br><span class="line">        nums1[k--] = nums2[j--];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="89-gray-code-medium"><a href="#89-gray-code-medium" class="headerlink" title="#89-gray-code-medium"></a>#89-gray-code-medium</h4><p>The gray code is a binary numeral system where two successive values differ in only one bit.</p><p>Given a non-negative integer <em>n</em> representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.</p><p>For example, given <em>n</em> = 2, return <code>[0,1,3,2]</code>. Its gray code sequence is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">00 - 0</span><br><span class="line">01 - 1</span><br><span class="line">11 - 3</span><br><span class="line">10 - 2</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>For a given <em>n</em>, a gray code sequence is not uniquely defined.</p><p>For example, <code>[0,2,3,1]</code> is also a valid gray code sequence according to the above definition.</p><p>For now, the judge is able to judge based on one instance of gray code sequence. Sorry about that.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">grayCode</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bit manipulate</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">// total should &lt; 1 &lt;&lt; n</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; <span class="number">1</span>&lt;&lt;n; i++)&#123;</span><br><span class="line">        result.add(i ^ i&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="90-subsets-ii-medium"><a href="#90-subsets-ii-medium" class="headerlink" title="#90-subsets-ii-medium"></a>#90-subsets-ii-medium</h4><p>Given a collection of integers that might contain duplicates, <strong>nums</strong>, return all possible subsets (the power set).</p><p><strong>Note:</strong> The solution set must not contain duplicate subsets.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,2]</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">  [2],</span><br><span class="line">  [1],</span><br><span class="line">  [1,2,2],</span><br><span class="line">  [2,2],</span><br><span class="line">  [1,2],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsetsWithDup(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// since remove duplicate, need sorting</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="comment">// no need to check</span></span><br><span class="line">    result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="comment">// jump duplicate</span></span><br><span class="line">        <span class="comment">// notice its &gt; idx not &gt; 0</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;idx &amp;&amp; nums[i]==nums[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,i+<span class="number">1</span>);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="92-reverse-linked-list-ii-medium"><a href="#92-reverse-linked-list-ii-medium" class="headerlink" title="#92-reverse-linked-list-ii-medium"></a>#92-reverse-linked-list-ii-medium</h4><p>Reverse a linked list from position <em>m</em> to <em>n</em>. Do it in one-pass.</p><p><strong>Note:</strong> 1 ≤ <em>m</em> ≤ <em>n</em> ≤ length of list.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4</span><br><span class="line">Output: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ListNode start = dummy;</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="comment">// find slow prev first</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;m; i++)</span><br><span class="line">        start = start.next;</span><br><span class="line">    <span class="comment">// end not change, curr for saving</span></span><br><span class="line">    ListNode end = start.next, curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n-m; i++)&#123;</span><br><span class="line">        curr = end.next;</span><br><span class="line">        end.next = curr.next;</span><br><span class="line">        curr.next = start.next;</span><br><span class="line">        start.next = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="93-restore-ip-addresses-medium"><a href="#93-restore-ip-addresses-medium" class="headerlink" title="#93-restore-ip-addresses-medium"></a>#93-restore-ip-addresses-medium</h4><p>Given a string containing only digits, restore it by returning all possible valid IP address combinations.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;25525511135&quot;</span><br><span class="line">Output: [&quot;255.255.11.135&quot;, &quot;255.255.111.35&quot;]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">restoreIpAddresses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,s,<span class="keyword">new</span> StringBuilder(),<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; result,String s,StringBuilder sb,<span class="keyword">int</span> idx,<span class="keyword">int</span> block)</span></span>&#123;</span><br><span class="line">    <span class="comment">// to 5 block and s is empty</span></span><br><span class="line">    <span class="keyword">if</span>(block == <span class="number">5</span> &amp;&amp; idx == s.length())&#123;</span><br><span class="line">        result.add(sb.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// s left or block left</span></span><br><span class="line">    <span class="keyword">if</span>(block &gt; <span class="number">4</span> || idx == s.length())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> len = sb.length(); <span class="comment">// for reset</span></span><br><span class="line">    <span class="comment">// one block most 3 digit</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;<span class="number">4</span> &amp;&amp; idx+i&lt;=s.length(); i++)&#123;</span><br><span class="line">        String partition = s.substring(idx,idx+i);</span><br><span class="line">        <span class="comment">// case 001 &amp;&amp; 256</span></span><br><span class="line">        <span class="keyword">if</span>(i!=<span class="number">1</span> &amp;&amp; partition.charAt(<span class="number">0</span>)==<span class="string">'0'</span> ||</span><br><span class="line">          i==<span class="number">3</span> &amp;&amp; Integer.parseInt(partition)&gt;<span class="number">255</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        sb.append(partition);</span><br><span class="line">        <span class="comment">// for seperator</span></span><br><span class="line">        <span class="keyword">if</span>(block &lt; <span class="number">4</span>)</span><br><span class="line">            sb.append(<span class="string">'.'</span>);</span><br><span class="line">        <span class="comment">// backtrack</span></span><br><span class="line">        backtrack(result,s,sb,idx+i,block+<span class="number">1</span>);</span><br><span class="line">        sb.setLength(len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="94-binary-tree-inorder-traversal-medium"><a href="#94-binary-tree-inorder-traversal-medium" class="headerlink" title="#94-binary-tree-inorder-traversal-medium"></a>#94-binary-tree-inorder-traversal-medium</h4><p><strong>Recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    dfs(root,result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root,List&lt;Integer&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    dfs(root.left,result);</span><br><span class="line">    result.add(root.val);</span><br><span class="line">    dfs(root.right,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(root);</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode curr = stack.pop();</span><br><span class="line">            result.add(curr.val);</span><br><span class="line">            root = curr.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="95-unique-bst-ii-medium"><a href="#95-unique-bst-ii-medium" class="headerlink" title="#95-unique-bst-ii-medium"></a>#95-unique-bst-ii-medium</h4><p>Given an integer <em>n</em>, generate all structurally unique <strong>BST’s</strong> (binary search trees) that store values 1 … <em>n</em>.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">  [1,null,3,2],</span><br><span class="line">  [3,2,null,1],</span><br><span class="line">  [3,1,null,null,2],</span><br><span class="line">  [2,1,3],</span><br><span class="line">  [1,null,2,null,3]</span><br><span class="line">]</span><br><span class="line">Explanation:</span><br><span class="line">The above output corresponds to the 5 unique BST&apos;s shown below:</span><br><span class="line"></span><br><span class="line">   1         3     3      2      1</span><br><span class="line">    \       /     /      / \      \</span><br><span class="line">     3     2     1      1   3      2</span><br><span class="line">    /     /       \                 \</span><br><span class="line">   2     1         2                 3</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">return</span> helper(<span class="number">1</span>,n);        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">helper</span><span class="params">(<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    List&lt;TreeNode&gt; trees = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(left &gt; right)&#123;</span><br><span class="line">        trees.add(<span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> trees;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(left == right)&#123;</span><br><span class="line">        trees.add(<span class="keyword">new</span> TreeNode(left));</span><br><span class="line">        <span class="keyword">return</span> trees;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> rootVal=left; rootVal&lt;=right; rootVal++)&#123;</span><br><span class="line">        List&lt;TreeNode&gt; leftSubTrees = helper(left,rootVal-<span class="number">1</span>);</span><br><span class="line">        List&lt;TreeNode&gt; rightSubTrees = helper(rootVal+<span class="number">1</span>,right);</span><br><span class="line">        <span class="keyword">for</span>(TreeNode l : leftSubTrees)&#123;</span><br><span class="line">            <span class="keyword">for</span>(TreeNode r : rightSubTrees)&#123;</span><br><span class="line">                TreeNode root = <span class="keyword">new</span> TreeNode(rootVal);</span><br><span class="line">                root.left = l;</span><br><span class="line">                root.right = r;</span><br><span class="line">                trees.add(root);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> trees;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="96-unique-bst-medium"><a href="#96-unique-bst-medium" class="headerlink" title="#96-unique-bst-medium"></a>#96-unique-bst-medium</h4><p>Given <em>n</em>, how many structurally unique <strong>BST’s</strong> (binary search trees) that store values 1 … <em>n</em>?</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output: 5</span><br><span class="line">Explanation:</span><br><span class="line">Given n = 3, there are a total of 5 unique BST&apos;s:</span><br><span class="line"></span><br><span class="line">   1         3     3      2      1</span><br><span class="line">    \       /     /      / \      \</span><br><span class="line">     3     2     1      1   3      2</span><br><span class="line">    /     /       \                 \</span><br><span class="line">   2     1         2                 3</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// for n = 5</span></span><br><span class="line">    <span class="comment">// if 1 as root, dp[0] * dp[4]</span></span><br><span class="line">    <span class="comment">// if 2 as root, dp[1] * dp[3]</span></span><br><span class="line">    <span class="comment">// if 3 as root, dp[2] * dp[2]</span></span><br><span class="line">    <span class="comment">// if 4 as root, dp[3] * dp[1]</span></span><br><span class="line">    <span class="comment">// if 5 as root, dp[4] * dp[0]</span></span><br><span class="line">    <span class="comment">// find how many node in left &amp; right subtree</span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// use 1 * the other subtree</span></span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; ++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;i; ++j)</span><br><span class="line">            dp[i] += dp[j] * dp[i-<span class="number">1</span>-j];</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="97-interleaving-string-hard"><a href="#97-interleaving-string-hard" class="headerlink" title="#97-interleaving-string-hard"></a>#97-interleaving-string-hard</h4><p>Given <em>s1</em>, <em>s2</em>, <em>s3</em>, find whether <em>s3</em> is formed by the interleaving of <em>s1</em> and <em>s2</em>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;aabcc&quot;, s2 = &quot;dbbca&quot;, s3 = &quot;aadbbcbcac&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;aabcc&quot;, s2 = &quot;dbbca&quot;, s3 = &quot;aadbbbaccc&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterleave</span><span class="params">(String s1, String s2, String s3)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s1==<span class="keyword">null</span> || s2==<span class="keyword">null</span> || s3==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(s1.length() + s2.length() != s3.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// s2 row, s1 col</span></span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s1.length()+<span class="number">1</span>][s2.length()+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>; <span class="comment">// "" + "" == ""</span></span><br><span class="line">    <span class="comment">// init first row: check j-1 &amp;&amp; char==char for s2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;s2.length(); j++)</span><br><span class="line">        dp[<span class="number">0</span>][j+<span class="number">1</span>] = dp[<span class="number">0</span>][j] &amp;&amp; s2.charAt(j)==s3.charAt(j);</span><br><span class="line">    <span class="comment">// init first col: check i-1 &amp;&amp; char==char for s1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s1.length(); i++)</span><br><span class="line">        dp[i+<span class="number">1</span>][<span class="number">0</span>] = dp[i][<span class="number">0</span>] &amp;&amp; s1.charAt(i)==s3.charAt(i);</span><br><span class="line">    <span class="comment">// dp</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s1.length(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;s2.length(); j++)&#123;</span><br><span class="line">            <span class="comment">// case1, add s1.char at tail</span></span><br><span class="line">            <span class="comment">// [i-1][j] &amp;&amp; s1.char==s3.char</span></span><br><span class="line">            <span class="comment">// case2, add s2.char at tail</span></span><br><span class="line">            <span class="comment">// [i][j-1] &amp;&amp; s2.char==s3.char</span></span><br><span class="line">            <span class="keyword">char</span> c1 = s1.charAt(i);</span><br><span class="line">            <span class="keyword">char</span> c2 = s2.charAt(j);</span><br><span class="line">            <span class="keyword">char</span> c3 = s3.charAt(i+j+<span class="number">1</span>); <span class="comment">// notice +1</span></span><br><span class="line">            <span class="comment">// use if will quicker</span></span><br><span class="line">            dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = (dp[i][j+<span class="number">1</span>] &amp;&amp; c1==c3) ||</span><br><span class="line">                           (dp[i+<span class="number">1</span>][j] &amp;&amp; c2==c3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s1.length()][s2.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="98-validate-binary-search-tree-medium"><a href="#98-validate-binary-search-tree-medium" class="headerlink" title="#98-validate-binary-search-tree-medium"></a>#98-validate-binary-search-tree-medium</h4><p>Given a binary tree, determine if it is a valid binary search tree (BST).</p><p>Assume a BST is defined as follows:</p><ul><li>The left subtree of a node contains only nodes with keys <strong>less than</strong> the node’s key.</li><li>The right subtree of a node contains only nodes with keys <strong>greater than</strong> the node’s key.</li><li>Both the left and right subtrees must also be binary search trees.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// inorder iteration</span></span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(root);</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode curr = stack.pop();</span><br><span class="line">            <span class="comment">// do inorder here</span></span><br><span class="line">            <span class="keyword">if</span>(prev==<span class="keyword">null</span> || prev.val&lt;curr.val)</span><br><span class="line">                prev = curr;    <span class="comment">// valid, mush &lt; </span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            root = curr.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="100-same-tree-easy"><a href="#100-same-tree-easy" class="headerlink" title="#100-same-tree-easy"></a>#100-same-tree-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSameTree</span><span class="params">(TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="keyword">null</span> &amp;&amp; q==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="keyword">null</span> || q==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(p.val == q.val)</span><br><span class="line">        <span class="keyword">return</span> isSameTree(p.left,q.left) &amp;&amp; isSameTree(p.right,q.right);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="101-symmetric-tree-easy"><a href="#101-symmetric-tree-easy" class="headerlink" title="#101-symmetric-tree-easy"></a>#101-symmetric-tree-easy</h4><p><strong>recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root == <span class="keyword">null</span> || isSymmetric(root.left,root.right);        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode left,TreeNode right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="keyword">null</span> || right == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(left.val == right.val)</span><br><span class="line">        <span class="keyword">return</span> isSymmetric(left.left,right.right) &amp;&amp;</span><br><span class="line">                isSymmetric(left.right,right.left);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root.left);</span><br><span class="line">    queue.offer(root.right);</span><br><span class="line">    <span class="keyword">while</span>(queue.size() &gt;= <span class="number">2</span>)&#123;</span><br><span class="line">        TreeNode left = queue.poll();</span><br><span class="line">        TreeNode right = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(left==<span class="keyword">null</span> &amp;&amp; right==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(left==<span class="keyword">null</span> || right==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(left.val != right.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        queue.add(left.left);</span><br><span class="line">        queue.add(right.right);</span><br><span class="line">        queue.add(left.right);</span><br><span class="line">        queue.add(right.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="102-level-order-traversal-medium"><a href="#102-level-order-traversal-medium" class="headerlink" title="#102-level-order-traversal-medium"></a>#102-level-order-traversal-medium</h4><p><strong>Iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        List&lt;Integer&gt; level = <span class="keyword">new</span> ArrayList&lt;&gt;(size);</span><br><span class="line">        result.add(level);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            level.add(curr.val);</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>DFS recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    dfs(result,root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, TreeNode root,<span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(result.size() &lt; level + <span class="number">1</span>)</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    result.get(level).add(root.val);</span><br><span class="line">    dfs(result,root.left,level+<span class="number">1</span>);</span><br><span class="line">    dfs(result,root.right,level+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>DFS iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Map&lt;TreeNode,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    map.put(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode node = stack.pop();</span><br><span class="line">        <span class="keyword">int</span> level = map.get(node);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(level + <span class="number">1</span> &gt; result.size())</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        </span><br><span class="line">        result.get(level).add(node.val);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(node.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(node.right);</span><br><span class="line">            map.put(node.right,level+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(node.left);</span><br><span class="line">            map.put(node.left,level+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Level order II</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrderBottom(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        List&lt;Integer&gt; level = <span class="keyword">new</span> ArrayList&lt;&gt;(size);</span><br><span class="line">        result.add(<span class="number">0</span>,level);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            level.add(curr.val);</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="103-zigzag-level-order-traversal-medium"><a href="#103-zigzag-level-order-traversal-medium" class="headerlink" title="#103-zigzag-level-order-traversal-medium"></a>#103-zigzag-level-order-traversal-medium</h4><p>Given a binary tree, return the <em>zigzag level order</em> traversal of its nodes’ values. (ie, from left to right, then right to left for the next level and alternate between).</p><p>For example:<br>Given binary tree <code>[3,9,20,null,null,15,7]</code>,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><p>return its zigzag level order traversal as:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [20,9],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; zigzagLevelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        List&lt;Integer&gt; level = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        result.add(level);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(cnt % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                level.add(curr.val);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                level.add(<span class="number">0</span>,curr.val);</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">        cnt ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="105-construct-tree-preorder-inorder-medium"><a href="#105-construct-tree-preorder-inorder-medium" class="headerlink" title="#105-construct-tree-preorder-inorder-medium"></a>#105-construct-tree-preorder-inorder-medium</h4><p>Given preorder and inorder traversal of a tree, construct the binary tree.</p><p><strong>Note:</strong><br>You may assume that duplicates do not exist in the tree.</p><p>For example, given</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">preorder = [3,9,20,15,7]</span><br><span class="line">inorder = [9,3,15,20,7]</span><br></pre></td></tr></table></figure><p>Return the following binary tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use preorder traverse root, inorder find left &amp; right</span></span><br><span class="line">    <span class="keyword">return</span> helper(preorder,inorder,<span class="number">0</span>,<span class="number">0</span>,inorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] preorder,<span class="keyword">int</span>[] inorder,<span class="keyword">int</span> preTail,<span class="keyword">int</span> inHead,<span class="keyword">int</span> inTail)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(inHead &gt; inTail || preTail==preorder.length)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(preorder[preTail]);</span><br><span class="line">    <span class="comment">// search node in inorder</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=inHead; i&lt;=inTail; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(inorder[i] == node.val)</span><br><span class="line">            idx = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// [inHead, i-1] left part, [i+1,inTail] right part</span></span><br><span class="line">    <span class="keyword">int</span> leftNode = preTail + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> rightNode = preTail + <span class="number">1</span> + idx - inHead;</span><br><span class="line">    node.left = helper(preorder,inorder,leftNode,inHead,idx-<span class="number">1</span>);</span><br><span class="line">    node.right = helper(preorder,inorder,rightNode,idx+<span class="number">1</span>,inTail);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="106-construct-tree-inorder-postorder-medium"><a href="#106-construct-tree-inorder-postorder-medium" class="headerlink" title="#106-construct-tree-inorder-postorder-medium"></a>#106-construct-tree-inorder-postorder-medium</h4><p>Given inorder and postorder traversal of a tree, construct the binary tree.</p><p><strong>Note:</strong><br>You may assume that duplicates do not exist in the tree.</p><p>For example, given</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inorder = [9,3,15,20,7]</span><br><span class="line">postorder = [9,15,7,20,3]</span><br></pre></td></tr></table></figure><p>Return the following binary tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// from postorder define root, left child,</span></span><br><span class="line">    <span class="comment">// from inorder define left half, right half</span></span><br><span class="line">    <span class="keyword">return</span> helper(inorder, postorder, <span class="number">0</span>, inorder.length-<span class="number">1</span>, <span class="number">0</span>, postorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder, <span class="keyword">int</span> inHead, <span class="keyword">int</span> inTail, <span class="keyword">int</span> postHead, <span class="keyword">int</span> postTail)</span></span>&#123;</span><br><span class="line">    <span class="comment">// postHead,postTail not matter</span></span><br><span class="line">    <span class="keyword">if</span>(inHead &gt; inTail || postHead &gt; postTail)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// use postTail define root</span></span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(postorder[postTail]);</span><br><span class="line">    <span class="comment">// define left half and right half, search in inorder</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=inHead; i&lt;=inTail; i++)</span><br><span class="line">        <span class="keyword">if</span>(inorder[i] == node.val)&#123;</span><br><span class="line">            idx = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// define left child and right child</span></span><br><span class="line">    <span class="keyword">int</span> leftNode = postHead + (idx - inHead - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> rightNode = leftNode + <span class="number">1</span>;</span><br><span class="line">    node.left = helper(inorder,postorder,inHead,idx-<span class="number">1</span>,postHead,leftNode);</span><br><span class="line">    node.right = helper(inorder,postorder,idx+<span class="number">1</span>,inTail,rightNode,postTail-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="109-sorted-list-to-bst-medium"><a href="#109-sorted-list-to-bst-medium" class="headerlink" title="#109-sorted-list-to-bst-medium"></a>#109-sorted-list-to-bst-medium</h4><p>Given a singly linked list where elements are sorted in ascending order, convert it to a height balanced BST.</p><p>For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of <em>every</em> node never differ by more than 1.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Given the sorted linked list: [-10,-3,0,5,9],</span><br><span class="line"></span><br><span class="line">One possible answer is: [0,-3,9,-10,null,5], which represents the following height balanced BST:</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     / \</span><br><span class="line">   -3   9</span><br><span class="line">   /   /</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// from here see tail init null, exclude</span></span><br><span class="line">    <span class="keyword">return</span> helper(head,<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">helper</span><span class="params">(ListNode head,ListNode tail)</span></span>&#123;</span><br><span class="line">    <span class="comment">// tail exclude</span></span><br><span class="line">    <span class="keyword">if</span>(head == tail)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="comment">// find mid when fast reach tail</span></span><br><span class="line">    <span class="keyword">while</span>(fast != tail &amp;&amp; fast.next != tail)&#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// mid is slow</span></span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(slow.val);</span><br><span class="line">    node.left = helper(head,slow);<span class="comment">// mid exclude</span></span><br><span class="line">    node.right = helper(slow.next,tail);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="110-balanced-binary-tree-easy"><a href="#110-balanced-binary-tree-easy" class="headerlink" title="#110-balanced-binary-tree-easy"></a>#110-balanced-binary-tree-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">int</span> left = depth(root.left);</span><br><span class="line">    <span class="keyword">int</span> right = depth(root.right);</span><br><span class="line">    <span class="keyword">if</span>(Math.abs(left - right) &gt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> isBalanced(root.left) &amp;&amp; isBalanced(root.right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">depth</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root == <span class="keyword">null</span> ? <span class="number">0</span> :</span><br><span class="line">          <span class="number">1</span> + Math.max(depth(root.left),depth(root.right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="111-min-depth-of-binary-tree-easy"><a href="#111-min-depth-of-binary-tree-easy" class="headerlink" title="#111-min-depth-of-binary-tree-easy"></a>#111-min-depth-of-binary-tree-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left = minDepth(root.left);</span><br><span class="line">    <span class="keyword">int</span> right = minDepth(root.right);</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="number">0</span> || right == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> left + right + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Math.min(left,right) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="112-path-sum-easy"><a href="#112-path-sum-easy" class="headerlink" title="#112-path-sum-easy"></a>#112-path-sum-easy</h4><p>Given a binary tree and a sum, determine if the tree has a root-to-leaf path such that adding up all the values along the path equals the given sum.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// when leaf node</span></span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==sum)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> hasPathSum(root.left,sum-root.val) || hasPathSum(root.right,sum-root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="113-path-sum-ii-medium"><a href="#113-path-sum-ii-medium" class="headerlink" title="#113-path-sum-ii-medium"></a>#113-path-sum-ii-medium</h4><p>Given a binary tree and a sum, find all root-to-leaf paths where each path’s sum equals the given sum.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, <span class="keyword">int</span> sum) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    helper(root,sum,result,<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(TreeNode root,<span class="keyword">int</span> sum,List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; temp)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// add here, add when null=&gt;duplicate result</span></span><br><span class="line">    temp.add(root.val);</span><br><span class="line">    <span class="comment">// valid result added</span></span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==sum)</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    <span class="comment">// left and right</span></span><br><span class="line">    helper(root.left,sum-root.val,result,temp);</span><br><span class="line">    helper(root.right,sum-root.val,result,temp);</span><br><span class="line">    <span class="comment">// remove curr</span></span><br><span class="line">    temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="114-flatten-binary-tree-to-linked-list-medium"><a href="#114-flatten-binary-tree-to-linked-list-medium" class="headerlink" title="#114-flatten-binary-tree-to-linked-list-medium"></a>#114-flatten-binary-tree-to-linked-list-medium</h4><p>Given a binary tree, flatten it to a linked list in-place.</p><p>For example, given the following tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \   \</span><br><span class="line">3   4   6</span><br></pre></td></tr></table></figure><p>The flattened tree should look like:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line">   \</span><br><span class="line">    3</span><br><span class="line">     \</span><br><span class="line">      4</span><br><span class="line">       \</span><br><span class="line">        5</span><br><span class="line">         \</span><br><span class="line">          6</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    TreeNode prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// use reverse post order</span></span><br><span class="line">        flatten(root.right);</span><br><span class="line">        flatten(root.left);</span><br><span class="line">        root.right = prev;</span><br><span class="line">        root.left = <span class="keyword">null</span>;</span><br><span class="line">        prev = root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="115-distinct-subsequences-hard"><a href="#115-distinct-subsequences-hard" class="headerlink" title="#115-distinct-subsequences-hard"></a>#115-distinct-subsequences-hard</h4><p>Given a string <strong>S</strong> and a string <strong>T</strong>, count the number of distinct subsequences of <strong>S</strong> which equals <strong>T</strong>.</p><p>A subsequence of a string is a new string which is formed from the original string by deleting some (can be none) of the characters without disturbing the relative positions of the remaining characters. (ie, <code>&quot;ACE&quot;</code> is a subsequence of <code>&quot;ABCDE&quot;</code> while <code>&quot;AEC&quot;</code> is not).</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Input: S = &quot;rabbbit&quot;, T = &quot;rabbit&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation:</span><br><span class="line"></span><br><span class="line">As shown below, there are 3 ways you can generate &quot;rabbit&quot; from S.</span><br><span class="line">(The caret symbol ^ means the chosen letters)</span><br><span class="line"></span><br><span class="line">rabbbit</span><br><span class="line">^^^^ ^^</span><br><span class="line">rabbbit</span><br><span class="line">^^ ^^^^</span><br><span class="line">rabbbit</span><br><span class="line">^^^ ^^^</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinct</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to regex 10</span></span><br><span class="line">    <span class="comment">// use dp</span></span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || t==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// rows t, columns s, remove char from s</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[t.length()+<span class="number">1</span>][s.length()+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// init first row: remove all to get ""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>; col&lt;=s.length(); col++)</span><br><span class="line">        dp[<span class="number">0</span>][col] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// init first col: should all be 0: "" cannot get un-""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;t.length(); i++)&#123;    <span class="comment">// for t</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;s.length(); j++)&#123; <span class="comment">// for s</span></span><br><span class="line">            <span class="comment">// 1. if same char: keep it || remove it</span></span><br><span class="line">            <span class="comment">// if keep dp[i][j] = dp[i-1][j-1];</span></span><br><span class="line">            <span class="comment">// if remove dp[i][j] = dp[i][j-1];</span></span><br><span class="line">            <span class="keyword">if</span>(s.charAt(j) == t.charAt(i))&#123;</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j] + dp[i+<span class="number">1</span>][j];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;  <span class="comment">// 2. if not same: remove it</span></span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i+<span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[t.length()][s.length()];        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="116-populating-next-right-pointer-medium"><a href="#116-populating-next-right-pointer-medium" class="headerlink" title="#116-populating-next-right-pointer-medium"></a>#116-populating-next-right-pointer-medium</h4><p>Given a binary tree</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">struct TreeLinkNode &#123;</span><br><span class="line">  TreeLinkNode *left;</span><br><span class="line">  TreeLinkNode *right;</span><br><span class="line">  TreeLinkNode *next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to <code>NULL</code>.</p><p>Initially, all next pointers are set to <code>NULL</code>.</p><p>After calling your function, the tree should look like:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     1 -&gt; NULL</span><br><span class="line">   /  \</span><br><span class="line">  2 -&gt; 3 -&gt; NULL</span><br><span class="line"> / \  / \</span><br><span class="line">4-&gt;5-&gt;6-&gt;7 -&gt; NULL</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(TreeLinkNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    TreeLinkNode level = root, curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(level != <span class="keyword">null</span>)&#123;</span><br><span class="line">        curr = level;</span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                curr.left.next = curr.right;</span><br><span class="line">                <span class="keyword">if</span>(curr.next != <span class="keyword">null</span>)</span><br><span class="line">                    curr.right.next = curr.next.left;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        level = level.left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="117-populating-next-right-pointer-ii-medium"><a href="#117-populating-next-right-pointer-ii-medium" class="headerlink" title="#117-populating-next-right-pointer-ii-medium"></a>#117-populating-next-right-pointer-ii-medium</h4><p>Given the following binary tree,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     1</span><br><span class="line">   /  \</span><br><span class="line">  2    3</span><br><span class="line"> / \    \</span><br><span class="line">4   5    7</span><br></pre></td></tr></table></figure><p>After calling your function, the tree should look like:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     1 -&gt; NULL</span><br><span class="line">   /  \</span><br><span class="line">  2 -&gt; 3 -&gt; NULL</span><br><span class="line"> / \    \</span><br><span class="line">4-&gt; 5 -&gt; 7 -&gt; NULL</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(TreeLinkNode root)</span> </span>&#123;</span><br><span class="line">    TreeLinkNode curr = root;   <span class="comment">// one high level</span></span><br><span class="line">    TreeLinkNode head = <span class="keyword">null</span>, prev = <span class="keyword">null</span>; <span class="comment">// two low level</span></span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// in curr level</span></span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(prev == <span class="keyword">null</span>)&#123;   <span class="comment">// no head found</span></span><br><span class="line">                    head = curr.left;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    prev.next = curr.left;</span><br><span class="line">                &#125;</span><br><span class="line">                prev = curr.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(prev == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    head = curr.right;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    prev.next = curr.right;</span><br><span class="line">                &#125;</span><br><span class="line">                prev = curr.right;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// jump to next level head &amp; reset</span></span><br><span class="line">        curr = head;</span><br><span class="line">        head = <span class="keyword">null</span>;</span><br><span class="line">        prev = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="118-pascals-triangle-easy"><a href="#118-pascals-triangle-easy" class="headerlink" title="#118-pascals-triangle-easy"></a>#118-pascals-triangle-easy</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: 5</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">     [1],</span><br><span class="line">    [1,1],</span><br><span class="line">   [1,2,1],</span><br><span class="line">  [1,3,3,1],</span><br><span class="line"> [1,4,6,4,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; generate(<span class="keyword">int</span> numRows) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">1</span>; row&lt;=numRows; row++)&#123;</span><br><span class="line">        temp.add(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=temp.size()-<span class="number">2</span>; i&gt;<span class="number">0</span>; i--)</span><br><span class="line">            temp.set(i,temp.get(i)+temp.get(i-<span class="number">1</span>));</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="120-triangle-medium"><a href="#120-triangle-medium" class="headerlink" title="#120-triangle-medium"></a>#120-triangle-medium</h4><p>Given a triangle, find the minimum path sum from top to bottom. Each step you may move to adjacent numbers on the row below.</p><p>For example, given the following triangle</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">     [2],</span><br><span class="line">    [3,4],</span><br><span class="line">   [6,5,7],</span><br><span class="line">  [4,1,8,3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>The minimum path sum from top to bottom is <code>11</code> (i.e., 2 + 3 + 5 + 1 = 11).</p><p><strong>Note:</strong><br>Bonus point if you are able to do this using only <em>O</em>(<em>n</em>) extra space, where <em>n</em> is the total number of rows in the triangle.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// add bottom up, so that space O(1)</span></span><br><span class="line">    <span class="keyword">if</span>(triangle.size() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = triangle.size();</span><br><span class="line">    <span class="comment">// n+1 for the last line</span></span><br><span class="line">    <span class="keyword">int</span>[] memo = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// for location i, check i &amp; i+1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;triangle.get(i).size(); j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> curr = triangle.get(i).get(j);</span><br><span class="line">            <span class="comment">// memo is init as 0s</span></span><br><span class="line">            memo[j] = Math.min(memo[j],memo[j+<span class="number">1</span>]) + curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> memo[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="126-word-ladder-ii-hard"><a href="#126-word-ladder-ii-hard" class="headerlink" title="#126-word-ladder-ii-hard"></a>#126-word-ladder-ii-hard</h4><p>Given two words (<em>beginWord</em> and <em>endWord</em>), and a dictionary’s word list, find all shortest transformation sequence(s) from <em>beginWord</em> to <em>endWord</em>, such that:</p><ol><li>Only one letter can be changed at a time</li><li>Each transformed word must exist in the word list. Note that <em>beginWord</em> is <em>not</em> a transformed word.</li></ol><p><strong>Note:</strong></p><ul><li>Return an empty list if there is no such transformation sequence.</li><li>All words have the same length.</li><li>All words contain only lowercase alphabetic characters.</li><li>You may assume no duplicates in the word list.</li><li>You may assume <em>beginWord</em> and <em>endWord</em> are non-empty and are not the same.</li></ul><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = &quot;hit&quot;,</span><br><span class="line">endWord = &quot;cog&quot;,</span><br><span class="line">wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">  [&quot;hit&quot;,&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;cog&quot;],</span><br><span class="line">  [&quot;hit&quot;,&quot;hot&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = &quot;hit&quot;</span><br><span class="line">endWord = &quot;cog&quot;</span><br><span class="line">wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]</span><br><span class="line"></span><br><span class="line">Output: []</span><br><span class="line"></span><br><span class="line">Explanation: The endWord &quot;cog&quot; is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure><p><strong>BFS + DFS, check path dist to optimize</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String beginWord, String endWord, List&lt;String&gt; wordList) &#123;</span><br><span class="line">        <span class="comment">// use maps to save nearest path len, and child</span></span><br><span class="line">        List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">        Map&lt;String,Set&lt;String&gt;&gt; children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;String,Integer&gt; dist = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// init </span></span><br><span class="line">        bfs(beginWord,endWord,dict,children,dist);</span><br><span class="line">        dfs(beginWord,endWord,children,dist,result,<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String beginWord,String endWord,Set&lt;String&gt; dict,Map&lt;String,Set&lt;String&gt;&gt; children,Map&lt;String,Integer&gt; dist)</span></span>&#123;</span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.offer(beginWord);</span><br><span class="line">        <span class="keyword">int</span> level = <span class="number">1</span>;</span><br><span class="line">        dist.put(beginWord,level);</span><br><span class="line">        <span class="keyword">boolean</span> findEnd = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            <span class="keyword">int</span> size = queue.size();</span><br><span class="line">            level ++;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">                String curr = queue.poll();</span><br><span class="line">                Set&lt;String&gt; child = children.get(curr);</span><br><span class="line">                <span class="comment">// make sure a word's children init once, </span></span><br><span class="line">                <span class="keyword">if</span>(child == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    child = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">                    children.put(curr,child);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="comment">// meet twice, dup visited, </span></span><br><span class="line">                    <span class="comment">// optimize here or TLE</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="comment">// check all possible nei in dict</span></span><br><span class="line">                <span class="keyword">char</span>[] currChar = curr.toCharArray();</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;currChar.length; ++j)&#123;</span><br><span class="line">                    <span class="keyword">char</span> prev = currChar[j];</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>; ++c)&#123;</span><br><span class="line">                        <span class="keyword">if</span>(prev == c)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        currChar[j] = c;</span><br><span class="line">                        String nei = String.valueOf(currChar);</span><br><span class="line">                        <span class="keyword">if</span>(dict.contains(nei))&#123;</span><br><span class="line">                            queue.offer(nei);</span><br><span class="line">                            child.add(nei);</span><br><span class="line">                            <span class="keyword">if</span>(!dist.containsKey(nei))</span><br><span class="line">                                dist.put(nei,level);</span><br><span class="line">                            <span class="keyword">if</span>(endWord.equals(nei))</span><br><span class="line">                                <span class="comment">// break after iterate this level</span></span><br><span class="line">                                findEnd = <span class="keyword">true</span>;</span><br><span class="line">                            </span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    currChar[j] = prev; <span class="comment">// restore</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(findEnd)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// backtracking</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String curr,String endWord,Map&lt;String,Set&lt;String&gt;&gt; children,Map&lt;String,Integer&gt; dist,List&lt;List&lt;String&gt;&gt; result,List&lt;String&gt; path)</span></span>&#123;</span><br><span class="line">        path.add(curr);</span><br><span class="line">        <span class="keyword">if</span>(endWord.equals(curr))&#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Set&lt;String&gt; child = children.get(curr);</span><br><span class="line">            <span class="keyword">if</span>(child != <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">for</span>(String c : child)&#123;</span><br><span class="line">                    <span class="comment">// check if it's the nearest path</span></span><br><span class="line">                    <span class="keyword">if</span>(dist.get(curr) + <span class="number">1</span> == dist.get(c))</span><br><span class="line">                        dfs(c,endWord,children,dist,result,path);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Two end set BFS + DFS</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String beginWord, String endWord, List&lt;String&gt; wordList) &#123;</span><br><span class="line"><span class="comment">// use maps to save nearest path len, and child</span></span><br><span class="line">List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">Map&lt;String, List&lt;String&gt;&gt; children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">Map&lt;String, Integer&gt; dist = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">if</span>(!dict.contains(endWord))</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">bfs(beginWord, endWord, dict, children, dist);</span><br><span class="line">dfs(beginWord, endWord, children, result, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String beginWord, String endWord, Set&lt;String&gt; dict, Map&lt;String, List&lt;String&gt;&gt; children,</span></span></span><br><span class="line"><span class="function"><span class="params">Map&lt;String, Integer&gt; dist)</span> </span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> finish = <span class="keyword">false</span>, flip = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">Set&lt;String&gt; startSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">Set&lt;String&gt; endSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">startSet.add(beginWord);</span><br><span class="line">endSet.add(endWord);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!startSet.isEmpty()) &#123;</span><br><span class="line"><span class="keyword">if</span> (startSet.size() &gt; endSet.size()) &#123;</span><br><span class="line">Set&lt;String&gt; temp = startSet;</span><br><span class="line">startSet = endSet;</span><br><span class="line">endSet = temp;</span><br><span class="line">flip = !flip;</span><br><span class="line">&#125;</span><br><span class="line">finish = <span class="keyword">false</span>;</span><br><span class="line"><span class="comment">// remove 2 ends here</span></span><br><span class="line">dict.removeAll(startSet);</span><br><span class="line">dict.removeAll(endSet);</span><br><span class="line">Set&lt;String&gt; next = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String curr : startSet) &#123;</span><br><span class="line"><span class="keyword">char</span>[] currChar = curr.toCharArray();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; currChar.length; ++j) &#123;</span><br><span class="line"><span class="keyword">char</span> prev = currChar[j];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; ++c) &#123;</span><br><span class="line"><span class="keyword">if</span> (prev == c)</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">currChar[j] = c;</span><br><span class="line">String nei = String.valueOf(currChar);</span><br><span class="line">String root = flip ? nei : curr;</span><br><span class="line">String val = flip ? curr : nei;</span><br><span class="line">List&lt;String&gt; child = children.get(root);</span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line">child = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (dict.contains(nei)) &#123;</span><br><span class="line">child.add(val);</span><br><span class="line">children.put(root, child);</span><br><span class="line">next.add(nei);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// bug if child not added here, children map incomplete</span></span><br><span class="line"><span class="keyword">if</span> (endSet.contains(nei)) &#123;</span><br><span class="line">finish = <span class="keyword">true</span>;</span><br><span class="line">child.add(val);</span><br><span class="line">children.put(root, child);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">currChar[j] = prev; <span class="comment">// restore</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">startSet = next;</span><br><span class="line"><span class="keyword">if</span> (finish)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String curr, String endWord, Map&lt;String, List&lt;String&gt;&gt; children, List&lt;List&lt;String&gt;&gt; result,</span></span></span><br><span class="line"><span class="function"><span class="params">List&lt;String&gt; path)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (path.contains(curr))</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">path.add(curr);</span><br><span class="line"><span class="keyword">if</span> (endWord.equals(curr)) &#123;</span><br><span class="line">result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">List&lt;String&gt; child = children.get(curr);</span><br><span class="line"><span class="keyword">if</span> (child != <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">for</span> (String c : child) &#123;</span><br><span class="line">dfs(c, endWord, children, result, path);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Optimized one queue solution, remove level from dict idea from 2 end set solution above</strong></p><p><strong>No nearest dist map required</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String beginWord, String endWord, List&lt;String&gt; wordList) &#123;</span><br><span class="line"><span class="comment">// use maps to save nearest path len, and child</span></span><br><span class="line">List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">Map&lt;String, List&lt;String&gt;&gt; children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">Map&lt;String, Integer&gt; dist = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">if</span> (!dict.contains(endWord))</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">bfs(beginWord, endWord, dict, children);</span><br><span class="line">logger.info(<span class="string">"&#123;&#125;"</span>, children);</span><br><span class="line">dfs(beginWord, endWord, children, result, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String beginWord, String endWord, Set&lt;String&gt; dict, Map&lt;String, List&lt;String&gt;&gt; children)</span> </span>&#123;</span><br><span class="line">Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">queue.offer(beginWord);</span><br><span class="line"><span class="keyword">boolean</span> findEnd = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line"><span class="keyword">int</span> size = queue.size();</span><br><span class="line"><span class="comment">// !!!! remove level from set, to replace using dist</span></span><br><span class="line">           <span class="comment">// in this case no backward neighbors</span></span><br><span class="line">dict.removeAll(queue);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">String curr = queue.poll();</span><br><span class="line">List&lt;String&gt; child = children.get(curr);</span><br><span class="line"><span class="keyword">if</span> (child == <span class="keyword">null</span>)</span><br><span class="line">child = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="comment">// two parent reach one child, duplicate result in child's children</span></span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line"><span class="comment">// check all possible nei in dict</span></span><br><span class="line"><span class="keyword">char</span>[] currChar = curr.toCharArray();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; currChar.length; ++j) &#123;</span><br><span class="line"><span class="keyword">char</span> prev = currChar[j];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; ++c) &#123;</span><br><span class="line"><span class="keyword">if</span> (prev == c)</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">currChar[j] = c;</span><br><span class="line">String nei = String.valueOf(currChar);</span><br><span class="line"><span class="keyword">if</span> (dict.contains(nei)) &#123;</span><br><span class="line">queue.offer(nei);</span><br><span class="line">child.add(nei);</span><br><span class="line">children.put(curr, child);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (endWord.equals(nei))</span><br><span class="line"><span class="comment">// break after iterate this level</span></span><br><span class="line">findEnd = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">currChar[j] = prev; <span class="comment">// restore</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (findEnd)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// backtracking</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String curr, String endWord, Map&lt;String, List&lt;String&gt;&gt; children, List&lt;List&lt;String&gt;&gt; result,</span></span></span><br><span class="line"><span class="function"><span class="params">List&lt;String&gt; path)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (path.contains(curr))</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">path.add(curr);</span><br><span class="line"><span class="keyword">if</span> (endWord.equals(curr)) &#123;</span><br><span class="line">result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">List&lt;String&gt; child = children.get(curr);</span><br><span class="line"><span class="keyword">if</span> (child != <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">for</span> (String c : child) &#123;</span><br><span class="line">dfs(c, endWord, children, result, path);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="127-word-ladder-medium"><a href="#127-word-ladder-medium" class="headerlink" title="#127-word-ladder-medium"></a>#127-word-ladder-medium</h4><p>Given two words (<em>beginWord</em> and <em>endWord</em>), and a dictionary’s word list, find the length of shortest transformation sequence from <em>beginWord</em> to <em>endWord</em>, such that:</p><ol><li>Only one letter can be changed at a time.</li><li>Each transformed word must exist in the word list. Note that <em>beginWord</em> is <em>not</em> a transformed word.</li></ol><p><strong>Note:</strong></p><ul><li>Return 0 if there is no such transformation sequence.</li><li>All words have the same length.</li><li>All words contain only lowercase alphabetic characters.</li><li>You may assume no duplicates in the word list.</li><li>You may assume <em>beginWord</em> and <em>endWord</em> are non-empty and are not the same.</li></ul><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = &quot;hit&quot;,</span><br><span class="line">endWord = &quot;cog&quot;,</span><br><span class="line">wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]</span><br><span class="line"></span><br><span class="line">Output: 5</span><br><span class="line"></span><br><span class="line">Explanation: As one shortest transformation is &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;,</span><br><span class="line">return its length 5.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = &quot;hit&quot;</span><br><span class="line">endWord = &quot;cog&quot;</span><br><span class="line">wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]</span><br><span class="line"></span><br><span class="line">Output: 0</span><br><span class="line"></span><br><span class="line">Explanation: The endWord &quot;cog&quot; is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(beginWord == <span class="keyword">null</span> || endWord == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    <span class="keyword">if</span>(!dict.contains(endWord))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(beginWord);</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;    <span class="comment">// return depth of level to reach endword</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        len ++;</span><br><span class="line">        <span class="comment">// remember use level, otherwise wrong</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> level=<span class="number">0</span>; level&lt;size; ++level)&#123;</span><br><span class="line">            <span class="keyword">char</span>[] curr = queue.poll().toCharArray();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.length; ++i)&#123;</span><br><span class="line">                <span class="comment">// replace curr[i] with a to z</span></span><br><span class="line">                <span class="keyword">char</span> prev = curr[i];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>; ++c)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(c != prev)&#123;  <span class="comment">// prone</span></span><br><span class="line">                        curr[i] = c;</span><br><span class="line">                        String newWord = String.valueOf(curr);</span><br><span class="line">                        <span class="keyword">if</span>(dict.contains(newWord))&#123;</span><br><span class="line">                            <span class="keyword">if</span>(newWord.equals(endWord))</span><br><span class="line">                                <span class="comment">// should poll in next level so +1</span></span><br><span class="line">                                <span class="keyword">return</span> len + <span class="number">1</span>;</span><br><span class="line">                            queue.offer(newWord);</span><br><span class="line">                            dict.remove(newWord);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                curr[i] = prev;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Optimized using to direction set:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs: optimized using two ends</span></span><br><span class="line">    <span class="keyword">if</span>(beginWord == <span class="keyword">null</span> || endWord == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    <span class="keyword">if</span>(!dict.contains(endWord))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Set&lt;String&gt; startSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; endSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    startSet.add(beginWord);</span><br><span class="line">    endSet.add(endWord);</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!startSet.isEmpty() &amp;&amp; !endSet.isEmpty())&#123;</span><br><span class="line">        <span class="comment">// traverse smaller set to optimize</span></span><br><span class="line">        <span class="keyword">if</span>(startSet.size() &gt; endSet.size())&#123;</span><br><span class="line">            Set&lt;String&gt; temp = startSet;</span><br><span class="line">            startSet = endSet;</span><br><span class="line">            endSet = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        len ++;</span><br><span class="line">        <span class="comment">// update next level startSet</span></span><br><span class="line">        Set&lt;String&gt; nextSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String s : startSet)&#123;</span><br><span class="line">            <span class="keyword">char</span>[] curr = s.toCharArray();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.length; ++i)&#123;</span><br><span class="line">                <span class="keyword">char</span> prev = curr[i];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>; ++c)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(c == prev) </span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    curr[i] = c;</span><br><span class="line">                    String next = String.valueOf(curr);</span><br><span class="line">                    <span class="comment">// if next is add to endSet,</span></span><br><span class="line">                    <span class="comment">// it's possible its already remove from dict</span></span><br><span class="line">                    <span class="keyword">if</span>(endSet.contains(next))</span><br><span class="line">                        <span class="keyword">return</span> len + <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span>(dict.contains(next))&#123;</span><br><span class="line">                        nextSet.add(next);</span><br><span class="line">                        dict.remove(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                curr[i] = prev; <span class="comment">// restore</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        startSet = nextSet;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="128-longest-consecutive-sequence-hard"><a href="#128-longest-consecutive-sequence-hard" class="headerlink" title="#128-longest-consecutive-sequence-hard"></a>#128-longest-consecutive-sequence-hard</h4><p>Given an unsorted array of integers, find the length of the longest consecutive elements sequence.</p><p>Your algorithm should run in O(<em>n</em>) complexity.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [100, 4, 200, 1, 3, 2]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.</span><br></pre></td></tr></table></figure><p><strong>Using sort O(nlogn):</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">1</span>, len = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;nums.length; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] == nums[i-<span class="number">1</span>] + <span class="number">1</span>)</span><br><span class="line">            maxLen = Math.max(maxLen,++len);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] == nums[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            len = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using set,O(n)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// union find using set</span></span><br><span class="line">    <span class="comment">// find the head (head - 1 not exist)</span></span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)</span><br><span class="line">        set.add(num);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="comment">// find a head</span></span><br><span class="line">        <span class="keyword">if</span>(!set.contains(num - <span class="number">1</span>))&#123;</span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(set.contains(++num))</span><br><span class="line">                len ++;</span><br><span class="line">            result = Math.max(result,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="130-surrounded-regions"><a href="#130-surrounded-regions" class="headerlink" title="#130-surrounded-regions"></a>#130-surrounded-regions</h4><p>Given a 2D board containing <code>&#39;X&#39;</code> and <code>&#39;O&#39;</code> (the <strong>letter</strong> O), capture all regions surrounded by <code>&#39;X&#39;</code>.</p><p>A region is captured by flipping all <code>&#39;O&#39;</code>s into <code>&#39;X&#39;</code>s in that surrounded region.</p><p>For example,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X O O X</span><br><span class="line">X X O X</span><br><span class="line">X O X X</span><br></pre></td></tr></table></figure><p>After running your function, the board should be:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X X X X</span><br><span class="line">X X X X</span><br><span class="line">X O X X</span><br></pre></td></tr></table></figure><p><strong>Notice overflow case: </strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">OOOOOOOOOO</span><br><span class="line">XXXXXXXXXO</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">OXXXXXXXXX</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">XXXXXXXXXO</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">OXXXXXXXXX</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">XXXXXXXXXO</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">OOOOOOOOOOOX</span><br><span class="line">XXXXXXXXXXOX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XOXXXXXXXXXX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XXXXXXXXXXOX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XOXXXXXXXXXX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XXXXXXXXXXOX</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// if surrounded, must at edge</span></span><br><span class="line">    <span class="comment">// check edge set 0 to 1</span></span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span>||board.length==<span class="number">0</span>||board[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// set first last row</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)&#123;</span><br><span class="line">        check(board,m,n,<span class="number">0</span>,j);</span><br><span class="line">        <span class="keyword">if</span>(m &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,m-<span class="number">1</span>,j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set left right col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;m; i++)&#123;</span><br><span class="line">        check(board,m,n,i,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(n &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i,n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set 1 to 0, 0 to X</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'1'</span>)</span><br><span class="line">                board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(board[i][j] == <span class="string">'O'</span>)</span><br><span class="line">                board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">char</span>[][] board,<span class="keyword">int</span> m,<span class="keyword">int</span> n,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="comment">// use trick avoid TLE, skip first row and left col</span></span><br><span class="line">    <span class="comment">// skip only one not both for best performance</span></span><br><span class="line">    <span class="keyword">if</span>(board[i][j] == <span class="string">'O'</span>)&#123;</span><br><span class="line">        board[i][j] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="comment">// use i&gt;1 instead of i&gt;=1</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i-<span class="number">1</span>,j);</span><br><span class="line">        <span class="keyword">if</span>(i &lt; m-<span class="number">1</span>)</span><br><span class="line">        check(board,m,n,i+<span class="number">1</span>,j);</span><br><span class="line">        <span class="comment">// use j&gt;1 instead of j&gt;=1</span></span><br><span class="line">        <span class="keyword">if</span>(j &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i,j-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(j &lt; n-<span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i,j+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="133-clone-graph-medium"><a href="#133-clone-graph-medium" class="headerlink" title="#133-clone-graph-medium"></a>#133-clone-graph-medium</h4><p>Clone an undirected graph. Each node in the graph contains a <code>label</code> and a list of its <code>neighbors</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for undirected graph.</span></span><br><span class="line"><span class="comment"> * class UndirectedGraphNode &#123;</span></span><br><span class="line"><span class="comment"> *     int label;</span></span><br><span class="line"><span class="comment"> *     List&lt;UndirectedGraphNode&gt; neighbors;</span></span><br><span class="line"><span class="comment"> *     UndirectedGraphNode(int x) &#123; label = x; neighbors = new ArrayList&lt;UndirectedGraphNode&gt;(); &#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UndirectedGraphNode <span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode node)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer,UndirectedGraphNode&gt; visited = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> clone(node,visited);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> UndirectedGraphNode <span class="title">clone</span><span class="params">(UndirectedGraphNode node, Map&lt;Integer,UndirectedGraphNode&gt; visited)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(visited.containsKey(node.label))</span><br><span class="line">            <span class="keyword">return</span> visited.get(node.label);</span><br><span class="line">        UndirectedGraphNode newNode = <span class="keyword">new</span> UndirectedGraphNode(node.label);</span><br><span class="line">        visited.put(node.label,newNode);</span><br><span class="line">        <span class="keyword">for</span>(UndirectedGraphNode n : node.neighbors)&#123;</span><br><span class="line">            newNode.neighbors.add(clone(n,visited));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newNode;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="136-single-number-easy"><a href="#136-single-number-easy" class="headerlink" title="#136-single-number-easy"></a>#136-single-number-easy</h4><p>Given a <strong>non-empty</strong> array of integers, every element appears <em>twice</em> except for one. Find that single one.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)</span><br><span class="line">        result ^= num;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="138-copy-list-with-random-pointer-medium"><a href="#138-copy-list-with-random-pointer-medium" class="headerlink" title="#138-copy-list-with-random-pointer-medium"></a>#138-copy-list-with-random-pointer-medium</h4><p>A linked list is given such that each node contains an additional random pointer which could point to any node in the list or null.</p><p>Return a deep copy of the list.</p><p><strong>Use HashMap</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list with a random pointer.</span></span><br><span class="line"><span class="comment"> * class RandomListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int label;</span></span><br><span class="line"><span class="comment"> *     RandomListNode next, random;</span></span><br><span class="line"><span class="comment"> *     RandomListNode(int x) &#123; this.label = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> RandomListNode <span class="title">copyRandomList</span><span class="params">(RandomListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// map save prev node and new node pair</span></span><br><span class="line">        Map&lt;RandomListNode,RandomListNode&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        RandomListNode curr = head;</span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">            map.put(curr,<span class="keyword">new</span> RandomListNode(curr.label));</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// link all next and random</span></span><br><span class="line">        curr = head;</span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">            map.get(curr).next = map.get(curr.next);</span><br><span class="line">            map.get(curr).random = map.get(curr.random);</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> map.get(head);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3 pass solution:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> RandomListNode <span class="title">copyRandomList</span><span class="params">(RandomListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    RandomListNode curr = head, next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// first pass copy all node to its next</span></span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        next = curr.next;</span><br><span class="line">        curr.next = <span class="keyword">new</span> RandomListNode(curr.label);</span><br><span class="line">        curr.next.next = next;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// link random pointer</span></span><br><span class="line">    curr = head;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(curr.random != <span class="keyword">null</span>)</span><br><span class="line">            curr.next.random = curr.random.next;</span><br><span class="line">        curr = curr.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// extract new list 1 1 2 2 3 3 4 4 </span></span><br><span class="line">    RandomListNode dummy = <span class="keyword">new</span> RandomListNode(<span class="number">0</span>), prev = dummy;</span><br><span class="line">    curr = head;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        prev.next = curr.next;</span><br><span class="line">        curr.next = curr.next.next;</span><br><span class="line">        prev = prev.next;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="139-word-break-medium"><a href="#139-word-break-medium" class="headerlink" title="#139-word-break-medium"></a>#139-word-break-medium</h4><p>Given a <strong>non-empty</strong> string <em>s</em> and a dictionary <em>wordDict</em> containing a list of <strong>non-empty</strong> words, determine if <em>s</em> can be segmented into a space-separated sequence of one or more dictionary words.</p><p><strong>Note:</strong></p><ul><li>The same word in the dictionary may be reused multiple times in the segmentation.</li><li>You may assume the dictionary does not contain duplicate words.</li></ul><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;leetcode&quot;, wordDict = [&quot;leet&quot;, &quot;code&quot;]</span><br><span class="line">Output: true</span><br><span class="line">Explanation: Return true because &quot;leetcode&quot; can be segmented as &quot;leet code&quot;.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;applepenapple&quot;, wordDict = [&quot;apple&quot;, &quot;pen&quot;]</span><br><span class="line">Output: true</span><br><span class="line">Explanation: Return true because &quot;applepenapple&quot; can be segmented as &quot;apple pen apple&quot;.</span><br><span class="line">             Note that you are allowed to reuse a dictionary word.</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;catsandog&quot;, wordDict = [&quot;cats&quot;, &quot;dog&quot;, &quot;sand&quot;, &quot;and&quot;, &quot;cat&quot;]</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><p><strong>N^2 dp</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || wordDict == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length()+<span class="number">1</span>];</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordDict);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>; tail&lt;s.length(); ++tail)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> head=<span class="number">0</span>; head&lt;=tail; ++head)&#123;</span><br><span class="line">            <span class="keyword">if</span>(dp[head] &amp;&amp; dict.contains(s.substring(head,tail+<span class="number">1</span>)))&#123;</span><br><span class="line">                dp[tail+<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">//</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>dfs with memory</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || wordDict == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordDict);</span><br><span class="line">    <span class="keyword">return</span> backtrack(s,<span class="number">0</span>,dict,<span class="keyword">new</span> Boolean[s.length()]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">backtrack</span><span class="params">(String s,<span class="keyword">int</span> idx,Set&lt;String&gt; dict,Boolean[] memo)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == s.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(memo[idx] != <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> memo[idx];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx+<span class="number">1</span>; i&lt;=s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dict.contains(s.substring(idx,i)) &amp;&amp; backtrack(s,i,dict,memo))&#123;</span><br><span class="line">            memo[idx] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    memo[idx] = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>dfs using set to store invalid idx</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || wordDict == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordDict);</span><br><span class="line">    <span class="keyword">return</span> backtrack(s,<span class="number">0</span>,dict, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">backtrack</span><span class="params">(String s,<span class="keyword">int</span> idx,Set&lt;String&gt; dict,Set&lt;Integer&gt; invalid)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == s.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(invalid.contains(idx))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx+<span class="number">1</span>; i&lt;=s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dict.contains(s.substring(idx,i)) &amp;&amp; backtrack(s,i,dict,invalid))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    invalid.add(idx);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="141-linked-list-cycle-easy"><a href="#141-linked-list-cycle-easy" class="headerlink" title="#141-linked-list-cycle-easy"></a>#141-linked-list-cycle-easy</h4><p>Given a linked list, determine if it has a cycle in it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(fast==<span class="keyword">null</span> || fast.next==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">while</span>(fast !=<span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">        <span class="keyword">if</span>(slow == fast)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="142-linked-list-cycle-ii-medium"><a href="#142-linked-list-cycle-ii-medium" class="headerlink" title="#142-linked-list-cycle-ii-medium"></a>#142-linked-list-cycle-ii-medium</h4><p>Given a linked list, return the node where the cycle begins. If there is no cycle, return <code>null</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span> || head.next==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(fast==<span class="keyword">null</span> || fast.next==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">while</span>(head != fast)&#123;</span><br><span class="line">        head = head.next;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="146-lru-cache-hard"><a href="#146-lru-cache-hard" class="headerlink" title="#146-lru-cache-hard"></a>#146-lru-cache-hard</h4><p>Design and implement a data structure for <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU" target="_blank" rel="noopener">Least Recently Used (LRU) cache</a>. It should support the following operations: <code>get</code> and <code>put</code>.</p><p><code>get(key)</code> - Get the value (will always be positive) of the key if the key exists in the cache, otherwise return -1.<br><code>put(key, value)</code> - Set or insert the value if the key is not already present. When the cache reached its capacity, it should invalidate the least recently used item before inserting a new item.</p><p><strong>Follow up:</strong><br>Could you do both operations in <strong>O(1)</strong> time complexity?</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">LRUCache cache = new LRUCache( 2 /* capacity */ );</span><br><span class="line"></span><br><span class="line">cache.put(1, 1);</span><br><span class="line">cache.put(2, 2);</span><br><span class="line">cache.get(1);       // returns 1</span><br><span class="line">cache.put(3, 3);    // evicts key 2</span><br><span class="line">cache.get(2);       // returns -1 (not found)</span><br><span class="line">cache.put(4, 4);    // evicts key 1</span><br><span class="line">cache.get(1);       // returns -1 (not found)</span><br><span class="line">cache.get(3);       // returns 3</span><br><span class="line">cache.get(4);       // returns 4</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="comment">// implement double linked list</span></span><br><span class="line">    <span class="comment">// most recent at head</span></span><br><span class="line">    <span class="comment">// least recent at tail</span></span><br><span class="line">    DListNode head = <span class="keyword">null</span>;</span><br><span class="line">    DListNode tail = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">int</span> capacity = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer,DListNode&gt; map; <span class="comment">// save key, node</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// init head tail</span></span><br><span class="line">        head = <span class="keyword">new</span> DListNode();</span><br><span class="line">        tail = <span class="keyword">new</span> DListNode();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(key))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        DListNode node = map.get(key);</span><br><span class="line">        moveToHead(node);   <span class="comment">// most recent</span></span><br><span class="line">        <span class="keyword">return</span> node.val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// notice when same key, diff val</span></span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(key))&#123;</span><br><span class="line">            DListNode node = map.get(key);</span><br><span class="line">            node.setVal(value);</span><br><span class="line">            moveToHead(node);   <span class="comment">// active</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        DListNode node = <span class="keyword">new</span> DListNode(key,value);</span><br><span class="line">        <span class="keyword">if</span>(capacity == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> removeKey = removeLast();</span><br><span class="line">            <span class="comment">// remove least from list and map</span></span><br><span class="line">            map.remove(removeKey);</span><br><span class="line">            capacity ++;</span><br><span class="line">        &#125;</span><br><span class="line">        addFirst(node);</span><br><span class="line">        map.put(key,node);</span><br><span class="line">        capacity --;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// add most recent to head    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(DListNode node)</span></span>&#123;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = head.next;</span><br><span class="line">        head.next.prev = node;</span><br><span class="line">        head.next = node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// remove a node</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(DListNode node)</span></span>&#123;</span><br><span class="line">        node.prev.next = node.next;</span><br><span class="line">        node.next.prev = node.prev;</span><br><span class="line">        node.prev = <span class="keyword">null</span>;</span><br><span class="line">        node.next = <span class="keyword">null</span>;            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// remove least recent node, return key</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DListNode last = tail.prev;</span><br><span class="line">        remove(tail.prev);</span><br><span class="line">        <span class="keyword">return</span> last.key;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set to head</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(DListNode node)</span></span>&#123;</span><br><span class="line">        remove(node);</span><br><span class="line">        addFirst(node);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">DListNode</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        DListNode prev;</span><br><span class="line">        DListNode next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DListNode</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DListNode</span><span class="params">(<span class="keyword">int</span> key,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// use when put with same key</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVal</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="149-max-points-on-a-line-hard"><a href="#149-max-points-on-a-line-hard" class="headerlink" title="#149-max-points-on-a-line-hard"></a>#149-max-points-on-a-line-hard</h4><p>Given <em>n</em> points on a 2D plane, find the maximum number of points that lie on the same straight line.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a point.</span></span><br><span class="line"><span class="comment"> * class Point &#123;</span></span><br><span class="line"><span class="comment"> *     int x;</span></span><br><span class="line"><span class="comment"> *     int y;</span></span><br><span class="line"><span class="comment"> *     Point() &#123; x = 0; y = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Point(int a, int b) &#123; x = a; y = b; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(Point[] points)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// use O(n^2) to find all pair, store slope as key</span></span><br><span class="line">        <span class="keyword">if</span>(points == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// map: slope as key, count as val</span></span><br><span class="line">        Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// loop over all points</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;points.length; ++i)&#123;</span><br><span class="line">            <span class="comment">// check all lines with i and j</span></span><br><span class="line">            <span class="comment">// find max point on a line except i and overlap</span></span><br><span class="line">            <span class="keyword">int</span> max = <span class="number">0</span>, overlap = <span class="number">0</span>;</span><br><span class="line">            map.clear();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;points.length; ++j)&#123;</span><br><span class="line">                <span class="comment">// x,y pair as slope</span></span><br><span class="line">                <span class="keyword">int</span> x = points[j].x - points[i].x;</span><br><span class="line">                <span class="keyword">int</span> y = points[j].y - points[i].y;</span><br><span class="line">                <span class="keyword">if</span>(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>)&#123;   <span class="comment">// points overlap</span></span><br><span class="line">                    overlap ++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> gcd = getGCD(x,y);</span><br><span class="line">                <span class="comment">// vertical and horizontal covered</span></span><br><span class="line">                x /= gcd;</span><br><span class="line">                y /= gcd;</span><br><span class="line">                String key = x + <span class="string">","</span> + y;</span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(key))</span><br><span class="line">                    map.put(key,map.get(key)+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    map.put(key,<span class="number">1</span>);</span><br><span class="line">                <span class="comment">// max for one start point</span></span><br><span class="line">                max = Math.max(max,map.get(key));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// start point + other point on line + same as start</span></span><br><span class="line">            result = Math.max(result,max+overlap+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getGCD</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a == <span class="number">0</span> ? b : getGCD(b%a,a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="151-reverse-words-in-a-string-medium"><a href="#151-reverse-words-in-a-string-medium" class="headerlink" title="#151-reverse-words-in-a-string-medium"></a>#151-reverse-words-in-a-string-medium</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">reverseWords</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>[] input = s.toCharArray();    </span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(r &lt; input.length)&#123;</span><br><span class="line">        <span class="comment">// find head</span></span><br><span class="line">        l = r;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;input.length &amp;&amp; input[l]==<span class="string">' '</span>) l++;</span><br><span class="line">        <span class="comment">// find tail</span></span><br><span class="line">        r = l;</span><br><span class="line">        <span class="keyword">while</span>(r&lt;input.length &amp;&amp; input[r]!=<span class="string">' '</span>) r++;</span><br><span class="line">        <span class="comment">// reverse</span></span><br><span class="line">        reverse(input,l,r-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// reverse whole</span></span><br><span class="line">    reverse(input,<span class="number">0</span>,input.length-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> reduce(input);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">reduce</span><span class="params">(<span class="keyword">char</span>[] c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>; tail&lt;c.length; tail++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c[tail]==<span class="string">' '</span> &amp;&amp; (head==<span class="number">0</span> || c[tail-<span class="number">1</span>]==<span class="string">' '</span>))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        c[head++] = c[tail];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case last " "</span></span><br><span class="line">    <span class="keyword">if</span>(head &gt; <span class="number">0</span> &amp;&amp; c[head-<span class="number">1</span>] == <span class="string">' '</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(c,<span class="number">0</span>,head-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(c,<span class="number">0</span>,head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] c,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">char</span> temp = c[i];</span><br><span class="line">        c[i] = c[j];</span><br><span class="line">        c[j] = temp;</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="155-min-stack-medium"><a href="#155-min-stack-medium" class="headerlink" title="#155-min-stack-medium"></a>#155-min-stack-medium</h4><p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.</p><ul><li>push(x) – Push element x onto stack.</li><li>pop() – Removes the element on top of the stack.</li><li>top() – Get the top element.</li><li>getMin() – Retrieve the minimum element in the stack.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MinStack minStack = new MinStack();</span><br><span class="line">minStack.push(-2);</span><br><span class="line">minStack.push(0);</span><br><span class="line">minStack.push(-3);</span><br><span class="line">minStack.getMin();   --&gt; Returns -3.</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();      --&gt; Returns 0.</span><br><span class="line">minStack.getMin();   --&gt; Returns -2.</span><br></pre></td></tr></table></figure><p><strong>use 2 stack</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack;</span><br><span class="line">    Stack&lt;Integer&gt; minStack;</span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        minStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(minStack.size()==<span class="number">0</span> || minStack.peek()&gt;=x)</span><br><span class="line">            minStack.push(x);</span><br><span class="line">        stack.push(x);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.pop().equals(minStack.peek()))</span><br><span class="line">            minStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> minStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Push twice min:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack;</span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        min = Integer.MAX_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt;= min)&#123;<span class="comment">// should equal,</span></span><br><span class="line">            stack.push(min);</span><br><span class="line">            min = x;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(x);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.pop() == min)</span><br><span class="line">            min = stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.size() != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> min;</span><br><span class="line">        <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using linked list</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h4 id="156-binary-tree-upside-down-medium"><a href="#156-binary-tree-upside-down-medium" class="headerlink" title="#156-binary-tree-upside-down-medium"></a>#156-binary-tree-upside-down-medium</h4><p>Given a binary tree where all the right nodes are either leaf nodes with a sibling (a left node that shares the same parent node) or empty, flip it upside down and turn it into a tree where the original right nodes turned into left leaf nodes. Return the new root.</p><p>For example:<br>Given a binary tree <code>{1,2,3,4,5}</code>,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   3</span><br><span class="line"> / \</span><br><span class="line">4   5</span><br></pre></td></tr></table></figure><p>return the root of the binary tree <code>[4,5,2,#,#,3,1]</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   4</span><br><span class="line">  / \</span><br><span class="line"> 5   2</span><br><span class="line">    / \</span><br><span class="line">   3   1  </span><br><span class="line">   </span><br><span class="line">    1</span><br><span class="line">   / </span><br><span class="line">  2 -- 3</span><br><span class="line"> / </span><br><span class="line">4 -- 5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">upsideDownBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//     1</span></span><br><span class="line">    <span class="comment">//    / \</span></span><br><span class="line">    <span class="comment">//   2 - 3</span></span><br><span class="line">    <span class="comment">//  / \</span></span><br><span class="line">    <span class="comment">// 4 - 5    </span></span><br><span class="line">    TreeNode curr = root;</span><br><span class="line">    TreeNode next = <span class="keyword">null</span>, prev = <span class="keyword">null</span>, right = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        next = curr.left;   <span class="comment">// save left</span></span><br><span class="line">        </span><br><span class="line">        curr.left = right;</span><br><span class="line">        right = curr.right;</span><br><span class="line">        curr.right = prev;</span><br><span class="line">        </span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="159-longest-substring-with-at-most-2-distince-characters-hard"><a href="#159-longest-substring-with-at-most-2-distince-characters-hard" class="headerlink" title="#159-longest-substring-with-at-most-2-distince-characters-hard"></a>#159-longest-substring-with-at-most-2-distince-characters-hard</h4><p>Given a string <strong>s</strong> , find the length of the longest substring <strong>t</strong>  that contains <strong>at most</strong> 2 distinct characters.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;eceba&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: t is &quot;ece&quot; which its length is 3.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;ccaabbb&quot;</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: t is &quot;aabbb&quot; which its length is 5.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// sliding window</span></span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, maxLen = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>; tail&lt;s.length(); tail++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(bin[s.charAt(tail)] == <span class="number">0</span>)    <span class="comment">// new char</span></span><br><span class="line">            count ++;</span><br><span class="line">        bin[s.charAt(tail)] ++;</span><br><span class="line">        <span class="keyword">while</span>(count &gt; <span class="number">2</span>)&#123;   <span class="comment">// make it most 2</span></span><br><span class="line">            <span class="keyword">if</span>(bin[s.charAt(head)] == <span class="number">1</span>)</span><br><span class="line">                <span class="comment">// remove a distinct char</span></span><br><span class="line">                count --;</span><br><span class="line">            bin[s.charAt(head)] --;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line">        maxLen = Math.max(maxLen,tail-head+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="160-intersection-of-two-linked-list-easy"><a href="#160-intersection-of-two-linked-list-easy" class="headerlink" title="#160-intersection-of-two-linked-list-easy"></a>#160-intersection-of-two-linked-list-easy</h4><p>Write a program to find the node at which the intersection of two singly linked lists begins.</p><p>For example, the following two linked lists: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A:          a1 → a2</span><br><span class="line">                   ↘</span><br><span class="line">                     c1 → c2 → c3</span><br><span class="line">                   ↗            </span><br><span class="line">B:     b1 → b2 → b3</span><br></pre></td></tr></table></figure><p><strong>O(n) &amp; O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(headA==<span class="keyword">null</span> || headB==<span class="keyword">null</span>)    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode pointer1 = headA;</span><br><span class="line">    ListNode pointer2 = headB;</span><br><span class="line">    <span class="comment">// 2 iterations to overcome the difference</span></span><br><span class="line">    <span class="keyword">while</span>(pointer1 != pointer2)&#123;</span><br><span class="line">        pointer1 = pointer1==<span class="keyword">null</span>? headB:pointer1.next;</span><br><span class="line">        pointer2 = pointer2==<span class="keyword">null</span>? headA:pointer2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pointer1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="163-missing-ranges-medium"><a href="#163-missing-ranges-medium" class="headerlink" title="#163-missing-ranges-medium"></a>#163-missing-ranges-medium</h4><p>Given a sorted integer array where <strong>the range of elements are in the inclusive range [lower, upper]</strong>, return its missing ranges.</p><p>For example, given <code>[0, 1, 3, 50, 75]</code>, <em>lower</em> = 0 and <em>upper</em> = 99, return <code>[&quot;2&quot;, &quot;4-&gt;49&quot;, &quot;51-&gt;74&quot;, &quot;76-&gt;99&quot;].</code></p><p><strong>Corner cases:  Integer.min, Integer.max</strong>  <a href="#228-summary-ranges-medium">#228-summary-ranges-medium</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findMissingRanges</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> head = lower;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="comment">// deal with corner case</span></span><br><span class="line">        <span class="comment">// [-2147483648,-2147483648,0,2147483647,2147483647]</span></span><br><span class="line">        <span class="comment">// -2147483648</span></span><br><span class="line">        <span class="comment">// 2147483647</span></span><br><span class="line">        <span class="keyword">if</span>(nums[i] == Integer.MIN_VALUE)&#123;</span><br><span class="line">            <span class="comment">// tail cannot be nums[i] - 1</span></span><br><span class="line">            head = nums[i] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tail = nums[i] - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(tail &gt;= head)</span><br><span class="line">            result.add(head + (tail&gt;head? <span class="string">"-&gt;"</span>+tail : <span class="string">""</span>));           </span><br><span class="line">        <span class="comment">// deal with corner case, return here</span></span><br><span class="line">        <span class="keyword">if</span>(nums[i] == Integer.MAX_VALUE)</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        head = nums[i] + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// deal with last num</span></span><br><span class="line">    <span class="keyword">if</span>(head &lt;= upper)</span><br><span class="line">        result.add(head + (upper&gt;head? <span class="string">"-&gt;"</span>+upper : <span class="string">""</span>));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="165-compare-version-numbers-medium"><a href="#165-compare-version-numbers-medium" class="headerlink" title="#165-compare-version-numbers-medium"></a>#165-compare-version-numbers-medium</h4><p>Compare two version numbers <em>version1</em> and <em>version2</em>.<br>If <em>version1</em> &gt; <em>version2</em> return 1, if <em>version1</em> &lt; <em>version2</em> return -1, otherwise return 0.</p><p>You may assume that the version strings are non-empty and contain only digits and the <code>.</code> character.<br>The <code>.</code> character does not represent a decimal point and is used to separate number sequences.<br>For instance, <code>2.5</code> is not “two and a half” or “half way to version three”, it is the fifth second-level revision of the second first-level revision.</p><p>Here is an example of version numbers ordering:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0.1 &lt; 1.1 &lt; 1.2 &lt; 13.37  </span><br><span class="line">01 = 1, 1.0 = 1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareVersion</span><span class="params">(String version1, String version2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// . match a char</span></span><br><span class="line">    String[] v1 = version1.split(<span class="string">"\\."</span>);</span><br><span class="line">    String[] v2 = version2.split(<span class="string">"\\."</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;v1.length||j&lt;v2.length;)&#123;</span><br><span class="line">        <span class="keyword">int</span> num1 = i &gt;= v1.length ? <span class="number">0</span> : Integer.parseInt(v1[i++]);</span><br><span class="line">        <span class="keyword">int</span> num2 = j &gt;= v2.length ? <span class="number">0</span> : Integer.parseInt(v2[j++]);</span><br><span class="line">        <span class="keyword">if</span>(num1 == num2)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(num1 &lt; num2)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="169-majority-element-easy"><a href="#169-majority-element-easy" class="headerlink" title="#169-majority-element-easy"></a>#169-majority-element-easy</h4><p>Given an array of size <em>n</em>, find the majority element. The majority element is the element that appears <strong>more than</strong> <code>⌊ n/2 ⌋</code> times.</p><p>You may assume that the array is non-empty and the majority element always exist in the array.</p><p><strong>Can use sorting as well</strong> <a href="#229-majority-element-ii-medium">#229-majority-element-ii-medium</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Boyer-Moore Voting Algorithm</span></span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span>)</span><br><span class="line">            result = num;</span><br><span class="line">        count += num == result ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="200-Number-of-Islands-medium"><a href="#200-Number-of-Islands-medium" class="headerlink" title="200. Number of Islands (medium)"></a>200. Number of Islands (medium)</h4><p>Given a 2d grid map of <code>&#39;1&#39;</code>s (land) and <code>&#39;0&#39;</code>s (water), count the number of islands. An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically. You may assume all four edges of the grid are all surrounded by water.</p><p><strong>*Example 1:* Answer: 1</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">11110</span><br><span class="line">11010</span><br><span class="line">11000</span><br><span class="line">00000</span><br></pre></td></tr></table></figure><p><strong>*Example 2:*</strong> Answer: 3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">11000</span><br><span class="line">11000</span><br><span class="line">00100</span><br><span class="line">00011</span><br></pre></td></tr></table></figure><p><strong>dfs approach time O(mn), space O(mn) worst</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// dfs approach, connected component idea</span></span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="comment">// if 1, count ++, traverse neighbor</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                count ++;</span><br><span class="line">                dfs(grid,i,j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] grid,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// if out of bound, or not island</span></span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=m || j&lt;<span class="number">0</span> || j&gt;=n || grid[i][j]==<span class="string">'0'</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    grid[i][j] = <span class="string">'0'</span>;   <span class="comment">// set visited</span></span><br><span class="line">    <span class="comment">// visit up down left right</span></span><br><span class="line">    dfs(grid,i-<span class="number">1</span>,j);</span><br><span class="line">    dfs(grid,i+<span class="number">1</span>,j);</span><br><span class="line">    dfs(grid,i,j-<span class="number">1</span>);</span><br><span class="line">    dfs(grid,i,j+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BFS approach, time O(mn), space O(min(m,n))</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs approach</span></span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="comment">// only care about 1</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                count ++;</span><br><span class="line">                grid[i][j] = <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">int</span>[] curr = &#123;i,j&#125;;</span><br><span class="line">                Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">                queue.offer(curr);</span><br><span class="line">                <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">                    curr = queue.poll();</span><br><span class="line">                    <span class="keyword">int</span> row = curr[<span class="number">0</span>], col = curr[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span>(row-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; grid[row-<span class="number">1</span>][col] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row-<span class="number">1</span>,col&#125;);</span><br><span class="line">                        grid[row-<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(row+<span class="number">1</span>&lt;m &amp;&amp; grid[row+<span class="number">1</span>][col] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row+<span class="number">1</span>,col&#125;);</span><br><span class="line">                        grid[row+<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(col-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; grid[row][col-<span class="number">1</span>] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row,col-<span class="number">1</span>&#125;);</span><br><span class="line">                        grid[row][col-<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(col+<span class="number">1</span>&lt;n &amp;&amp; grid[row][col+<span class="number">1</span>] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row,col+<span class="number">1</span>&#125;);</span><br><span class="line">                        grid[row][col+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;                        </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>#### </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;1 ~ 100&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;101 ~ 200&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td sty
      
    
    </summary>
    
      <category term="leetcode" scheme="https://jliao011.github.io/categories/leetcode/"/>
    
    
  </entry>
  
  <entry>
    <title>LeetCode Solutions</title>
    <link href="https://jliao011.github.io/2018/05/27/leet-code/"/>
    <id>https://jliao011.github.io/2018/05/27/leet-code/</id>
    <published>2018-05-27T07:31:15.000Z</published>
    <updated>2018-07-13T05:18:10.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-200"><a href="#1-200" class="headerlink" title="1 ~ 200"></a>1 ~ 200</h4><table><thead><tr><th style="text-align:left">1 ~ 100</th><th style="text-align:left">101 ~ 200</th></tr></thead><tbody><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#101-symmetric-tree-easy">#101-symmetric-tree-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#102-level-order-traversal-medium">#102-level-order-traversal-medium</a></td></tr><tr><td style="text-align:left"><a href="#3-longest-substring-without-repeating-characters-medium">#3-longest-substring-without-repeating-characters-medium</a></td><td style="text-align:left"><a href="#103-zigzag-level-order-traversal-medium">#103-zigzag-level-order-traversal-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#105-construct-tree-preorder-inorder-medium">#105-construct-tree-preorder-inorder-medium</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#106-construct-tree-inorder-postorder-medium">#106-construct-tree-inorder-postorder-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#109-sorted-list-to-bst-medium">#109-sorted-list-to-bst-medium</a></strong></td></tr><tr><td style="text-align:left"><a href="#10-regular-expression-match-hard">#10-regular-expression-match-hard</a></td><td style="text-align:left"><a href="#110-balanced-binary-tree-easy">#110-balanced-binary-tree-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#111-min-depth-of-binary-tree-easy">#111-min-depth-of-binary-tree-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#112-path-sum-easy">#112-path-sum-easy</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#113-path-sum-ii-medium">#113-path-sum-ii-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#114-flatten-binary-tree-to-linked-list-medium">#114-flatten-binary-tree-to-linked-list-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#115-distinct-subsequences-hard">#115-distinct-subsequences-hard</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#116-populating-next-right-pointer-medium">#116-populating-next-right-pointer-medium</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><strong><a href="#117-populating-next-right-pointer-ii-medium">#117-populating-next-right-pointer-ii-medium</a></strong></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#118-pascals-triangle-easy">#118-pascals-triangle-easy</a></td></tr><tr><td style="text-align:left"><a href="#29-divide-two-integers-medium">#29-divide-two-integers-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#120-triangle-medium">#120-triangle-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#22-generate-parentheses-medium">#22-generate-parentheses-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#25-reverse-nodes-in-k-group-hard">#25-reverse-nodes-in-k-group-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#128-longest-consecutive-sequence-hard">#128-longest-consecutive-sequence-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#130-surrounded-regions">#130-surrounded-regions</a></td></tr><tr><td style="text-align:left"><a href="#31-next-permutation-medium">#31-next-permutation-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#32-longest-valid-parentheses-hard">#32-longest-valid-parentheses-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#33-search-in-rotated-sorted-array-medium">#33-search-in-rotated-sorted-array-medium</a></td><td style="text-align:left"><a href="#133-clone-graph-medium">#133-clone-graph-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#136-single-number-easy">#136-single-number-easy</a></td></tr><tr><td style="text-align:left"><a href="#38-count-and-say-easy">#38-count-and-say-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#41-first-missing-positive-hard">#41-first-missing-positive-hard</a></td><td style="text-align:left"><a href="#141-linked-list-cycle-easy">#141-linked-list-cycle-easy</a></td></tr><tr><td style="text-align:left"><a href="#42-trapping-rain-water-hard">#42-trapping-rain-water-hard</a></td><td style="text-align:left"><a href="#142-linked-list-cycle-ii-medium">#142-linked-list-cycle-ii-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#146-lru-cache-hard">#146-lru-cache-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#149-max-points-on-a-line-hard">#149-max-points-on-a-line-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#151-reverse-words-in-a-string-medium">#151-reverse-words-in-a-string-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#156-binary-tree-upside-down-medium">#156-binary-tree-upside-down-medium</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#159-longest-substring-with-at-most-2-distince-characters-hard">#159-longest-substring-with-at-most-2-distince-characters-hard</a></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#160-intersection-of-two-linked-list-easy">#160-intersection-of-two-linked-list-easy</a></td></tr><tr><td style="text-align:left"><a href="#61-rotate-list-medium">#61-rotate-list-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#62-unique-paths-medium">#62-unique-paths-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#63-unique-paths-ii-medium">#63-unique-paths-ii-medium</a></td><td style="text-align:left"><a href="#163-missing-ranges-medium">#163-missing-ranges-medium</a></td></tr><tr><td style="text-align:left"><a href="#64-minimum-path-sum-medium">#64-minimum-path-sum-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#165-compare-version-numbers-medium">#165-compare-version-numbers-medium</a></td></tr><tr><td style="text-align:left"><a href="#66-plus-one-easy">#66-plus-one-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#67-add-binary-easy">#67-add-binary-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"><a href="#169-majority-element-easy">#169-majority-element-easy</a></td></tr><tr><td style="text-align:left"><strong><a href="#70-climbing-stairs-easy">#70-climbing-stairs-easy</a></strong></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#71-simplify-path-medium">#71-simplify-path-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#72-edit-distance-hard">#72-edit-distance-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#73-set-matrix-zeros-medium">#73-set-matrix-zeros-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#74-search-a-2d-matrix-medium">#74-search-a-2d-matrix-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#75-sort-colors-medium">#75-sort-colors-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#76-minimun-window-substring-hard">#76-minimun-window-substring-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#77-combinations-medium">#77-combinations-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#78-subsets-medium">#78-subsets-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#79-word-search-medium">#79-word-search-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#80-remove-duplicates-from-sorted-array-ii-medium">#80-remove-duplicates-from-sorted-array-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#81-search-in-rotated-sorted-array-ii-medium"><strong>#81-search-in-rotated-sorted-array-ii-medium</strong></a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#82-remove-duplicates-from-sorted-list-ii-medium">#82-remove-duplicates-from-sorted-list-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#83-remove-duplicates-from-sorted-list-easy">#83-remove-duplicates-from-sorted-list-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#84-largest-rectangle-in-histogram-hard">#84-largest-rectangle-in-histogram-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#86-partition-list-medium">#86-partition-list-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#87-scramble-string-hard">#87-scramble-string-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#88-merge-sorted-array-easy">#88-merge-sorted-array-easy</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#89-gray-code-medium">#89-gray-code-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#90-subsets-ii-medium">#90-subsets-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#92-reverse-linked-list-ii-medium">#92-reverse-linked-list-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#93-restore-ip-addresses-medium">#93-restore-ip-addresses-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#94-binary-tree-inorder-traversal-medium">#94-binary-tree-inorder-traversal-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#95-unique-bst-ii-medium">#95-unique-bst-ii-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#96-unique-bst-medium">#96-unique-bst-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#97-interleaving-string-hard">#97-interleaving-string-hard</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#98-validate-binary-search-tree-medium">#98-validate-binary-search-tree-medium</a></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><a href="#100-same-tree-easy">#100-same-tree-easy</a></td></tr></tbody></table><h4 id="201-400"><a href="#201-400" class="headerlink" title="201 ~ 400"></a>201 ~ 400</h4><table><thead><tr><th>201 ~ 300</th><th>301 ~ 400</th></tr></thead><tbody><tr><td><a href="#201-bitwise-and-of-numbers-range-medium">#201-bitwise-and-of-numbers-range-medium</a></td><td></td></tr><tr><td><a href="#204-count-primes-easy">#204-count-primes-easy</a></td><td></td></tr><tr><td><a href="#207-course-schedule-medium">#207-course-schedule-medium</a></td><td></td></tr><tr><td><strong><a href="#210-course-schedule-ii-medium">#210-course-schedule-ii-medium</a></strong></td><td></td></tr><tr><td><a href="#211-add-and-search-word-medium">#211-add-and-search-word-medium</a></td><td></td></tr><tr><td></td><td><a href="#313-supper-ugly-number-medium">#313-supper-ugly-number-medium</a></td></tr><tr><td></td><td></td></tr><tr><td><a href="#217-contains-duplicate-easy">#217-contains-duplicate-easy</a></td><td></td></tr><tr><td><a href="#219-contains-duplicate-ii-easy">#219-contains-duplicate-ii-easy</a></td><td></td></tr><tr><td><a href="#220-contains-duplicate-iii-medium">#220-contains-duplicate-iii-medium</a></td><td></td></tr><tr><td><a href="#223-rectangle-area-medium">#223-rectangle-area-medium</a></td><td></td></tr><tr><td></td><td><a href="#325-max-size-subarray-sum-equals-k-medium">#325-max-size-subarray-sum-equals-k-medium</a></td></tr><tr><td><a href="#228-summary-ranges-medium">#228-summary-ranges-medium</a></td><td></td></tr><tr><td><a href="#229-majority-element-ii-medium">#229-majority-element-ii-medium</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td><a href="#235-lca-of-a-bst-easy">#235-lca-of-a-bst-easy</a></td><td><a href="#335-self-crossing-hard">#335-self-crossing-hard</a></td></tr><tr><td><a href="#236-lca-of-a-binary-tree-medium">#236-lca-of-a-binary-tree-medium</a></td><td></td></tr><tr><td><a href="#241-different-ways-to-add-parentheses-medium">#241-different-ways-to-add-parentheses-medium</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td><a href="#243-shortest-word-distance-easy">#243-shortest-word-distance-easy</a></td><td></td></tr><tr><td><a href="#244-shortest-word-distance-ii-medium">#244-shortest-word-distance-ii-medium</a></td><td></td></tr><tr><td><a href="#245-shortest-word-distance-iii-medium">#245-shortest-word-distance-iii-medium</a></td><td></td></tr><tr><td></td><td><a href="#347-top-k-frequent-elements-medium">#347-top-k-frequent-elements-medium</a></td></tr><tr><td><a href="#248-strobogrammatic-number-iii-hard">#248-strobogrammatic-number-iii-hard</a></td><td></td></tr><tr><td></td><td><a href="#350-intersection-of-two-arrays-easy">#350-intersection-of-two-arrays-easy</a></td></tr><tr><td><a href="#253-meeting-rooms-ii-medium">#253-meeting-rooms-ii-medium</a></td><td></td></tr><tr><td><a href="#263-ugly-number-easy">#263-ugly-number-easy</a></td><td></td></tr><tr><td><a href="#268-missing-number-easy">#268-missing-number-easy</a></td><td></td></tr><tr><td><a href="#271-encode-and-decode-strings-medium">#271-encode-and-decode-strings-medium</a></td><td><strong><a href="#371-sum-of-two-integers-easy">#371-sum-of-two-integers-easy</a></strong></td></tr><tr><td><a href="#272-closest-bst-value-ii-hard">#272-closest-bst-value-ii-hard</a></td><td></td></tr><tr><td></td><td><a href="#373-find-k-pairs-with-smallest-sum-medium">#373-find-k-pairs-with-smallest-sum-medium</a></td></tr><tr><td></td><td><a href="#378-k-th-smallest-element-in-a-sorted-matrix-medium">#378-k-th-smallest-element-in-a-sorted-matrix-medium</a></td></tr><tr><td><a href="#279-perfect-squares-medium">#279-perfect-squares-medium</a></td><td></td></tr><tr><td></td><td><a href="#384-shuffle-an-array-medium">#384-shuffle-an-array-medium</a></td></tr><tr><td><strong><a href="#285-inorder-successor-in-bst-medium">#285-inorder-successor-in-bst-medium</a></strong></td><td></td></tr><tr><td><a href="#287-find-duplicate-number-medium">#287-find-duplicate-number-medium</a></td><td></td></tr><tr><td></td><td><a href="#388-longest-absolute-file-path-medium">#388-longest-absolute-file-path-medium</a></td></tr><tr><td><a href="#295-find-median-from-data-stream-hard">#295-find-median-from-data-stream-hard</a></td><td></td></tr><tr><td><a href="#297-encode-and-decode-binary-tree-hard">#297-encode-and-decode-binary-tree-hard</a></td><td></td></tr><tr><td><a href="#300-longest-increasing-subsequence-medium">#300-longest-increasing-subsequence-medium</a></td></tr></tbody></table><h4 id="401-600"><a href="#401-600" class="headerlink" title="401 ~ 600"></a>401 ~ 600</h4><table><thead><tr><th>401 ~ 500</th><th>501 ~ 600</th></tr></thead><tbody><tr><td></td><td><a href="#503-next-greater-element-ii-medium">#503-next-greater-element-ii-medium</a></td></tr><tr><td><a href="#406-queue-reconstruction-by-height-medium">#406-queue-reconstruction-by-height-medium</a></td><td></td></tr><tr><td></td><td><a href="#516-longest-palindromic-subsequence-medium">#516-longest-palindromic-subsequence-medium</a></td></tr><tr><td><a href="#419-battleships-in-a-board-medium">#419-battleships-in-a-board-medium</a></td><td></td></tr><tr><td><strong><a href="#443-string-compression-easy">#443-string-compression-easy</a></strong></td><td></td></tr><tr><td><a href="#448-find-all-disappeared-number-easy">#448-find-all-disappeared-number-easy</a></td><td></td></tr><tr><td></td><td><a href="#556-next-greater-element-iii-medium">#556-next-greater-element-iii-medium</a></td></tr><tr><td></td><td><a href="#560-subarray-sum-equals-k-medium">#560-subarray-sum-equals-k-medium</a></td></tr><tr><td><a href="#463-island-perimeter-easy">#463-island-perimeter-easy</a></td><td></td></tr><tr><td><a href="#476-number-complement-easy">#476-number-complement-easy</a></td><td></td></tr><tr><td><a href="#496-next-greater-element-i-easy">#496-next-greater-element-i-easy</a></td><td></td></tr><tr><td><a href="#500-keyboard-row-easy">#500-keyboard-row-easy</a></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td></tr></tbody></table><h4 id="601-800"><a href="#601-800" class="headerlink" title="601 ~ 800"></a>601 ~ 800</h4><table><thead><tr><th>601 ~ 700</th><th>701 ~ 800</th></tr></thead><tbody><tr><td><a href="#604-compressed-string-iterator-easy">#604-compressed-string-iterator-easy</a></td><td></td></tr><tr><td><a href="#625-minimun-factorization-medium">#625-minimun-factorization-medium</a></td><td></td></tr><tr><td><a href="#632-smallest-range-hard">#632-smallest-range-hard</a></td></tr></tbody></table><h4 id="801-1000"><a href="#801-1000" class="headerlink" title="801 ~ 1000"></a>801 ~ 1000</h4><table><thead><tr><th>801 ~ 900</th><th>901 ~ 1000</th></tr></thead><tbody><tr><td><a href="#809-expressive-word-medium">#809-expressive-word-medium</a></td><td></td></tr><tr><td><a href="#814-binary-tree-pruning-medium">#814-binary-tree-pruning-medium</a></td><td></td></tr><tr><td><a href="#817-linked-list-components-medium">#817-linked-list-components-medium</a></td><td></td></tr><tr><td><a href="#855-exam-room-medium">#855-exam-room-medium</a></td><td></td></tr><tr><td><a href="#856-score-of-parentheses-medium">#856-score-of-parentheses-medium</a></td><td></td></tr><tr><td><a href="#862-shortest-subarray-with-sum-at-least-k-hard">#862-shortest-subarray-with-sum-at-least-k-hard</a></td><td></td></tr><tr><td><a href="#863-all-nodes-distance-k-in-binary-tree-medium">#863-all-nodes-distance-k-in-binary-tree-medium</a></td><td></td></tr><tr><td><a href="#864-random-pick-with-blacklist-hard">#864-random-pick-with-blacklist-hard</a></td></tr></tbody></table><hr><h4 id="3-longest-substring-without-repeating-characters-medium"><a href="#3-longest-substring-without-repeating-characters-medium" class="headerlink" title="#3-longest-substring-without-repeating-characters-medium"></a>#3-longest-substring-without-repeating-characters-medium</h4><p>Given a string, find the length of the <strong>longest substring</strong> without repeating characters.</p><p><strong>Examples:</strong></p><p>Given <code>&quot;abcabcbb&quot;</code>, the answer is <code>&quot;abc&quot;</code>, which the length is 3.</p><p>Given <code>&quot;bbbbb&quot;</code>, the answer is <code>&quot;b&quot;</code>, with the length of 1.</p><p>Given <code>&quot;pwwkew&quot;</code>, the answer is <code>&quot;wke&quot;</code>, with the length of 3. Note that the answer must be a <strong>substring</strong>, <code>&quot;pwke&quot;</code> is a <em>subsequence</em> and not a substring.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringDistinct</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();<span class="comment">// save character, index</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>; tail &lt; s.length(); tail++) &#123;</span><br><span class="line"><span class="comment">// if duplicated, move head</span></span><br><span class="line"><span class="keyword">if</span> (map.containsKey(s.charAt(tail)))</span><br><span class="line"><span class="comment">// head cannot move back e.g. abbbbbba</span></span><br><span class="line">head = Math.max(head, map.get(s.charAt(tail)) + <span class="number">1</span>);</span><br><span class="line">map.put(s.charAt(tail), tail);</span><br><span class="line">maxLen = Math.max(maxLen, tail - head + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringDistinctOPT</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];<span class="comment">// case only alphabet, save index</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>; tail &lt; s.length(); tail++) &#123;</span><br><span class="line">head = Math.max(head, bin[s.charAt(tail) - <span class="string">'a'</span>]);<span class="comment">// maybe 0</span></span><br><span class="line">bin[s.charAt(tail) - <span class="string">'a'</span>] = tail + <span class="number">1</span>; <span class="comment">// save same's next</span></span><br><span class="line">maxLen = Math.max(maxLen, tail - head + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="10-regular-expression-match-hard"><a href="#10-regular-expression-match-hard" class="headerlink" title="#10-regular-expression-match-hard"></a>#10-regular-expression-match-hard</h4><p>Given an input string (<code>s</code>) and a pattern (<code>p</code>), implement regular expression matching with support for <code>&#39;.&#39;</code> and <code>&#39;*&#39;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&apos;.&apos; Matches any single character.</span><br><span class="line">&apos;*&apos; Matches zero or more of the preceding element.</span><br></pre></td></tr></table></figure><p>The matching should cover the <strong>entire</strong> input string (not partial).</p><p><strong>Note:</strong></p><ul><li><code>s</code> could be empty and contains only lowercase letters <code>a-z</code>.</li><li><code>p</code> could be empty and contains only lowercase letters <code>a-z</code>, and characters like <code>.</code> or <code>*</code>.</li></ul><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">s = &quot;aa&quot;</span><br><span class="line">p = &quot;a&quot;</span><br><span class="line">Output: false</span><br><span class="line">Explanation: &quot;a&quot; does not match the entire string &quot;aa&quot;.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (s == <span class="keyword">null</span> || p == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length() + <span class="number">1</span>][p.length() + <span class="number">1</span>];</span><br><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line"><span class="comment">// initial the first line</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= p.length(); j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>)</span><br><span class="line">dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// dp conditions:</span></span><br><span class="line"><span class="comment">// (1) p.char == . || p.char == s.char</span></span><br><span class="line"><span class="comment">// (2) p.char == *:</span></span><br><span class="line"><span class="comment">// 1. treat as 0 : check i, j-2</span></span><br><span class="line"><span class="comment">// 2. if p[j-1] == s.char || .: check i-1,j</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s.length(); i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= p.length(); j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'.'</span> || p.charAt(j - <span class="number">1</span>) == s.charAt(i - <span class="number">1</span>))</span><br><span class="line">dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line"><span class="comment">// check * is 0</span></span><br><span class="line">dp[i][j] = dp[i][j - <span class="number">2</span>];</span><br><span class="line"><span class="keyword">if</span> (dp[i][j])</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line"><span class="comment">// if p.prev equal or .</span></span><br><span class="line"><span class="keyword">if</span> (p.charAt(j - <span class="number">2</span>) == s.charAt(i - <span class="number">1</span>) || p.charAt(j - <span class="number">2</span>) == <span class="string">'.'</span>) &#123;</span><br><span class="line">dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dp[s.length()][p.length()];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="22-generate-parentheses-medium"><a href="#22-generate-parentheses-medium" class="headerlink" title="#22-generate-parentheses-medium"></a>#22-generate-parentheses-medium</h4><p>Given <em>n</em> pairs of parentheses, write a function to generate all combinations of well-formed parentheses.</p><p>For example, given <em>n</em> = 3, a solution set is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &quot;((()))&quot;,</span><br><span class="line">  &quot;(()())&quot;,</span><br><span class="line">  &quot;(())()&quot;,</span><br><span class="line">  &quot;()(())&quot;,</span><br><span class="line">  &quot;()()()&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// utilizing backtracking</span></span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,<span class="keyword">new</span> StringBuilder(),<span class="number">0</span>,<span class="number">0</span>,n);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; result,StringBuilder temp,<span class="keyword">int</span> left,<span class="keyword">int</span> right,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp.length() == n * <span class="number">2</span>)&#123;</span><br><span class="line">        result.add(temp.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> len = temp.length();</span><br><span class="line">    <span class="comment">// append (</span></span><br><span class="line">    <span class="keyword">if</span>(left &lt; n)&#123;</span><br><span class="line">        temp.append(<span class="string">'('</span>);</span><br><span class="line">        backtrack(result,temp,left+<span class="number">1</span>,right,n);</span><br><span class="line">        temp.setLength(len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// append )</span></span><br><span class="line">    <span class="keyword">if</span>(right &lt; left)&#123;</span><br><span class="line">        temp.append(<span class="string">')'</span>);</span><br><span class="line">        backtrack(result,temp,left,right+<span class="number">1</span>,n);</span><br><span class="line">        temp.setLength(len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="25-reverse-nodes-in-k-group-hard"><a href="#25-reverse-nodes-in-k-group-hard" class="headerlink" title="#25-reverse-nodes-in-k-group-hard"></a>#25-reverse-nodes-in-k-group-hard</h4><p>Given a linked list, reverse the nodes of a linked list <em>k</em> at a time and return its modified list.</p><p><em>k</em> is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of <em>k</em> then left-out nodes in the end should remain as it is.</p><p><strong>Example:</strong></p><p>Given this linked list: <code>1-&gt;2-&gt;3-&gt;4-&gt;5</code></p><p>For <em>k</em> = 2, you should return: <code>2-&gt;1-&gt;4-&gt;3-&gt;5</code></p><p>For <em>k</em> = 3, you should return: <code>3-&gt;2-&gt;1-&gt;4-&gt;5</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseKGroup</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// constant memory, cannot use recursion (dummy)</span></span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span> || k==<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev = dummy, tail = dummy, next = <span class="keyword">null</span>, curr = <span class="keyword">null</span>;</span><br><span class="line">    prev.next = head;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="comment">// find group first, k th node</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(count&lt;k &amp;&amp; tail!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// less than k break</span></span><br><span class="line">        <span class="keyword">if</span>(tail == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// reverse prev to curr</span></span><br><span class="line">        <span class="comment">// D -&gt; 1 -&gt; 2 -&gt; 3(T) -&gt; N</span></span><br><span class="line">        <span class="comment">// move 1 after 3: D 2 3 1 N</span></span><br><span class="line">        head = prev.next;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            next = prev.next;   <span class="comment">// save 1</span></span><br><span class="line">            prev.next = next.next;  <span class="comment">// assign head</span></span><br><span class="line">            next.next = tail.next;  <span class="comment">// assign tail</span></span><br><span class="line">            tail.next = next;   </span><br><span class="line">        &#125;  </span><br><span class="line">        prev = head;</span><br><span class="line">        tail = head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="29-divide-two-integers-medium"><a href="#29-divide-two-integers-medium" class="headerlink" title="#29-divide-two-integers-medium"></a>#29-divide-two-integers-medium</h4><p>Given two integers <code>dividend</code> and <code>divisor</code>, divide two integers without using multiplication, division and mod operator.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(divisor == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">if</span>(dividend == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(divisor == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dividend;</span><br><span class="line">    <span class="keyword">if</span>(divisor == -<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dividend == Integer.MIN_VALUE? Integer.MAX_VALUE : -dividend;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(dividend &lt; <span class="number">0</span> ^ divisor &lt;<span class="number">0</span>)</span><br><span class="line">        sign = -<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> ldividend = Math.abs((<span class="keyword">long</span>)dividend);  <span class="comment">// notice long inside</span></span><br><span class="line">    <span class="keyword">long</span> ldivisor = Math.abs((<span class="keyword">long</span>)divisor);</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(ldividend &gt;= ldivisor)&#123;</span><br><span class="line">        <span class="keyword">long</span> temp = ldivisor, multi = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(temp &lt;&lt; <span class="number">1</span> &lt; ldividend)&#123;</span><br><span class="line">            temp &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            multi &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ldividend -= temp;</span><br><span class="line">        result += multi;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sign==<span class="number">1</span>? result : -result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="31-next-permutation-medium"><a href="#31-next-permutation-medium" class="headerlink" title="#31-next-permutation-medium"></a>#31-next-permutation-medium</h4><p>Implement <strong>next permutation</strong>, which rearranges numbers into the lexicographically next greater permutation of numbers.</p><p>If such arrangement is not possible, it must rearrange it as the lowest possible order (ie, sorted in ascending order).</p><p>The replacement must be <strong>in-place</strong> and use only constant extra memory.</p><p>Here are some examples. Inputs are in the left-hand column and its corresponding outputs are in the right-hand column.</p><p><code>1,2,3</code> → <code>1,3,2</code><br><code>3,2,1</code> → <code>1,2,3</code><br><code>1,1,5</code> → <code>1,5,1</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> head = nums.length - <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(head &gt;= <span class="number">0</span> &amp;&amp; nums[head] &gt;= nums[head+<span class="number">1</span>])</span><br><span class="line">        head --;</span><br><span class="line">    <span class="keyword">if</span>(head &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> tail = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(nums[tail] &lt;= nums[head])</span><br><span class="line">            tail --;</span><br><span class="line">        swap(nums,head,tail);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if head == -1, just reverse</span></span><br><span class="line">    reverse(nums,head+<span class="number">1</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        swap(nums,i,j);</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="32-longest-valid-parentheses-hard"><a href="#32-longest-valid-parentheses-hard" class="headerlink" title="#32-longest-valid-parentheses-hard"></a>#32-longest-valid-parentheses-hard</h4><p>Given a string containing just the characters <code>&#39;(&#39;</code> and <code>&#39;)&#39;</code>, find the length of the longest valid (well-formed) parentheses substring.</p><p>For <code>&quot;(()&quot;</code>, the longest valid parentheses substring is <code>&quot;()&quot;</code>, which has length = 2.</p><p>Another example is <code>&quot;)()())&quot;</code>, where the longest valid parentheses substring is <code>&quot;()()&quot;</code>, which has length = 4.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(-<span class="number">1</span>); <span class="comment">// for first pair if ()</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">       <span class="keyword">if</span>(s.charAt(i) == <span class="string">'('</span>)</span><br><span class="line">           stack.push(i);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())&#123;</span><br><span class="line">                stack.push(i);  <span class="comment">// first not valid</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                maxLen = Math.max(maxLen,i-stack.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="33-search-in-rotated-sorted-array-medium"><a href="#33-search-in-rotated-sorted-array-medium" class="headerlink" title="#33-search-in-rotated-sorted-array-medium"></a>#33-search-in-rotated-sorted-array-medium</h4><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.</p><p>(i.e., <code>[0,1,2,4,5,6,7]</code> might become <code>[4,5,6,7,0,1,2]</code>).</p><p>You are given a target value to search. If found in the array return its index, otherwise return <code>-1</code>.</p><p>You may assume no duplicate exists in the array.</p><p>Your algorithm’s runtime complexity must be in the order of <em>O</em>(log <em>n</em>).</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,5,6,7,0,1,2], target = 0</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,5,6,7,0,1,2], target = 3</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] == target)</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="comment">// left half not rotate</span></span><br><span class="line">        <span class="keyword">if</span>(nums[left] &lt;= nums[mid])&#123;</span><br><span class="line">            <span class="comment">// mid in not rotate part</span></span><br><span class="line">            <span class="keyword">if</span>(nums[left]&lt;=target &amp;&amp; target&lt;nums[mid])</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// mid in rotate part</span></span><br><span class="line">            <span class="keyword">else</span> left = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// right half not rotate</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// mid in not rotate part</span></span><br><span class="line">            <span class="keyword">if</span>(nums[mid]&lt;target &amp;&amp; target&lt;=nums[right])</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// mid in rotate part</span></span><br><span class="line">            <span class="keyword">else</span> right = mid -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="36-Valid-Sudoku-medium"><a href="#36-Valid-Sudoku-medium" class="headerlink" title="36. Valid Sudoku (medium)"></a>36. Valid Sudoku (medium)</h4><p>Determine if a Sudoku is valid, according to: <a href="http://sudoku.com.au/TheRules.aspx" target="_blank" rel="noopener">Sudoku Puzzles - The Rules</a>.</p><p>The Sudoku board could be partially filled, where empty cells are filled with the character <code>&#39;.&#39;</code>.</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png" alt="img"></p><p>A partially filled sudoku which is valid.</p><p><strong>Note:</strong><br>A valid Sudoku board (partially filled) is not necessarily solvable. Only the filled cells need to be validated.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length!=<span class="number">9</span> || board[<span class="number">0</span>].length!=<span class="number">9</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;Character&gt; rowSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;Character&gt; colSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;Character&gt; cubSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="comment">// check row, col, cube</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;<span class="number">9</span>;row++)&#123;</span><br><span class="line">        rowSet.clear();</span><br><span class="line">        colSet.clear();</span><br><span class="line">        cubSet.clear();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;<span class="number">9</span>;col++)&#123;</span><br><span class="line">            <span class="comment">// left to right</span></span><br><span class="line">            <span class="keyword">if</span>(board[row][col]!=<span class="string">'.'</span> &amp;&amp; !rowSet.add(board[row][col]))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="comment">// up to down</span></span><br><span class="line">            <span class="keyword">if</span>(board[col][row]!=<span class="string">'.'</span> &amp;&amp; !colSet.add(board[col][row]))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="comment">// map to a cube</span></span><br><span class="line">            <span class="keyword">int</span> cubeRow = <span class="number">3</span> * (row / <span class="number">3</span>) + col / <span class="number">3</span>; </span><br><span class="line">            <span class="keyword">int</span> cubeCol = <span class="number">3</span> * (row % <span class="number">3</span>) + col % <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">if</span>(board[cubeRow][cubeCol]!=<span class="string">'.'</span> &amp;&amp; !cubSet.add(board[cubeRow][cubeCol]))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="37-Sudoku-Solver-hard"><a href="#37-Sudoku-Solver-hard" class="headerlink" title="37. Sudoku Solver (hard)"></a>37. Sudoku Solver (hard)</h4><p>Write a program to solve a Sudoku puzzle by filling the empty cells.</p><p>Empty cells are indicated by the character <code>&#39;.&#39;</code>.</p><p>You may assume that there will be only one unique solution.</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png" alt="img"></p><p>A sudoku puzzle…</p><p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Sudoku-by-L2G-20050714_solution.svg/250px-Sudoku-by-L2G-20050714_solution.svg.png" alt="img"></p><p>…and its solution numbers marked in red.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length!=<span class="number">9</span> || board[<span class="number">0</span>].length!=<span class="number">9</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    solver(board);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">solver</span><span class="params">(<span class="keyword">char</span>[][] board)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">9</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] != <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'1'</span>;c&lt;=<span class="string">'9'</span>;c++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(isValid(board,i,j,c))&#123;</span><br><span class="line">                    board[i][j] = c;</span><br><span class="line">                    <span class="keyword">if</span>(solver(board))</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board,<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;<span class="number">9</span>;k++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(board[i][k] == c)    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(board[k][j] == c)    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> row = <span class="number">3</span> * (i / <span class="number">3</span>) + k / <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">int</span> col = <span class="number">3</span> * (j / <span class="number">3</span>) + k % <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span>(board[row][col] == c)    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="38-count-and-say-easy"><a href="#38-count-and-say-easy" class="headerlink" title="#38-count-and-say-easy"></a>#38-count-and-say-easy</h4><p>The count-and-say sequence is the sequence of integers with the first five terms as following:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.     1</span><br><span class="line">2.     11</span><br><span class="line">3.     21</span><br><span class="line">4.     1211</span><br><span class="line">5.     111221</span><br></pre></td></tr></table></figure><p><code>1</code> is read off as <code>&quot;one 1&quot;</code> or <code>11</code>.<br><code>11</code> is read off as <code>&quot;two 1s&quot;</code> or <code>21</code>.<br><code>21</code> is read off as <code>&quot;one 2</code>, then <code>one 1&quot;</code> or <code>1211</code>.</p><p>Given an integer <em>n</em>, generate the <em>n</em>th term of the count-and-say sequence.</p><p>Note: Each term of the sequence of integers will be represented as a string.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 4</span><br><span class="line">Output: &quot;1211&quot;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">countAndSay</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"1"</span>;</span><br><span class="line">    String result = <span class="string">"1"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(idx &lt; result.length())&#123;</span><br><span class="line">            <span class="keyword">char</span> curr = result.charAt(idx);</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(idx&lt;result.length()-<span class="number">1</span> &amp;&amp; result.charAt(idx)==result.charAt(idx+<span class="number">1</span>))&#123;</span><br><span class="line">                idx ++;</span><br><span class="line">                count ++;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(count).append(curr);</span><br><span class="line">            idx ++;</span><br><span class="line">        &#125;</span><br><span class="line">        result = sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="39-Combination-Sum-medium"><a href="#39-Combination-Sum-medium" class="headerlink" title="39. Combination Sum (medium)"></a>39. Combination Sum (medium)</h4><p>Given a <strong>set</strong> of candidate numbers (<strong>C</strong>) <strong>(without duplicates)</strong> and a target number (<strong>T</strong>), find all unique combinations in <strong>C</strong> where the candidate numbers sums to <strong>T</strong>. </p><p>The <strong>same</strong> repeated number may be chosen from <strong>C</strong> <strong>unlimited number of times</strong>.</p><p><strong>Note:</strong></p><ul><li>All numbers (including target) will be positive integers.</li><li>The solution set must not contain duplicate combinations.</li></ul><p>For example, given candidate set <code>[2, 3, 6, 7]</code> and target <code>7</code>,<br>A solution set is: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [7],</span><br><span class="line">  [2, 2, 3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="comment">// use backtracking</span></span><br><span class="line">List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,candidates,<span class="keyword">new</span> ArrayList&lt;&gt;(),target,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] candidates,List&lt;Integer&gt; temp,<span class="keyword">int</span> target,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(target == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// should build a new list</span></span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;candidates.length;i++)&#123;</span><br><span class="line">        temp.add(candidates[i]);</span><br><span class="line">        <span class="comment">// item repeatly used, should call i</span></span><br><span class="line">        backtrack(result,candidates,temp,target-candidates[i],i);</span><br><span class="line">        <span class="comment">// remove after recursion</span></span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="40-Combination-Sum-II-medium"><a href="#40-Combination-Sum-II-medium" class="headerlink" title="40. Combination Sum II (medium)"></a>40. Combination Sum II (medium)</h4><p>Given a collection of candidate numbers (<strong>C</strong>) and a target number (<strong>T</strong>), find all unique combinations in <strong>C</strong> where the candidate numbers sums to <strong>T</strong>.</p><p>Each number in <strong>C</strong> may only be used <strong>once</strong> in the combination.</p><p><strong>Note:</strong></p><ul><li>All numbers (including target) will be positive integers.</li><li>The solution set must not contain duplicate combinations.</li></ul><p>For example, given candidate set <code>[10, 1, 2, 7, 6, 1, 5]</code> and target <code>8</code>,<br>A solution set is: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1, 7],</span><br><span class="line">  [1, 2, 5],</span><br><span class="line">  [2, 6],</span><br><span class="line">  [1, 1, 6]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum2(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="comment">// backtracking, duplicate element, use once</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Arrays.sort(candidates);    <span class="comment">// to skip duplicate</span></span><br><span class="line">    backtrack(result,candidates,<span class="keyword">new</span> ArrayList&lt;&gt;(),target,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] candidates,List&lt;Integer&gt; temp,<span class="keyword">int</span> target,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(target == <span class="number">0</span>)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;candidates.length;i++)&#123;</span><br><span class="line">        <span class="comment">// here i &gt; idx not 0. to avoid duplicate</span></span><br><span class="line">        <span class="comment">// since same adjacent same element, so need sorting</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;idx &amp;&amp; candidates[i]==candidates[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        temp.add(candidates[i]);</span><br><span class="line">        backtrack(result,candidates,temp,target-candidates[i],i+<span class="number">1</span>);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="41-first-missing-positive-hard"><a href="#41-first-missing-positive-hard" class="headerlink" title="#41-first-missing-positive-hard"></a>#41-first-missing-positive-hard</h4><p>Given an unsorted integer array, find the first missing positive integer.</p><p>For example,<br>Given <code>[1,2,0]</code> return <code>3</code>,<br>and <code>[3,4,-1,1]</code> return <code>2</code>.</p><p>Your algorithm should run in <em>O</em>(<em>n</em>) time and uses constant space.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// swap pos num to corresponding index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="comment">// use nums[i]-1 as index, cannot have cycle</span></span><br><span class="line">        <span class="keyword">while</span>(nums[i]&gt;<span class="number">0</span> &amp;&amp; nums[i]&lt;=nums.length &amp;&amp; nums[i]!=nums[nums[i]-<span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = nums[nums[i]-<span class="number">1</span>];</span><br><span class="line">            nums[nums[i]-<span class="number">1</span>] = nums[i];</span><br><span class="line">            nums[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// traverse find nums[i]-1 != i</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != i + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// beyond the bound</span></span><br><span class="line">    <span class="keyword">return</span> nums.length + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="42-trapping-rain-water-hard"><a href="#42-trapping-rain-water-hard" class="headerlink" title="#42-trapping-rain-water-hard"></a>#42-trapping-rain-water-hard</h4><p>Given <em>n</em> non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.</p><p>For example,<br>Given <code>[0,1,0,2,1,0,1,3,2,1,2,1]</code>, return <code>6</code>.</p><p><img src="http://www.leetcode.com/static/images/problemset/rainwatertrap.png" alt="img"></p><p>The above elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.</p><p><strong>DP approach O(n) &amp; O(n)</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use dp 3 pass</span></span><br><span class="line">    <span class="keyword">if</span>(height.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// first pass find left max</span></span><br><span class="line">    <span class="keyword">int</span>[] left = <span class="keyword">new</span> <span class="keyword">int</span>[height.length];</span><br><span class="line">    <span class="keyword">int</span> leftMax = height[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)&#123;</span><br><span class="line">        leftMax = Math.max(leftMax,height[i]);</span><br><span class="line">        left[i] = leftMax;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// second pass find right max</span></span><br><span class="line">    <span class="keyword">int</span>[] right = <span class="keyword">new</span> <span class="keyword">int</span>[height.length];</span><br><span class="line">    <span class="keyword">int</span> rightMax = height[height.length-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=height.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        rightMax = Math.max(rightMax,height[i]);</span><br><span class="line">        right[i] = rightMax;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// third pass find water each idx</span></span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)</span><br><span class="line">        result += Math.min(left[i],right[i]) - height[i];</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Stack  approach O(n) &amp; O(n)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// stack approaching</span></span><br><span class="line">    <span class="keyword">if</span>(height.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// use stack to save index</span></span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)&#123;</span><br><span class="line">        <span class="comment">// if larger than prev</span></span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; height[i]&gt;height[stack.peek()])&#123;</span><br><span class="line">            <span class="keyword">int</span> currIdx = stack.pop();</span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// compare prev height and i height</span></span><br><span class="line">            <span class="keyword">int</span> h = Math.min(height[stack.peek()],height[i]) - height[currIdx];</span><br><span class="line">            <span class="keyword">int</span> w = i - stack.peek() - <span class="number">1</span>;</span><br><span class="line">            result += h * w;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Two pointer approach O(n) &amp; O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// two pointer</span></span><br><span class="line">    <span class="keyword">if</span>(height.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// left &amp; right max,</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = height.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> leftMax = height[left], rightMax = height[right];</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// stop when left&gt;right, should be &lt;= </span></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="comment">// case left ++</span></span><br><span class="line">        <span class="keyword">if</span>(leftMax &lt; rightMax)&#123;</span><br><span class="line">            <span class="keyword">if</span>(height[left] &lt; leftMax)</span><br><span class="line">                result += leftMax - height[left];</span><br><span class="line">            leftMax = Math.max(leftMax,height[left]);</span><br><span class="line">            left ++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">// case right --</span></span><br><span class="line">            <span class="keyword">if</span>(height[right] &lt; rightMax)</span><br><span class="line">                result += rightMax - height[right];</span><br><span class="line">            rightMax = Math.max(rightMax,height[right]);</span><br><span class="line">            right --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="43-Multiply-Strings-medium"><a href="#43-Multiply-Strings-medium" class="headerlink" title="43. Multiply Strings (medium)"></a>43. Multiply Strings (medium)</h4><p>Given two non-negative integers <code>num1</code> and <code>num2</code> represented as strings, return the product of <code>num1</code> and <code>num2</code>.</p><p><strong>Note:</strong></p><ol><li>The length of both <code>num1</code> and <code>num2</code> is &lt; 110.</li><li>Both <code>num1</code> and <code>num2</code> contains only digits <code>0-9</code>.</li><li>Both <code>num1</code> and <code>num2</code> does not contain any leading zero.</li><li>You <strong>must not use any built-in BigInteger library</strong> or <strong>convert the inputs to integer</strong> directly.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num1==<span class="keyword">null</span> || num1.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(num2==<span class="keyword">null</span> || num2.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(num1.equals(<span class="string">"0"</span>) || num2.equals(<span class="string">"0"</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">int</span> m = num1.length(), n = num2.length();</span><br><span class="line">    <span class="comment">// num1 * num2 max len = m + n</span></span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[m+n];</span><br><span class="line">    <span class="comment">// i bit * j bit head is at i+j</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=m-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=n-<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)&#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> n2 = num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = n1 * n2 + result[i+j+<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// one digit</span></span><br><span class="line">            result[i+j+<span class="number">1</span>] = sum % <span class="number">10</span>;</span><br><span class="line">            <span class="comment">// ten digit</span></span><br><span class="line">            result[i+j] += sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;result.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(sb.length()==<span class="number">0</span> &amp;&amp; result[i]==<span class="number">0</span>))</span><br><span class="line">            sb.append(result[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="44-Wildcard-Matching-hard"><a href="#44-Wildcard-Matching-hard" class="headerlink" title="44. Wildcard Matching (hard)"></a>44. Wildcard Matching (hard)</h4><p>Implement wildcard pattern matching with support for <code>&#39;?&#39;</code> and <code>&#39;*&#39;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&apos;?&apos; Matches any single character.</span><br><span class="line">&apos;*&apos; Matches any sequence of characters (including the empty sequence).</span><br><span class="line"></span><br><span class="line">The matching should cover the entire input string (not partial).</span><br><span class="line"></span><br><span class="line">The function prototype should be:</span><br><span class="line">bool isMatch(const char *s, const char *p)</span><br><span class="line"></span><br><span class="line">Some examples:</span><br><span class="line">isMatch(&quot;aa&quot;,&quot;a&quot;) → false</span><br><span class="line">isMatch(&quot;aa&quot;,&quot;aa&quot;) → true</span><br><span class="line">isMatch(&quot;aaa&quot;,&quot;aa&quot;) → false</span><br><span class="line">isMatch(&quot;aa&quot;, &quot;*&quot;) → true</span><br><span class="line">isMatch(&quot;aa&quot;, &quot;a*&quot;) → true</span><br><span class="line">isMatch(&quot;ab&quot;, &quot;?*&quot;) → true</span><br><span class="line">isMatch(&quot;aab&quot;, &quot;c*a*b&quot;) → false</span><br></pre></td></tr></table></figure><p>Similar method to regular expression match, DP approach</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || p==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length()+<span class="number">1</span>][p.length()+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// go through first row, * could match ""</span></span><br><span class="line">    <span class="comment">// first col is false, dont match ""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=p.length();j++)</span><br><span class="line">        <span class="keyword">if</span>(p.charAt(j-<span class="number">1</span>) == <span class="string">'*'</span>)</span><br><span class="line">            dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j-<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// case 1: p.char==(s.char, ?) =&gt; dp[i][j] = dp[i-1][j-1]</span></span><br><span class="line">    <span class="comment">// case 2: p.char==* =&gt; * is "" dp[i][j] = dp[i][j-1]</span></span><br><span class="line">    <span class="comment">//                   =&gt; * is not "" dp[i][j] = dp[i-1][j];</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=p.length();j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p.charAt(j-<span class="number">1</span>)==s.charAt(i-<span class="number">1</span>) || p.charAt(j-<span class="number">1</span>)==<span class="string">'?'</span>)</span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p.charAt(j-<span class="number">1</span>) == <span class="string">'*'</span>)</span><br><span class="line">                <span class="comment">// * is sequence and * is blank</span></span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j] || dp[i][j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s.length()][p.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="46-Permutations-distinct-medium"><a href="#46-Permutations-distinct-medium" class="headerlink" title="46. Permutations (distinct)(medium)"></a>46. Permutations (distinct)(medium)</h4><p>Given a collection of <strong>distinct</strong> numbers, return all possible permutations.</p><p>For example,<br><code>[1,2,3]</code> have the following permutations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,2,3],</span><br><span class="line">  [1,3,2],</span><br><span class="line">  [2,1,3],</span><br><span class="line">  [2,3,1],</span><br><span class="line">  [3,1,2],</span><br><span class="line">  [3,2,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>Backtracking add to temp</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="comment">// use backtracking, remember to use visited</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">boolean</span>[] visited)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp.size() == nums.length)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check visited, i from 0 to n</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        visited[i] = <span class="keyword">true</span>;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,visited);</span><br><span class="line">        <span class="comment">// reset when return to here</span></span><br><span class="line">        visited[i] = <span class="keyword">false</span>;</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Backtracking swap (quicker)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,nums,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == nums.length)&#123;</span><br><span class="line">        List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num: nums)</span><br><span class="line">            temp.add(num);</span><br><span class="line">        result.add(temp);    </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;nums.length;i++)&#123;</span><br><span class="line">        swap(nums,idx,i);</span><br><span class="line">        <span class="comment">// swap every position with idx</span></span><br><span class="line">        backtrack(result,nums,idx+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// swap back when return here</span></span><br><span class="line">        swap(nums,idx,i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="47-Permutations-II-duplicates-medium"><a href="#47-Permutations-II-duplicates-medium" class="headerlink" title="47. Permutations II (duplicates)(medium)"></a>47. Permutations II (duplicates)(medium)</h4><p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.</p><p>For example,<br><code>[1,1,2]</code> have the following unique permutations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,1,2],</span><br><span class="line">  [1,2,1],</span><br><span class="line">  [2,1,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permuteUnique(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// need sorting to remove duplicate</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">boolean</span>[] used)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp.size() == nums.length)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="comment">// both !used[i-1] and used[i-1] work</span></span><br><span class="line">        <span class="keyword">if</span>(used[i] || i&gt;<span class="number">0</span>&amp;&amp;nums[i]==nums[i-<span class="number">1</span>]&amp;&amp;!used[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        used[i] = <span class="keyword">true</span>;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,used);</span><br><span class="line">        used[i] = <span class="keyword">false</span>;</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="48-Rotate-Image-medium"><a href="#48-Rotate-Image-medium" class="headerlink" title="48. Rotate Image (medium)"></a>48. Rotate Image (medium)</h4><p>Rotate the image by 90 degrees (clockwise).</p><p><strong>Note:</strong><br>You have to rotate the image <strong>in-place</strong>, which means you have to modify the input 2D matrix directly. <strong>DO NOT</strong> allocate another 2D matrix and do the rotation.</p><p><strong>clockwise: upside down first, then symmetry</strong></p><p><strong>anti-clockwise: left right first, then symmetry</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(matrix.length != matrix[<span class="number">0</span>].length)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// upside down</span></span><br><span class="line">    <span class="keyword">int</span> n = matrix.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;n;col++)&#123;</span><br><span class="line">        <span class="keyword">int</span> up = <span class="number">0</span>, down = n-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(up &lt; down)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = matrix[up][col];</span><br><span class="line">            matrix[up][col] = matrix[down][col];</span><br><span class="line">            matrix[down][col] = temp;</span><br><span class="line">            up ++;</span><br><span class="line">            down --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// symmetry</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = matrix[i][j];</span><br><span class="line">            matrix[i][j] = matrix[j][i];</span><br><span class="line">            matrix[j][i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="49-Group-Anagrams-medium"><a href="#49-Group-Anagrams-medium" class="headerlink" title="49. Group Anagrams (medium)"></a>49. Group Anagrams (medium)</h4><p>Given an array of strings, group anagrams together.</p><p>For example, given: <code>[&quot;eat&quot;, &quot;tea&quot;, &quot;tan&quot;, &quot;ate&quot;, &quot;nat&quot;, &quot;bat&quot;]</code>,<br>Return:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [&quot;ate&quot;, &quot;eat&quot;,&quot;tea&quot;],</span><br><span class="line">  [&quot;nat&quot;,&quot;tan&quot;],</span><br><span class="line">  [&quot;bat&quot;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>Note:</strong> All inputs will be in lower-case.</p><p><strong>HashMap, return</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123;</span><br><span class="line">    <span class="comment">// using hashtable</span></span><br><span class="line">    <span class="comment">// key is sorted str</span></span><br><span class="line">    List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;String,List&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(strs.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">for</span>(String str: strs)&#123;</span><br><span class="line">        <span class="keyword">char</span>[] c = str.toCharArray();</span><br><span class="line">        Arrays.sort(c);</span><br><span class="line">        String key = <span class="keyword">new</span> String(c);</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(key))</span><br><span class="line">            map.put(key,<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        map.get(key).add(str);            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// map.keySet() map.values()</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(map.values());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="50-Pow-x-n-medium"><a href="#50-Pow-x-n-medium" class="headerlink" title="50. Pow(x,n) (medium)"></a>50. Pow(x,n) (medium)</h4><p><strong>recursion</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// deal with int.min</span></span><br><span class="line">        <span class="comment">// +2 could remain even or odd</span></span><br><span class="line">        <span class="keyword">if</span>(n == Integer.MIN_VALUE)</span><br><span class="line">            n+=<span class="number">2</span>;</span><br><span class="line">        n = -n;</span><br><span class="line">        x = <span class="number">1</span> / x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> myPow(x*x,n/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> x * myPow(x*x,n/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="comment">// deal with int.min</span></span><br><span class="line">        <span class="comment">// +2 could remain even or odd</span></span><br><span class="line">        <span class="keyword">if</span>(n == Integer.MIN_VALUE)</span><br><span class="line">            n+=<span class="number">2</span>;</span><br><span class="line">        n = -n;</span><br><span class="line">        x = <span class="number">1</span> / x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>((n &amp; <span class="number">1</span>) == <span class="number">1</span>)  <span class="comment">// n is odd</span></span><br><span class="line">            result *= x;</span><br><span class="line">        x *= x;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="51-N-Queens-hard"><a href="#51-N-Queens-hard" class="headerlink" title="51. N-Queens (hard)"></a>51. N-Queens (hard)</h4><p><strong>backtracking</strong></p><p>The <em>n</em>-queens puzzle is the problem of placing <em>n</em> queens on an <em>n</em>×<em>n</em> chessboard such that no two queens attack each other.</p><p><img src="https://leetcode.com/static/images/problemset/8-queens.png" alt="img"></p><p>Given an integer <em>n</em>, return all distinct solutions to the <em>n</em>-queens puzzle.</p><p>Each solution contains a distinct board configuration of the <em>n</em>-queens’ placement, where <code>&#39;Q&#39;</code> and <code>&#39;.&#39;</code> both indicate a queen and an empty space respectively.</p><p>For example,<br>There exist two distinct solutions to the 4-queens puzzle:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [&quot;.Q..&quot;,  // Solution 1</span><br><span class="line">  &quot;...Q&quot;,</span><br><span class="line">  &quot;Q...&quot;,</span><br><span class="line">  &quot;..Q.&quot;],</span><br><span class="line"></span><br><span class="line"> [&quot;..Q.&quot;,  // Solution 2</span><br><span class="line">  &quot;Q...&quot;,</span><br><span class="line">  &quot;...Q&quot;,</span><br><span class="line">  &quot;.Q..&quot;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// construct blank board</span></span><br><span class="line">    <span class="keyword">char</span>[][] board = <span class="keyword">new</span> <span class="keyword">char</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">    <span class="comment">// backtracking</span></span><br><span class="line">    backtrack(result,board,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;String&gt;&gt; result,<span class="keyword">char</span>[][] board,<span class="keyword">int</span> col)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(col == board.length)&#123;</span><br><span class="line">        result.add(build(board));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for each row, try each col, only one loop need</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;board.length;row++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(isValid(board,row,col))&#123;</span><br><span class="line">            board[row][col] = <span class="string">'Q'</span>;</span><br><span class="line">            backtrack(result,board,col+<span class="number">1</span>);</span><br><span class="line">            board[row][col] = <span class="string">'.'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board,<span class="keyword">int</span> row,<span class="keyword">int</span> col)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// in same row, same col, same diagnal</span></span><br><span class="line">            <span class="keyword">if</span>(i==row  || j==col || Math.abs(i-row)==Math.abs(j-col))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">build</span><span class="params">(<span class="keyword">char</span>[][] board)</span></span>&#123;</span><br><span class="line">    <span class="comment">// build board to a result instance</span></span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    List&lt;String&gt; rows = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        rows.add(String.valueOf(board[i]));</span><br><span class="line">    <span class="keyword">return</span> rows;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="52-N-Queens-II-hard"><a href="#52-N-Queens-II-hard" class="headerlink" title="52. N-Queens II (hard)"></a>52. N-Queens II (hard)</h4><p>Now, instead outputting board configurations, return the total number of distinct solutions.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">totalNQueens</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// only check valid cases</span></span><br><span class="line">    <span class="comment">// use 4 boolean arrays to mark:</span></span><br><span class="line">    <span class="comment">//     1. traverse each row, no check same row</span></span><br><span class="line">    <span class="comment">//     2. same col occupied</span></span><br><span class="line">    <span class="comment">//     3. 45 diagnal occupied: y=x+b =&gt; b=y-x constant</span></span><br><span class="line">    <span class="comment">//     4. 135 diagnal occupied y=-x+b =&gt; b=y+x constant</span></span><br><span class="line">    <span class="comment">//         board has 2n-1 diagnals each case</span></span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] cols = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];         <span class="comment">// for col</span></span><br><span class="line">    <span class="keyword">boolean</span>[] diag1 = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];   <span class="comment">// for y-x</span></span><br><span class="line">    <span class="keyword">boolean</span>[] diag2 = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];   <span class="comment">// for y+x</span></span><br><span class="line">    backtrack(result,<span class="number">0</span>,cols,diag1,diag2);</span><br><span class="line">    <span class="keyword">return</span> result[<span class="number">0</span>];        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span>[] result,<span class="keyword">int</span> col,<span class="keyword">boolean</span>[] cols,<span class="keyword">boolean</span>[] diag1,<span class="keyword">boolean</span>[] diag2)</span></span>&#123;</span><br><span class="line">    <span class="comment">// traverse along rows, </span></span><br><span class="line">    <span class="keyword">int</span> n = cols.length;</span><br><span class="line">    <span class="keyword">if</span>(col == n)&#123;</span><br><span class="line">        result[<span class="number">0</span>]++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>;row&lt;n;row++)&#123;</span><br><span class="line">        <span class="keyword">int</span> idx1 = col - row + n - <span class="number">1</span>; <span class="comment">// n-1 offset</span></span><br><span class="line">        <span class="keyword">int</span> idx2 = col + row;</span><br><span class="line">        <span class="keyword">if</span>(cols[row] || diag1[idx1] || diag2[idx2])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        cols[row] = <span class="keyword">true</span>;</span><br><span class="line">        diag1[idx1] = <span class="keyword">true</span>;</span><br><span class="line">        diag2[idx2] = <span class="keyword">true</span>;</span><br><span class="line">        backtrack(result,col+<span class="number">1</span>,cols,diag1,diag2);</span><br><span class="line">        cols[row] = <span class="keyword">false</span>;</span><br><span class="line">        diag1[idx1] = <span class="keyword">false</span>;</span><br><span class="line">        diag2[idx2] = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="53-Maximum-subarray-easy"><a href="#53-Maximum-subarray-easy" class="headerlink" title="53. Maximum subarray (easy)"></a>53. Maximum subarray (easy)</h4><p>Find the contiguous subarray within an array (containing at least one number) which has the largest sum.</p><p>For example, given the array <code>[-2,1,-3,4,-1,2,1,-5,4]</code>,<br>the contiguous subarray <code>[4,-1,2,1]</code> has the largest sum = <code>6</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// save currSum and maxSum </span></span><br><span class="line">    <span class="keyword">int</span> currSum = <span class="number">0</span>, maxSum = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num: nums)&#123;</span><br><span class="line">        currSum = Math.max(num,num+currSum);</span><br><span class="line">        maxSum = Math.max(maxSum,currSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="54-Spiral-Matrix-medium"><a href="#54-Spiral-Matrix-medium" class="headerlink" title="54. Spiral Matrix (medium)"></a>54. Spiral Matrix (medium)</h4><p>Given a matrix of <em>m</em> x <em>n</em> elements (<em>m</em> rows, <em>n</em> columns), return all elements of the matrix in spiral order.</p><p>For example,<br>Given the following matrix:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [ 1, 2, 3 ],</span><br><span class="line"> [ 4, 5, 6 ],</span><br><span class="line"> [ 7, 8, 9 ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>You should return <code>[1,2,3,6,9,8,7,4,5]</code>.</p><p><img src="https://leetcode.com/problems/spiral-matrix/Figures/54_spiralmatrix.png" alt="SpiralMatrix"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">spiralOrder</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> r1 = <span class="number">0</span>, r2 = matrix.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> c1 = <span class="number">0</span>, c2 = matrix[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(r1&lt;=r2 &amp;&amp; c1&lt;=c2)&#123;</span><br><span class="line">        <span class="comment">// add all r1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c1;c&lt;=c2;c++)</span><br><span class="line">            result.add(matrix[r1][c]);</span><br><span class="line">        <span class="comment">// add all c2</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r1+<span class="number">1</span>;r&lt;=r2;r++)</span><br><span class="line">            result.add(matrix[r][c2]);</span><br><span class="line">        <span class="comment">// if las row or col break</span></span><br><span class="line">        <span class="keyword">if</span>(r1==r2 || c1==c2)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// add all r2</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c2-<span class="number">1</span>;c&gt;=c1+<span class="number">1</span>;c--)</span><br><span class="line">            result.add(matrix[r2][c]);</span><br><span class="line">        <span class="comment">// add all c1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r2;r&gt;=r1+<span class="number">1</span>;r--)</span><br><span class="line">            result.add(matrix[r][c1]);</span><br><span class="line">        <span class="comment">// update</span></span><br><span class="line">        r1++;r2--;c1++;c2--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="55-Jump-Game-medium"><a href="#55-Jump-Game-medium" class="headerlink" title="55. Jump Game (medium)"></a>55. Jump Game (medium)</h4><p>Given an array of non-negative integers, you are initially positioned at the first index of the array.</p><p>Each element in the array represents your maximum jump length at that position. </p><p>Determine if you are able to reach the last index.</p><p>For example:<br>A = <code>[2,3,1,1,4]</code>, return <code>true</code>.</p><p>A = <code>[3,2,1,0,4]</code>, return <code>false</code>.</p><p><strong>end to head, check whether it’s a good point</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canJump</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// last index that is a good point</span></span><br><span class="line">    <span class="keyword">int</span> last = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=last-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i + nums[i] &gt;= last)</span><br><span class="line">            last = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> last == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="56-Merge-Intervals-medium"><a href="#56-Merge-Intervals-medium" class="headerlink" title="56. Merge Intervals (medium)"></a>56. Merge Intervals (medium)</h4><p>Given a collection of intervals, merge all overlapping intervals.</p><p>For example,<br>Given <code>[1,3],[2,6],[8,10],[15,18]</code>,<br>return <code>[1,6],[8,10],[15,18]</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for an interval.</span></span><br><span class="line"><span class="comment"> * public class Interval &#123;</span></span><br><span class="line"><span class="comment"> *     int start;</span></span><br><span class="line"><span class="comment"> *     int end;</span></span><br><span class="line"><span class="comment"> *     Interval() &#123; start = 0; end = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Interval(int s, int e) &#123; start = s; end = e; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">merge</span><span class="params">(List&lt;Interval&gt; intervals)</span> </span>&#123;</span><br><span class="line">    List&lt;Interval&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(intervals==<span class="keyword">null</span> || intervals.size()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Collections.sort(intervals,(o1,o2)-&gt;o1.start-o2.start);</span><br><span class="line">    Interval prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(Interval curr : intervals)&#123;</span><br><span class="line">        <span class="comment">// result blank or no overlapping</span></span><br><span class="line">        <span class="keyword">if</span>(prev==<span class="keyword">null</span> || curr.start&gt;prev.end)&#123;</span><br><span class="line">            prev = curr;</span><br><span class="line">            result.add(prev);</span><br><span class="line">        &#125;<span class="keyword">else</span>   <span class="comment">// have overlapping</span></span><br><span class="line">            prev.end = Math.max(prev.end,curr.end);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="57-Insert-Interval-hard"><a href="#57-Insert-Interval-hard" class="headerlink" title="57. Insert Interval (hard)"></a>57. Insert Interval (hard)</h4><p>Given a set of <em>non-overlapping</em> intervals, insert a new interval into the intervals (merge if necessary).</p><p>You may assume that the intervals were initially sorted according to their start times.</p><p><strong>Example 1:</strong><br>Given intervals <code>[1,3],[6,9]</code>, insert and merge <code>[2,5]</code> in as <code>[1,5],[6,9]</code>.</p><p><strong>Example 2:</strong><br>Given <code>[1,2],[3,5],[6,7],[8,10],[12,16]</code>, insert and merge <code>[4,9]</code> in as <code>[1,2],[3,10],[12,16]</code>.</p><p>This is because the new interval <code>[4,9]</code> overlaps with <code>[3,5],[6,7],[8,10]</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for an interval.</span></span><br><span class="line"><span class="comment"> * public class Interval &#123;</span></span><br><span class="line"><span class="comment"> *     int start;</span></span><br><span class="line"><span class="comment"> *     int end;</span></span><br><span class="line"><span class="comment"> *     Interval() &#123; start = 0; end = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Interval(int s, int e) &#123; start = s; end = e; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">insert</span><span class="params">(List&lt;Interval&gt; intervals, Interval newInterval)</span> </span>&#123;</span><br><span class="line">    List&lt;Interval&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// assume already sorted</span></span><br><span class="line">    <span class="comment">// Collections.sort(intervals,(o1,o2)-&gt;o1.start-o2.start);</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// add intervals before newIntervals first, no overlapping</span></span><br><span class="line">    <span class="keyword">while</span>(idx&lt;intervals.size() &amp;&amp; intervals.get(idx).end&lt;newInterval.start)&#123;</span><br><span class="line">        result.add(intervals.get(idx));</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// merge overlapping intervals, curr.end &gt;= new.start</span></span><br><span class="line">    <span class="keyword">while</span>(idx&lt;intervals.size() &amp;&amp; intervals.get(idx).start&lt;=newInterval.end)&#123;</span><br><span class="line">        Interval curr = intervals.get(idx);</span><br><span class="line">        newInterval.start = Math.min(newInterval.start,curr.start);</span><br><span class="line">        newInterval.end = Math.max(newInterval.end,curr.end);</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    result.add(newInterval);</span><br><span class="line">    <span class="comment">// add intervals after newIntervals, no overlapping</span></span><br><span class="line">    <span class="keyword">while</span>(idx&lt;intervals.size())&#123;</span><br><span class="line">        result.add(intervals.get(idx));</span><br><span class="line">        idx++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="58-Length-of-Last-Word-easy"><a href="#58-Length-of-Last-Word-easy" class="headerlink" title="58. Length of Last Word (easy)"></a>58. Length of Last Word (easy)</h4><p>Given a string <em>s</em> consists of upper/lower-case alphabets and empty space characters <code>&#39; &#39;</code>, return the length of last word in the string.</p><p>If the last word does not exist, return 0.</p><p><strong>Note:</strong> A word is defined as a character sequence consists of non-space characters only.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;Hello World&quot;</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLastWord</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tail = s.length()-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(tail&gt;=<span class="number">0</span> &amp;&amp; s.charAt(tail)==<span class="string">' '</span>)</span><br><span class="line">        tail--;</span><br><span class="line">    <span class="keyword">int</span> head = tail;</span><br><span class="line">    <span class="keyword">while</span>(head&gt;=<span class="number">0</span> &amp;&amp; s.charAt(head)!=<span class="string">' '</span>)</span><br><span class="line">        head--;</span><br><span class="line">    <span class="keyword">return</span> tail - head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="59-Spiral-Matrix-II-medium"><a href="#59-Spiral-Matrix-II-medium" class="headerlink" title="59. Spiral Matrix II (medium)"></a>59. Spiral Matrix II (medium)</h4><p>Given an integer <em>n</em>, generate a square matrix filled with elements from 1 to <em>n</em>2 in spiral order.</p><p>For example,<br>Given <em>n</em> = <code>3</code>,</p><p>You should return the following matrix:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [ 1, 2, 3 ],</span><br><span class="line"> [ 8, 9, 4 ],</span><br><span class="line"> [ 7, 6, 5 ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] generateMatrix(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">int</span>[][] result = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> r1 = <span class="number">0</span>, r2 = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> c1 = <span class="number">0</span>, c2 = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(r1&lt;=r2 &amp;&amp; c1&lt;=c2)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c1;c&lt;=c2;c++)</span><br><span class="line">            result[r1][c] = num++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r1+<span class="number">1</span>;r&lt;=r2;r++)</span><br><span class="line">            result[r][c2] = num++;</span><br><span class="line">        <span class="keyword">if</span>(r1==r2 || c1==c2)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=c2-<span class="number">1</span>;c&gt;=c1+<span class="number">1</span>;c--)</span><br><span class="line">            result[r2][c] = num++;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=r2;r&gt;=r1+<span class="number">1</span>;r--)</span><br><span class="line">            result[r][c1] = num++;</span><br><span class="line">        r1++;r2--;c1++;c2--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="61-Rotate-List-medium"><a href="#61-Rotate-List-medium" class="headerlink" title="61. Rotate List (medium)"></a>61. Rotate List (medium)</h4><p>Given a list, rotate the list to the right by <em>k</em> places, where <em>k</em> is non-negative.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL and k = 2,</span><br><span class="line">return 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">rotateRight</span><span class="params">(ListNode head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// notice corner case</span></span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>), fast = dummy;</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="comment">// find length first, and end node</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">        len ++;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// find node before new head</span></span><br><span class="line">    <span class="comment">// k may larger than len =&gt; %</span></span><br><span class="line">    ListNode slow = dummy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len-k%len;i++)</span><br><span class="line">        slow = slow.next;</span><br><span class="line">    <span class="comment">// rotation order, </span></span><br><span class="line">    fast.next = dummy.next;</span><br><span class="line">    dummy.next = slow.next;</span><br><span class="line">    slow.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="62-Unique-Paths-medium"><a href="#62-Unique-Paths-medium" class="headerlink" title="62. Unique Paths (medium)"></a>62. Unique Paths (medium)</h4><p>A robot is located at the top-left corner of a <em>m</em> x <em>n</em> grid (marked ‘Start’ in the diagram below).</p><p>The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked ‘Finish’ in the diagram below).</p><p>How many possible unique paths are there?</p><p><img src="https://leetcode.com/static/images/problemset/robot_maze.png" alt="img"></p><p>Above is a 3 x 7 grid. How many possible unique paths are there?</p><p><strong>Note:</strong> <em>m</em> and <em>n</em> will be at most 100.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">uniquePaths</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// time O(mn), space O(min(m,n))</span></span><br><span class="line">    <span class="keyword">if</span>(m &lt;= <span class="number">0</span> || n &lt;=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// use 1D dp </span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(dp,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">            dp[j] += dp[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="63-Unique-Paths-II-medium"><a href="#63-Unique-Paths-II-medium" class="headerlink" title="63. Unique Paths II (medium)"></a>63. Unique Paths II (medium)</h4><p>Follow up for “Unique Paths”:</p><p>Now consider if some obstacles are added to the grids. How many unique paths would there be?</p><p>An obstacle and empty space is marked as <code>1</code> and <code>0</code> respectively in the grid.</p><p>For example,</p><p>There is one obstacle in the middle of a 3x3 grid as illustrated below.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [0,0,0],</span><br><span class="line">  [0,1,0],</span><br><span class="line">  [0,0,0]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>The total number of unique paths is <code>2</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">uniquePathsWithObstacles</span><span class="params">(<span class="keyword">int</span>[][] obstacleGrid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to previous, use 1D DP</span></span><br><span class="line">    <span class="keyword">if</span>(obstacleGrid==<span class="keyword">null</span> || obstacleGrid.length==<span class="number">0</span> || obstacleGrid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = obstacleGrid.length, n = obstacleGrid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// init head as 0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="comment">// obstacle, curr count reset 0</span></span><br><span class="line">            <span class="keyword">if</span>(obstacleGrid[i][j] == <span class="number">1</span>)</span><br><span class="line">                dp[j] = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// accumulate when j &gt; 0</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j &gt; <span class="number">0</span>)</span><br><span class="line">                dp[j] += dp[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="64-Minimum-Path-Sum-medium"><a href="#64-Minimum-Path-Sum-medium" class="headerlink" title="64. Minimum Path Sum (medium)"></a>64. Minimum Path Sum (medium)</h4><p>Given a <em>m</em> x <em>n</em> grid filled with non-negative numbers, find a path from top left to bottom right which <em>minimizes</em> the sum of all numbers along its path.</p><p><strong>Note:</strong> You can only move either down or right at any point in time.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[1,3,1],</span><br><span class="line"> [1,5,1],</span><br><span class="line"> [4,2,1]]</span><br></pre></td></tr></table></figure><p>Given the above grid map, return </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7</span><br></pre></td></tr></table></figure><p>. Because the path 1→3→1→1→1 minimizes the sum.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// go through first row</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">        grid[<span class="number">0</span>][j] += grid[<span class="number">0</span>][j-<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// go through first col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)</span><br><span class="line">        grid[i][<span class="number">0</span>] += grid[i-<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// go through other</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">            grid[i][j] += Math.min(grid[i-<span class="number">1</span>][j],grid[i][j-<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> grid[m-<span class="number">1</span>][n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="66-Plus-One-easy"><a href="#66-Plus-One-easy" class="headerlink" title="66. Plus One (easy)"></a>66. Plus One (easy)</h4><p>Given a non-negative integer represented as a <strong>non-empty</strong> array of digits, plus one to the integer.</p><p>You may assume the integer do not contain any leading zero, except the number 0 itself.</p><p>The digits are stored such that the most significant digit is at the head of the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] plusOne(<span class="keyword">int</span>[] digits) &#123;</span><br><span class="line">    <span class="keyword">if</span>(digits==<span class="keyword">null</span> || digits.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// if 9, continue check previous,</span></span><br><span class="line">    <span class="comment">// if not 9, +1 will stop</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=digits.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(digits[i] == <span class="number">9</span>)</span><br><span class="line">            digits[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            digits[i] ++;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if all 0</span></span><br><span class="line">    <span class="keyword">if</span>(digits[<span class="number">0</span>] == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[digits.length+<span class="number">1</span>];</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> digits;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="67-add-binary-easy"><a href="#67-add-binary-easy" class="headerlink" title="67-add-binary-easy"></a>67-add-binary-easy</h4><p>Given two binary strings, return their sum (also a binary string).</p><p>For example,<br>a = <code>&quot;11&quot;</code><br>b = <code>&quot;1&quot;</code><br>Return <code>&quot;100&quot;</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addBinary</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a == <span class="keyword">null</span> || b == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="comment">// use string builder and reverse</span></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">int</span> i = a.length() - <span class="number">1</span>, j = b.length() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)</span><br><span class="line">            sum += a.charAt(i--) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)</span><br><span class="line">            sum += b.charAt(j--) - <span class="string">'0'</span>;</span><br><span class="line">        sb.append(sum % <span class="number">2</span>);</span><br><span class="line">        sum /= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum != <span class="number">0</span>)</span><br><span class="line">        sb.append(sum);</span><br><span class="line">    <span class="keyword">return</span> sb.reverse().toString();    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="69-int-sqrt-x-easy"><a href="#69-int-sqrt-x-easy" class="headerlink" title="69. int sqrt(x) (easy)"></a>69. int sqrt(x) (easy)</h4><p><strong>binary search</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">1</span>, right = x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(mid &gt; x / mid)</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// mid^2 &lt; x but mid+1 ^2 &gt; x</span></span><br><span class="line">            <span class="keyword">if</span>(mid+<span class="number">1</span> &gt; x/(mid+<span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="70-climbing-stairs-easy"><a href="#70-climbing-stairs-easy" class="headerlink" title="#70-climbing-stairs-easy"></a>#70-climbing-stairs-easy</h4><p>You are climbing a stair case. It takes <em>n</em> steps to reach to the top.</p><p>Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?</p><p><strong>Note:</strong> Given <em>n</em> will be a positive integer.</p><p><strong>**Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output:  3</span><br><span class="line">Explanation:  There are three ways to climb to the top.</span><br><span class="line"></span><br><span class="line">1. 1 step + 1 step + 1 step</span><br><span class="line">2. 1 step + 2 steps</span><br><span class="line">3. 2 steps + 1 step</span><br></pre></td></tr></table></figure><p><strong>basic:</strong></p><p>Assume <code>T(n-1) = O(2`</code>n-1<code></code>)`, <em>therefore</em></p><p><code>T(n) = T(n-1) + T(n-2) + O(1)</code> <em>which is equal to</em></p><p><code>T(n) = O(2`</code>n-1<code>) + O(2</code>n-2<code>) + O(1) = O(2</code>n<code></code>)`</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// n step is count n-1 step + count n-2 step</span></span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="keyword">int</span> first = <span class="number">1</span>, second = <span class="number">2</span>, curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        curr = first + second;</span><br><span class="line">        first = second;</span><br><span class="line">        second = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>add memo top down:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 0:1, 1:1, 2:2, 3:3, 4:5, 5:8</span></span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>)    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] memo = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> helper(n,memo);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span>[] memo)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(memo[n] != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> memo[n];</span><br><span class="line">    memo[n] = helper(n-<span class="number">1</span>,memo) + helper(n-<span class="number">2</span>,memo);</span><br><span class="line">    <span class="keyword">return</span> memo[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>top down dp iteration space O(n)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)</span><br><span class="line">        dp[i] = dp[i-<span class="number">1</span>] + dp[i-<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> first = <span class="number">1</span>, second = <span class="number">1</span>, result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        result = first + second;</span><br><span class="line">        first = second;</span><br><span class="line">        second = result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="71-simplify-path-medium"><a href="#71-simplify-path-medium" class="headerlink" title="#71-simplify-path-medium"></a>#71-simplify-path-medium</h4><p>Given an absolute path for a file (Unix-style), simplify it.</p><p>For example,<br><strong>path</strong> = <code>&quot;/home/&quot;</code>, =&gt; <code>&quot;/home&quot;</code><br><strong>path</strong> = <code>&quot;/a/./b/../../c/&quot;</code>, =&gt; <code>&quot;/c&quot;</code></p><ul><li>Did you consider the case where <strong>path</strong> = <code>&quot;/../&quot;</code>?<br>In this case, you should return <code>&quot;/&quot;</code>.</li><li>Another corner case is the path might contain multiple slashes <code>&#39;/&#39;</code> together, such as <code>&quot;/home//foo/&quot;</code>.<br>In this case, you should ignore redundant slashes and return <code>&quot;/home/foo&quot;</code>.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">simplifyPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use stack .. pop else push</span></span><br><span class="line">    <span class="keyword">if</span>(path == <span class="keyword">null</span> || path.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(String s : path.split(<span class="string">"/"</span>))&#123;</span><br><span class="line">        <span class="comment">// case .(curr folder) continue</span></span><br><span class="line">        <span class="keyword">if</span>(s.equals(<span class="string">"."</span>))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">// case .. prev folder</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">".."</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(!stack.isEmpty())</span><br><span class="line">                stack.pop();</span><br><span class="line">        <span class="comment">// case name dir, not empty, not ///</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!s.isEmpty())&#123;</span><br><span class="line">            stack.push(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case /</span></span><br><span class="line">    <span class="keyword">if</span>(stack.isEmpty())</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"/"</span>;</span><br><span class="line">    <span class="comment">// pop and build result</span></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="comment">// build list from stack</span></span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(stack);</span><br><span class="line">    <span class="keyword">for</span>(String s : list)</span><br><span class="line">        sb.append(<span class="string">"/"</span>).append(s);</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="72-edit-distance-hard"><a href="#72-edit-distance-hard" class="headerlink" title="#72-edit-distance-hard"></a>#72-edit-distance-hard</h4><p>Given two words <em>word1</em> and <em>word2</em>, find the minimum number of operations required to convert <em>word1</em> to <em>word2</em>.</p><p>You have the following 3 operations permitted on a word:</p><ol><li>Insert a character</li><li>Delete a character</li><li>Replace a character</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: word1 = &quot;horse&quot;, word2 = &quot;ros&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: </span><br><span class="line">horse -&gt; rorse (replace &apos;h&apos; with &apos;r&apos;)</span><br><span class="line">rorse -&gt; rose (remove &apos;r&apos;)</span><br><span class="line">rose -&gt; ros (remove &apos;e&apos;)</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: word1 = &quot;intention&quot;, word2 = &quot;execution&quot;</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: </span><br><span class="line">intention -&gt; inention (remove &apos;t&apos;)</span><br><span class="line">inention -&gt; enention (replace &apos;i&apos; with &apos;e&apos;)</span><br><span class="line">enention -&gt; exention (replace &apos;n&apos; with &apos;x&apos;)</span><br><span class="line">exention -&gt; exection (replace &apos;n&apos; with &apos;c&apos;)</span><br><span class="line">exection -&gt; execution (insert &apos;u&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar regex</span></span><br><span class="line">    <span class="keyword">if</span>(word1==<span class="keyword">null</span> || word2==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// row word1, col word2</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[word2.length()+<span class="number">1</span>][word1.length()+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// init first row: word1 to ""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;word1.length(); j++)</span><br><span class="line">        dp[<span class="number">0</span>][j+<span class="number">1</span>] = dp[<span class="number">0</span>][j] + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// init first col: "" to word2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word2.length(); i++)</span><br><span class="line">        dp[i+<span class="number">1</span>][<span class="number">0</span>] = dp[i][<span class="number">0</span>] + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// the other</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;word2.length(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;word1.length(); j++)&#123;</span><br><span class="line">            <span class="comment">// char1 != char2:</span></span><br><span class="line">            <span class="comment">// 1. insert: dp[i][j] = dp[i-1][j]+1;</span></span><br><span class="line">            <span class="comment">// 2. replace: dp[i][j] = dp[i-1][j-1]+1;</span></span><br><span class="line">            <span class="comment">// 3. delete: dp[i][j] = dp[i][j-1]+1;</span></span><br><span class="line">            <span class="keyword">if</span>(word2.charAt(i) != word1.charAt(j))&#123;</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = <span class="number">1</span> +</span><br><span class="line">                               Math.min(dp[i][j],</span><br><span class="line">                               Math.min(dp[i][j+<span class="number">1</span>],</span><br><span class="line">                                        dp[i+<span class="number">1</span>][j]));</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="comment">// case char1 == char2</span></span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[word2.length()][word1.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="73-set-matrix-zeros-medium"><a href="#73-set-matrix-zeros-medium" class="headerlink" title="#73-set-matrix-zeros-medium"></a>#73-set-matrix-zeros-medium</h4><p>Given a <em>m</em> x <em>n</em> matrix, if an element is 0, set its entire row and column to 0. Do it in place.</p><p>Did you use extra space?<br>A straight forward solution using O(<em>m**n</em>) space is probably a bad idea.<br>A simple improvement uses O(<em>m</em> + <em>n</em>) space, but still not the best solution.<br>Could you devise a constant space solution?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setZeroes</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// set all leading row &amp; col to zeros</span></span><br><span class="line">    <span class="keyword">if</span>(matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">boolean</span> firstRow = <span class="keyword">false</span>, firstCol = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// check first col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)</span><br><span class="line">        <span class="keyword">if</span>(matrix[i][<span class="number">0</span>] == <span class="number">0</span>)</span><br><span class="line">            firstCol = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// check first row</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;col;j++)</span><br><span class="line">        <span class="keyword">if</span>(matrix[<span class="number">0</span>][j] == <span class="number">0</span>)</span><br><span class="line">            firstRow = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// the other</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;row;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;col;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">                matrix[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                matrix[<span class="number">0</span>][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set 0 skip first row &amp; col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;row;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;col;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][<span class="number">0</span>]==<span class="number">0</span> || matrix[<span class="number">0</span>][j]==<span class="number">0</span>)</span><br><span class="line">                matrix[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// update first row &amp; col can cause problem</span></span><br><span class="line">    <span class="comment">// update first row &amp; col</span></span><br><span class="line">    <span class="keyword">if</span>(firstRow)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;col;j++)</span><br><span class="line">            matrix[<span class="number">0</span>][j] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(firstCol)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)</span><br><span class="line">            matrix[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="74-search-a-2d-matrix-medium"><a href="#74-search-a-2d-matrix-medium" class="headerlink" title="#74-search-a-2d-matrix-medium"></a>#74-search-a-2d-matrix-medium</h4><p>Write an efficient algorithm that searches for a value in an <em>m</em> x <em>n</em> matrix. This matrix has the following properties:</p><ul><li>Integers in each row are sorted from left to right.</li><li>The first integer of each row is greater than the last integer of the previous row.</li></ul><p>For example,</p><p>Consider the following matrix:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,   3,  5,  7],</span><br><span class="line">  [10, 11, 16, 20],</span><br><span class="line">  [23, 30, 34, 50]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>Given <strong>target</strong> = <code>3</code>, return <code>true</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// convert to binary search</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// left right should be index</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = m * n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> row = mid / n;</span><br><span class="line">        <span class="keyword">int</span> col = mid % n;</span><br><span class="line">        <span class="keyword">if</span>(matrix[row][col] == target)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(matrix[row][col] &lt; target)</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="75-sort-colors-medium"><a href="#75-sort-colors-medium" class="headerlink" title="#75-sort-colors-medium"></a>#75-sort-colors-medium</h4><p>Given an array with <em>n</em> objects colored red, white or blue, sort them so that objects of the same color are adjacent, with the colors in the order red, white and blue.</p><p>Here, we will use the integers 0, 1, and 2 to represent the color red, white, and blue respectively.</p><p><strong>Note:</strong><br>You are not suppose to use the library’s sort function for this problem.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//  0000|i|1111|j|????|k|2222</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// j is unvisited, notice j = k</span></span><br><span class="line">    <span class="keyword">while</span>(j &lt;= k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[j] == <span class="number">0</span>)&#123;</span><br><span class="line">            swap(nums,i++,j++);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">1</span>)</span><br><span class="line">            j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">2</span>)</span><br><span class="line">            swap(nums,j,k--);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//  0000|i|1111|j|????|k|2222</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// j is unvisited, notice j = k</span></span><br><span class="line">    <span class="keyword">while</span>(j &lt;= k)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[j] == <span class="number">0</span>)&#123;</span><br><span class="line">            nums[j++] = nums[i];</span><br><span class="line">            nums[i++] = <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">1</span>)&#123;</span><br><span class="line">            j ++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[j] == <span class="number">2</span>)&#123;</span><br><span class="line">            nums[j] = nums[k];</span><br><span class="line">            nums[k--] = <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="76-minimun-window-substring-hard"><a href="#76-minimun-window-substring-hard" class="headerlink" title="#76-minimun-window-substring-hard"></a>#76-minimun-window-substring-hard</h4><p>Given a string S and a string T, find the minimum window in S which will contain all the characters in T in complexity O(n).</p><p>For example,<br><strong>S</strong> = <code>&quot;ADOBECODEBANC&quot;</code><br><strong>T</strong> = <code>&quot;ABC&quot;</code></p><p>Minimum window is <code>&quot;BANC&quot;</code>.</p><p><strong>Note:</strong><br>If there is no such window in S that covers all characters in T, return the empty string <code>&quot;&quot;</code>.</p><p>If there are multiple such windows, you are guaranteed that there will always be only one unique minimum window in S.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || t==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="comment">// find t histogram first</span></span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : t.toCharArray())</span><br><span class="line">        bin[c] ++;</span><br><span class="line">    <span class="comment">// sliding window</span></span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, count = t.length();</span><br><span class="line">    <span class="keyword">int</span> minLen = s.length() + <span class="number">1</span>, minHead = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>;tail&lt;s.length();tail++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(bin[s.charAt(tail)] &gt; <span class="number">0</span>)</span><br><span class="line">            count --;</span><br><span class="line">        bin[s.charAt(tail)]--;</span><br><span class="line">        <span class="comment">// valid edge condition</span></span><br><span class="line">        <span class="keyword">while</span>(count == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// update min then shift window</span></span><br><span class="line">            <span class="keyword">if</span>(tail-head+<span class="number">1</span> &lt; minLen)&#123;</span><br><span class="line">                minLen = tail - head + <span class="number">1</span>;</span><br><span class="line">                minHead = head;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(bin[s.charAt(head)] == <span class="number">0</span>)</span><br><span class="line">                count ++;</span><br><span class="line">            bin[s.charAt(head)]++;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen &gt; s.length() ? <span class="string">""</span> : s.substring(minHead,minHead+minLen);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="77-combinations-medium"><a href="#77-combinations-medium" class="headerlink" title="#77-combinations-medium"></a>#77-combinations-medium</h4><p>Given two integers <em>n</em> and <em>k</em>, return all possible combinations of <em>k</em> numbers out of 1 … <em>n</em>.</p><p>For example,<br>If <em>n</em> = 4 and <em>k</em> = 2, a solution is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [2,4],</span><br><span class="line">  [3,4],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  [1,3],</span><br><span class="line">  [1,4],</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">// backtracking</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="number">1</span>,n,k);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; temp,<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> count)</span></span>&#123;</span><br><span class="line">    <span class="comment">// optimization here, if start to close to end so no enough elements</span></span><br><span class="line">    <span class="keyword">if</span>(count - temp.size() &gt; end - start + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//////////////////////////////////////</span></span><br><span class="line">    <span class="keyword">if</span>(temp.size() == count)&#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;=end;i++)&#123;</span><br><span class="line">        temp.add(i);</span><br><span class="line">        backtrack(result,temp,i+<span class="number">1</span>,end,count);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="78-subsets-medium"><a href="#78-subsets-medium" class="headerlink" title="#78-subsets-medium"></a>#78-subsets-medium</h4><p>Given a set of <strong>distinct</strong> integers, <em>nums</em>, return all possible subsets (the power set).</p><p><strong>Note:</strong> The solution set must not contain duplicate subsets.</p><p>For example,<br>If <strong>nums</strong> = <code>[1,2,3]</code>, a solution is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [1],</span><br><span class="line">  [2],</span><br><span class="line">  [1,2,3],</span><br><span class="line">  [1,3],</span><br><span class="line">  [2,3],</span><br><span class="line">  [1,2],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsets(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="comment">// backtracking // distinct</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, <span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="comment">// add result each level</span></span><br><span class="line">    result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;nums.length;i++)&#123;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,i+<span class="number">1</span>);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="79-word-search-medium"><a href="#79-word-search-medium" class="headerlink" title="#79-word-search-medium"></a>#79-word-search-medium</h4><p>Given a 2D board and a word, find if the word exists in the grid.</p><p>The word can be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once.</p><p>For example,<br>Given <strong>board</strong> = </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;E&apos;],</span><br><span class="line">  [&apos;S&apos;,&apos;F&apos;,&apos;C&apos;,&apos;S&apos;],</span><br><span class="line">  [&apos;A&apos;,&apos;D&apos;,&apos;E&apos;,&apos;E&apos;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>word = <code>&quot;ABCCED&quot;</code>, -&gt; returns <code>true</code>,</p><p>word = <code>&quot;SEE&quot;</code>, -&gt; returns <code>true</code>,</p><p>word = <code>&quot;ABCB&quot;</code>, -&gt; returns <code>false</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to num of island</span></span><br><span class="line">    <span class="comment">// use ^256 to obtain space O(1)</span></span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length==<span class="number">0</span> || board[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(helper(board,word,<span class="number">0</span>,i,j))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(<span class="keyword">char</span>[][] board,String word,<span class="keyword">int</span> idx,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span> || x&gt;=board.length || y&lt;<span class="number">0</span> || y&gt;=board[<span class="number">0</span>].length || </span><br><span class="line">       word.charAt(idx)!=board[x][y])</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// set to not a valid letter</span></span><br><span class="line">    board[x][y] ^= <span class="number">256</span>;</span><br><span class="line">    <span class="keyword">if</span>(helper(board,word,idx+<span class="number">1</span>,x-<span class="number">1</span>,y) ||</span><br><span class="line">      helper(board,word,idx+<span class="number">1</span>,x+<span class="number">1</span>,y) ||</span><br><span class="line">      helper(board,word,idx+<span class="number">1</span>,x,y-<span class="number">1</span>) ||</span><br><span class="line">      helper(board,word,idx+<span class="number">1</span>,x,y+<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// reset to letter</span></span><br><span class="line">    board[x][y] ^= <span class="number">256</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="80-remove-duplicates-from-sorted-array-ii-medium"><a href="#80-remove-duplicates-from-sorted-array-ii-medium" class="headerlink" title="#80-remove-duplicates-from-sorted-array-ii-medium"></a>#80-remove-duplicates-from-sorted-array-ii-medium</h4><p>Follow up for “Remove Duplicates”:<br>What if duplicates are allowed at most <em>twice</em>?</p><p>For example,<br>Given sorted array <em>nums</em> = <code>[1,1,1,2,2,3]</code>,</p><p>Your function should return length = <code>5</code>, with the first five elements of <em>nums</em> being <code>1</code>, <code>1</code>, <code>2</code>, <code>2</code> and <code>3</code>. It doesn’t matter what you leave beyond the new length.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums.length &lt;= <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> nums.length;</span><br><span class="line">    <span class="keyword">int</span> tail = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// similar but check tail - 2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != nums[tail-<span class="number">2</span>])</span><br><span class="line">            nums[tail++] = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tail;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// optimized</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums.length &lt;= <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> nums.length;</span><br><span class="line">    <span class="keyword">int</span> tail = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tail &lt; <span class="number">2</span> || num != nums[tail-<span class="number">2</span>])</span><br><span class="line">            nums[tail++] = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="81-search-in-rotated-sorted-array-ii-medium"><a href="#81-search-in-rotated-sorted-array-ii-medium" class="headerlink" title="#81-search-in-rotated-sorted-array-ii-medium"></a>#81-search-in-rotated-sorted-array-ii-medium</h4><blockquote><p><em>Follow up</em> for “Search in Rotated Sorted Array”:<br>What if <em>duplicates</em> are allowed?</p><p>Would this affect the run-time complexity? How and why?</p></blockquote><p><a href="#33-search-in-rotated-sorted-array-medium">#33-search-in-rotated-sorted-array-medium</a></p><p>Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.</p><p>(i.e., <code>0 1 2 4 5 6 7</code> might become <code>4 5 6 7 0 1 2</code>).</p><p>Write a function to determine if a given target is in the array.</p><p>The array may contain duplicates.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 1) everytime check if targe == nums[mid], if so, we find it.</span></span><br><span class="line"><span class="comment">// 2) otherwise, we check if the first half is in order (i.e. nums[left]&lt;=nums[mid]) </span></span><br><span class="line"><span class="comment">//   and if so, go to step 3), otherwise, the second half is in order,   go to step 4)</span></span><br><span class="line"><span class="comment">// 3) check if target in the range of [left, mid-1] (i.e. nums[left]&lt;=target &lt; nums[mid]), </span></span><br><span class="line"><span class="comment">//         if so, do search in the first half, i.e. right = mid-1; otherwise, search in the second half left = mid+1;</span></span><br><span class="line"><span class="comment">// 4)  check if target in the range of [mid+1, right] (i.e. nums[mid]&lt;target &lt;= nums[right]), </span></span><br><span class="line"><span class="comment">//         if so, do search in the second half, i.e. left = mid+1; otherwise search in the first half right = mid-1;</span></span><br><span class="line">        <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">// difference to deal with duplicate here</span></span><br><span class="line">            <span class="keyword">if</span>(nums[left]==nums[mid] &amp;&amp; nums[mid]==nums[right])&#123;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">            <span class="comment">// left half not rotate</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[left] &lt;= nums[mid])&#123;</span><br><span class="line">                <span class="comment">// mid in not rotate part</span></span><br><span class="line">                <span class="keyword">if</span>(nums[left]&lt;=target &amp;&amp; target&lt;nums[mid])</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// mid in rotate part</span></span><br><span class="line">                <span class="keyword">else</span> left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// right half not rotate</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt;= nums[right])&#123;</span><br><span class="line">                <span class="comment">// mid in not rotate part</span></span><br><span class="line">                <span class="keyword">if</span>(nums[mid]&lt;target &amp;&amp; target&lt;=nums[right])</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// mid in rotate part</span></span><br><span class="line">                <span class="keyword">else</span> right = mid -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;       </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="82-remove-duplicates-from-sorted-list-ii-medium"><a href="#82-remove-duplicates-from-sorted-list-ii-medium" class="headerlink" title="#82-remove-duplicates-from-sorted-list-ii-medium"></a>#82-remove-duplicates-from-sorted-list-ii-medium</h4><p>Given a sorted linked list, delete all nodes that have duplicate numbers, leaving only <em>distinct</em> numbers from the original list.</p><p>For example,<br>Given <code>1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5</code>, return <code>1-&gt;2-&gt;5</code>.<br>Given <code>1-&gt;1-&gt;1-&gt;2-&gt;3</code>, return <code>2-&gt;3</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ListNode prev = dummy, curr = head;</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// if next val = curr val, check next</span></span><br><span class="line">        <span class="keyword">while</span>(curr.next!=<span class="keyword">null</span> &amp;&amp; curr.val==curr.next.val)</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        <span class="comment">// if curr is distinct</span></span><br><span class="line">        <span class="keyword">if</span>(prev.next == curr)</span><br><span class="line">            prev = prev.next;</span><br><span class="line">        <span class="keyword">else</span>    </span><br><span class="line">        <span class="comment">// prev stays, case next sequence duplication</span></span><br><span class="line">        <span class="comment">// curr is the last duplication</span></span><br><span class="line">            prev.next = curr.next;   </span><br><span class="line">        curr = curr.next;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="83-remove-duplicates-from-sorted-list-easy"><a href="#83-remove-duplicates-from-sorted-list-easy" class="headerlink" title="#83-remove-duplicates-from-sorted-list-easy"></a>#83-remove-duplicates-from-sorted-list-easy</h4><p>Given a sorted linked list, delete all duplicates such that each element appear only <em>once</em>.</p><p>For example,<br>Given <code>1-&gt;1-&gt;2</code>, return <code>1-&gt;2</code>.<br>Given <code>1-&gt;1-&gt;2-&gt;3-&gt;3</code>, return <code>1-&gt;2-&gt;3</code>.</p><p><strong>iteration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span> || head.next==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span>(curr.next!=<span class="keyword">null</span> &amp;&amp; curr.val==curr.next.val)</span><br><span class="line">            curr.next = curr.next.next;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>recursion</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">deleteDuplicates</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    head.next = deleteDuplicates(head.next);</span><br><span class="line">    <span class="comment">// here head.next != null</span></span><br><span class="line">    <span class="keyword">return</span> head.val == head.next.val ? head.next : head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="84-largest-rectangle-in-histogram-hard"><a href="#84-largest-rectangle-in-histogram-hard" class="headerlink" title="#84-largest-rectangle-in-histogram-hard"></a>#84-largest-rectangle-in-histogram-hard</h4><p>Given <em>n</em> non-negative integers representing the histogram’s bar height where the width of each bar is 1, find the area of largest rectangle in the histogram.</p><p><img src="https://leetcode.com/static/images/problemset/histogram.png" alt="img"></p><p>Above is a histogram where width of each bar is 1, given height = <code>[2,1,5,6,2,3]</code>.</p><p><img src="https://leetcode.com/static/images/problemset/histogram_area.png" alt="img"></p><p>The largest rectangle is shown in the shaded area, which has area = <code>10</code> unit.</p><p>For example,<br>Given heights = <code>[2,1,5,6,2,3]</code>,<br>return <code>10</code>.</p><p><a href="#42-trapping-rain-water-hard">#42-trapping-rain-water-hard</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Maintains an increasing stack</span></span><br><span class="line"><span class="comment">// encounter smaller height, check all previous areas.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">Stack&lt;Integer&gt; idxStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"><span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= heights.length; i++) &#123;</span><br><span class="line"><span class="comment">// push -1 for last, to pop all previous</span></span><br><span class="line"><span class="keyword">int</span> height = i == heights.length ? <span class="number">0</span> : heights[i];</span><br><span class="line"><span class="comment">// when increasing is broken</span></span><br><span class="line"><span class="keyword">while</span> (!idxStack.isEmpty() &amp;&amp; heights[idxStack.peek()] &gt;= height) &#123;</span><br><span class="line"><span class="comment">// get previous higher one, compute previous area</span></span><br><span class="line"><span class="comment">// it's all area from smaller to the highest</span></span><br><span class="line"><span class="keyword">int</span> h = heights[idxStack.pop()];</span><br><span class="line"><span class="comment">// if is empty, there is a bottom rectangle from current to head</span></span><br><span class="line"><span class="keyword">int</span> w = idxStack.isEmpty() ? i : i - <span class="number">1</span> - idxStack.peek();</span><br><span class="line">maxArea = Math.max(maxArea, h * w);</span><br><span class="line">&#125;</span><br><span class="line">idxStack.push(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>optimized beats 98%, check left then right idea </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// save left and right index</span></span><br><span class="line">    <span class="comment">// width is most left &amp; right idx whose h is larger</span></span><br><span class="line">    <span class="keyword">if</span>(heights==<span class="keyword">null</span> || heights.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] left = <span class="keyword">new</span> <span class="keyword">int</span>[heights.length];</span><br><span class="line">    <span class="keyword">int</span>[] right = <span class="keyword">new</span> <span class="keyword">int</span>[heights.length];</span><br><span class="line">    <span class="comment">// find left/right index whose h is larger</span></span><br><span class="line">    <span class="comment">// utilize previous result to reduce run time</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;heights.length;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> l = i-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l&gt;=<span class="number">0</span> &amp;&amp; heights[l]&gt;=heights[i])</span><br><span class="line">            l = left[l];</span><br><span class="line">        left[i] = l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=heights.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">int</span> r = i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(r&lt;heights.length &amp;&amp; heights[r]&gt;=heights[i])</span><br><span class="line">            r = right[r];</span><br><span class="line">        right[i] = r;</span><br><span class="line">    &#125;        </span><br><span class="line">    <span class="comment">// then for h, the width is r - l - 1;</span></span><br><span class="line">    <span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;heights.length;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> w = right[i] - left[i] - <span class="number">1</span>;</span><br><span class="line">        maxArea = Math.max(maxArea,heights[i]*w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="86-partition-list-medium"><a href="#86-partition-list-medium" class="headerlink" title="#86-partition-list-medium"></a>#86-partition-list-medium</h4><p>Given a linked list and a value <em>x</em>, partition it such that all nodes less than <em>x</em> come before nodes greater than or equal to <em>x</em>.</p><p>You should preserve the original relative order of the nodes in each of the two partitions.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3</span><br><span class="line">Output: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">partition</span><span class="params">(ListNode head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two head;</span></span><br><span class="line">    ListNode dummy1 = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev1 = dummy1;</span><br><span class="line">    ListNode dummy2 = <span class="keyword">new</span> ListNode(<span class="number">0</span>), prev2 = dummy2;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head.val &lt; x)&#123;</span><br><span class="line">            prev1.next = head;</span><br><span class="line">            prev1 = prev1.next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            prev2.next = head;</span><br><span class="line">            prev2 = prev2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// combine two list</span></span><br><span class="line">    prev1.next = dummy2.next;</span><br><span class="line">    prev2.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> dummy1.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="87-scramble-string-hard"><a href="#87-scramble-string-hard" class="headerlink" title="#87-scramble-string-hard"></a>#87-scramble-string-hard</h4><p>Given a string <em>s1</em>, we may represent it as a binary tree by partitioning it to two non-empty substrings recursively.</p><p>Below is one possible representation of <em>s1</em> = <code>&quot;great&quot;</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    great</span><br><span class="line">   /    \</span><br><span class="line">  gr    eat</span><br><span class="line"> / \    /  \</span><br><span class="line">g   r  e   at</span><br><span class="line">           / \</span><br><span class="line">          a   t</span><br></pre></td></tr></table></figure><p>To scramble the string, we may choose any non-leaf node and swap its two children.</p><p>For example, if we choose the node <code>&quot;gr&quot;</code> and swap its two children, it produces a scrambled string <code>&quot;rgeat&quot;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    rgeat</span><br><span class="line">   /    \</span><br><span class="line">  rg    eat</span><br><span class="line"> / \    /  \</span><br><span class="line">r   g  e   at</span><br><span class="line">           / \</span><br><span class="line">          a   t</span><br></pre></td></tr></table></figure><p>We say that <code>&quot;rgeat&quot;</code> is a scrambled string of <code>&quot;great&quot;</code>.</p><p>Similarly, if we continue to swap the children of nodes <code>&quot;eat&quot;</code> and <code>&quot;at&quot;</code>, it produces a scrambled string <code>&quot;rgtae&quot;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    rgtae</span><br><span class="line">   /    \</span><br><span class="line">  rg    tae</span><br><span class="line"> / \    /  \</span><br><span class="line">r   g  ta  e</span><br><span class="line">       / \</span><br><span class="line">      t   a</span><br></pre></td></tr></table></figure><p>We say that <code>&quot;rgtae&quot;</code> is a scrambled string of <code>&quot;great&quot;</code>.</p><p>Given two strings <em>s1</em> and <em>s2</em> of the same length, determine if <em>s2</em> is a scrambled string of <em>s1</em>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;great&quot;, s2 = &quot;rgeat&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;abcde&quot;, s2 = &quot;caebd&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isScramble</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// check all possible case</span></span><br><span class="line">    <span class="keyword">if</span>(s1.equals(s2))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// check char count</span></span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s1.length(); i++)&#123;</span><br><span class="line">        bin[s1.charAt(i)]++;</span><br><span class="line">        bin[s2.charAt(i)]--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check is char equal</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> n : bin)</span><br><span class="line">        <span class="keyword">if</span>(n != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// recursion call, check all substring</span></span><br><span class="line">    <span class="comment">// origin not include, from 1 to length</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;s1.length(); i++)&#123;</span><br><span class="line">        <span class="comment">// a b | c d e, a b | d e c</span></span><br><span class="line">        <span class="keyword">if</span>(isScramble(s1.substring(<span class="number">0</span>,i),s2.substring(<span class="number">0</span>,i)) </span><br><span class="line">           &amp;&amp; isScramble(s1.substring(i),s2.substring(i)))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// a b | c d e, c d e | a b</span></span><br><span class="line">        <span class="keyword">if</span>(isScramble(s1.substring(<span class="number">0</span>,i),s2.substring(s2.length()-i)) </span><br><span class="line">           &amp;&amp; isScramble(s1.substring(i),s2.substring(<span class="number">0</span>,s2.length()-i)))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="88-merge-sorted-array-easy"><a href="#88-merge-sorted-array-easy" class="headerlink" title="#88-merge-sorted-array-easy"></a>#88-merge-sorted-array-easy</h4><p>Given two sorted integer arrays <em>nums1</em> and <em>nums2</em>, merge <em>nums2</em> into <em>nums1</em> as one sorted array.</p><p><strong>Note:</strong></p><ul><li>The number of elements initialized in <em>nums1</em> and <em>nums2</em> are <em>m</em> and <em>n</em> respectively.</li><li>You may assume that <em>nums1</em> has enough space (size that is greater or equal to <em>m</em> + <em>n</em>) to hold additional elements from <em>nums2</em>.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">nums1 = [1,2,3,0,0,0], m = 3</span><br><span class="line">nums2 = [2,5,6],       n = 3</span><br><span class="line"></span><br><span class="line">Output: [1,2,2,3,5,6]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> m, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// from end to head,</span></span><br><span class="line">    <span class="keyword">int</span> i = m - <span class="number">1</span>, j = n - <span class="number">1</span>, k = m + n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt;= <span class="number">0</span> &amp;&amp; j &gt;= <span class="number">0</span>)</span><br><span class="line">        nums1[k--] = nums1[i] &gt; nums2[j] ? nums1[i--] : nums2[j--];</span><br><span class="line">    <span class="keyword">while</span>(j &gt;= <span class="number">0</span>)  <span class="comment">// nums2 rest</span></span><br><span class="line">        nums1[k--] = nums2[j--];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="89-gray-code-medium"><a href="#89-gray-code-medium" class="headerlink" title="#89-gray-code-medium"></a>#89-gray-code-medium</h4><p>The gray code is a binary numeral system where two successive values differ in only one bit.</p><p>Given a non-negative integer <em>n</em> representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.</p><p>For example, given <em>n</em> = 2, return <code>[0,1,3,2]</code>. Its gray code sequence is:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">00 - 0</span><br><span class="line">01 - 1</span><br><span class="line">11 - 3</span><br><span class="line">10 - 2</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>For a given <em>n</em>, a gray code sequence is not uniquely defined.</p><p>For example, <code>[0,2,3,1]</code> is also a valid gray code sequence according to the above definition.</p><p>For now, the judge is able to judge based on one instance of gray code sequence. Sorry about that.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">grayCode</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bit manipulate</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">// total should &lt; 1 &lt;&lt; n</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; <span class="number">1</span>&lt;&lt;n; i++)&#123;</span><br><span class="line">        result.add(i ^ i&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="90-subsets-ii-medium"><a href="#90-subsets-ii-medium" class="headerlink" title="#90-subsets-ii-medium"></a>#90-subsets-ii-medium</h4><p>Given a collection of integers that might contain duplicates, <strong>nums</strong>, return all possible subsets (the power set).</p><p><strong>Note:</strong> The solution set must not contain duplicate subsets.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,2]</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">  [2],</span><br><span class="line">  [1],</span><br><span class="line">  [1,2,2],</span><br><span class="line">  [2,2],</span><br><span class="line">  [1,2],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsetsWithDup(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// since remove duplicate, need sorting</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    backtrack(result,nums,<span class="keyword">new</span> ArrayList&lt;&gt;(),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result,<span class="keyword">int</span>[] nums,List&lt;Integer&gt; temp,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">    <span class="comment">// no need to check</span></span><br><span class="line">    result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=idx;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="comment">// jump duplicate</span></span><br><span class="line">        <span class="comment">// notice its &gt; idx not &gt; 0</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;idx &amp;&amp; nums[i]==nums[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        temp.add(nums[i]);</span><br><span class="line">        backtrack(result,nums,temp,i+<span class="number">1</span>);</span><br><span class="line">        temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="92-reverse-linked-list-ii-medium"><a href="#92-reverse-linked-list-ii-medium" class="headerlink" title="#92-reverse-linked-list-ii-medium"></a>#92-reverse-linked-list-ii-medium</h4><p>Reverse a linked list from position <em>m</em> to <em>n</em>. Do it in one-pass.</p><p><strong>Note:</strong> 1 ≤ <em>m</em> ≤ <em>n</em> ≤ length of list.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4</span><br><span class="line">Output: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    ListNode start = dummy;</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="comment">// find slow prev first</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;m; i++)</span><br><span class="line">        start = start.next;</span><br><span class="line">    <span class="comment">// end not change, curr for saving</span></span><br><span class="line">    ListNode end = start.next, curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n-m; i++)&#123;</span><br><span class="line">        curr = end.next;</span><br><span class="line">        end.next = curr.next;</span><br><span class="line">        curr.next = start.next;</span><br><span class="line">        start.next = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="93-restore-ip-addresses-medium"><a href="#93-restore-ip-addresses-medium" class="headerlink" title="#93-restore-ip-addresses-medium"></a>#93-restore-ip-addresses-medium</h4><p>Given a string containing only digits, restore it by returning all possible valid IP address combinations.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;25525511135&quot;</span><br><span class="line">Output: [&quot;255.255.11.135&quot;, &quot;255.255.111.35&quot;]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">restoreIpAddresses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(result,s,<span class="keyword">new</span> StringBuilder(),<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; result,String s,StringBuilder sb,<span class="keyword">int</span> idx,<span class="keyword">int</span> block)</span></span>&#123;</span><br><span class="line">    <span class="comment">// to 5 block and s is empty</span></span><br><span class="line">    <span class="keyword">if</span>(block == <span class="number">5</span> &amp;&amp; idx == s.length())&#123;</span><br><span class="line">        result.add(sb.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// s left or block left</span></span><br><span class="line">    <span class="keyword">if</span>(block &gt; <span class="number">4</span> || idx == s.length())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> len = sb.length(); <span class="comment">// for reset</span></span><br><span class="line">    <span class="comment">// one block most 3 digit</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;<span class="number">4</span> &amp;&amp; idx+i&lt;=s.length(); i++)&#123;</span><br><span class="line">        String partition = s.substring(idx,idx+i);</span><br><span class="line">        <span class="comment">// case 001 &amp;&amp; 256</span></span><br><span class="line">        <span class="keyword">if</span>(i!=<span class="number">1</span> &amp;&amp; partition.charAt(<span class="number">0</span>)==<span class="string">'0'</span> ||</span><br><span class="line">          i==<span class="number">3</span> &amp;&amp; Integer.parseInt(partition)&gt;<span class="number">255</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        sb.append(partition);</span><br><span class="line">        <span class="comment">// for seperator</span></span><br><span class="line">        <span class="keyword">if</span>(block &lt; <span class="number">4</span>)</span><br><span class="line">            sb.append(<span class="string">'.'</span>);</span><br><span class="line">        <span class="comment">// backtrack</span></span><br><span class="line">        backtrack(result,s,sb,idx+i,block+<span class="number">1</span>);</span><br><span class="line">        sb.setLength(len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="94-binary-tree-inorder-traversal-medium"><a href="#94-binary-tree-inorder-traversal-medium" class="headerlink" title="#94-binary-tree-inorder-traversal-medium"></a>#94-binary-tree-inorder-traversal-medium</h4><p><strong>Recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    dfs(root,result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root,List&lt;Integer&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    dfs(root.left,result);</span><br><span class="line">    result.add(root.val);</span><br><span class="line">    dfs(root.right,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(root);</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode curr = stack.pop();</span><br><span class="line">            result.add(curr.val);</span><br><span class="line">            root = curr.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="95-unique-bst-ii-medium"><a href="#95-unique-bst-ii-medium" class="headerlink" title="#95-unique-bst-ii-medium"></a>#95-unique-bst-ii-medium</h4><p>Given an integer <em>n</em>, generate all structurally unique <strong>BST’s</strong> (binary search trees) that store values 1 … <em>n</em>.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">  [1,null,3,2],</span><br><span class="line">  [3,2,null,1],</span><br><span class="line">  [3,1,null,null,2],</span><br><span class="line">  [2,1,3],</span><br><span class="line">  [1,null,2,null,3]</span><br><span class="line">]</span><br><span class="line">Explanation:</span><br><span class="line">The above output corresponds to the 5 unique BST&apos;s shown below:</span><br><span class="line"></span><br><span class="line">   1         3     3      2      1</span><br><span class="line">    \       /     /      / \      \</span><br><span class="line">     3     2     1      1   3      2</span><br><span class="line">    /     /       \                 \</span><br><span class="line">   2     1         2                 3</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">return</span> helper(<span class="number">1</span>,n);        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">helper</span><span class="params">(<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    List&lt;TreeNode&gt; trees = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(left &gt; right)&#123;</span><br><span class="line">        trees.add(<span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> trees;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(left == right)&#123;</span><br><span class="line">        trees.add(<span class="keyword">new</span> TreeNode(left));</span><br><span class="line">        <span class="keyword">return</span> trees;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> rootVal=left; rootVal&lt;=right; rootVal++)&#123;</span><br><span class="line">        List&lt;TreeNode&gt; leftSubTrees = helper(left,rootVal-<span class="number">1</span>);</span><br><span class="line">        List&lt;TreeNode&gt; rightSubTrees = helper(rootVal+<span class="number">1</span>,right);</span><br><span class="line">        <span class="keyword">for</span>(TreeNode l : leftSubTrees)&#123;</span><br><span class="line">            <span class="keyword">for</span>(TreeNode r : rightSubTrees)&#123;</span><br><span class="line">                TreeNode root = <span class="keyword">new</span> TreeNode(rootVal);</span><br><span class="line">                root.left = l;</span><br><span class="line">                root.right = r;</span><br><span class="line">                trees.add(root);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> trees;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="96-unique-bst-medium"><a href="#96-unique-bst-medium" class="headerlink" title="#96-unique-bst-medium"></a>#96-unique-bst-medium</h4><p>Given <em>n</em>, how many structurally unique <strong>BST’s</strong> (binary search trees) that store values 1 … <em>n</em>?</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: 3</span><br><span class="line">Output: 5</span><br><span class="line">Explanation:</span><br><span class="line">Given n = 3, there are a total of 5 unique BST&apos;s:</span><br><span class="line"></span><br><span class="line">   1         3     3      2      1</span><br><span class="line">    \       /     /      / \      \</span><br><span class="line">     3     2     1      1   3      2</span><br><span class="line">    /     /       \                 \</span><br><span class="line">   2     1         2                 3</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// for n = 5</span></span><br><span class="line">    <span class="comment">// if 1 as root, dp[0] * dp[4]</span></span><br><span class="line">    <span class="comment">// if 2 as root, dp[1] * dp[3]</span></span><br><span class="line">    <span class="comment">// if 3 as root, dp[2] * dp[2]</span></span><br><span class="line">    <span class="comment">// if 4 as root, dp[3] * dp[1]</span></span><br><span class="line">    <span class="comment">// if 5 as root, dp[4] * dp[0]</span></span><br><span class="line">    <span class="comment">// find how many node in left &amp; right subtree</span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;  <span class="comment">// use 1 * the other subtree</span></span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;=n; ++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;i; ++j)</span><br><span class="line">            dp[i] += dp[j] * dp[i-<span class="number">1</span>-j];</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="97-interleaving-string-hard"><a href="#97-interleaving-string-hard" class="headerlink" title="#97-interleaving-string-hard"></a>#97-interleaving-string-hard</h4><p>Given <em>s1</em>, <em>s2</em>, <em>s3</em>, find whether <em>s3</em> is formed by the interleaving of <em>s1</em> and <em>s2</em>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;aabcc&quot;, s2 = &quot;dbbca&quot;, s3 = &quot;aadbbcbcac&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s1 = &quot;aabcc&quot;, s2 = &quot;dbbca&quot;, s3 = &quot;aadbbbaccc&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterleave</span><span class="params">(String s1, String s2, String s3)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s1==<span class="keyword">null</span> || s2==<span class="keyword">null</span> || s3==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(s1.length() + s2.length() != s3.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// s2 row, s1 col</span></span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s1.length()+<span class="number">1</span>][s2.length()+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>; <span class="comment">// "" + "" == ""</span></span><br><span class="line">    <span class="comment">// init first row: check j-1 &amp;&amp; char==char for s2</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;s2.length(); j++)</span><br><span class="line">        dp[<span class="number">0</span>][j+<span class="number">1</span>] = dp[<span class="number">0</span>][j] &amp;&amp; s2.charAt(j)==s3.charAt(j);</span><br><span class="line">    <span class="comment">// init first col: check i-1 &amp;&amp; char==char for s1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s1.length(); i++)</span><br><span class="line">        dp[i+<span class="number">1</span>][<span class="number">0</span>] = dp[i][<span class="number">0</span>] &amp;&amp; s1.charAt(i)==s3.charAt(i);</span><br><span class="line">    <span class="comment">// dp</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s1.length(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;s2.length(); j++)&#123;</span><br><span class="line">            <span class="comment">// case1, add s1.char at tail</span></span><br><span class="line">            <span class="comment">// [i-1][j] &amp;&amp; s1.char==s3.char</span></span><br><span class="line">            <span class="comment">// case2, add s2.char at tail</span></span><br><span class="line">            <span class="comment">// [i][j-1] &amp;&amp; s2.char==s3.char</span></span><br><span class="line">            <span class="keyword">char</span> c1 = s1.charAt(i);</span><br><span class="line">            <span class="keyword">char</span> c2 = s2.charAt(j);</span><br><span class="line">            <span class="keyword">char</span> c3 = s3.charAt(i+j+<span class="number">1</span>); <span class="comment">// notice +1</span></span><br><span class="line">            <span class="comment">// use if will quicker</span></span><br><span class="line">            dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = (dp[i][j+<span class="number">1</span>] &amp;&amp; c1==c3) ||</span><br><span class="line">                           (dp[i+<span class="number">1</span>][j] &amp;&amp; c2==c3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s1.length()][s2.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="98-validate-binary-search-tree-medium"><a href="#98-validate-binary-search-tree-medium" class="headerlink" title="#98-validate-binary-search-tree-medium"></a>#98-validate-binary-search-tree-medium</h4><p>Given a binary tree, determine if it is a valid binary search tree (BST).</p><p>Assume a BST is defined as follows:</p><ul><li>The left subtree of a node contains only nodes with keys <strong>less than</strong> the node’s key.</li><li>The right subtree of a node contains only nodes with keys <strong>greater than</strong> the node’s key.</li><li>Both the left and right subtrees must also be binary search trees.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// inorder iteration</span></span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(root);</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode curr = stack.pop();</span><br><span class="line">            <span class="comment">// do inorder here</span></span><br><span class="line">            <span class="keyword">if</span>(prev==<span class="keyword">null</span> || prev.val&lt;curr.val)</span><br><span class="line">                prev = curr;    <span class="comment">// valid, mush &lt; </span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            root = curr.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="100-same-tree-easy"><a href="#100-same-tree-easy" class="headerlink" title="#100-same-tree-easy"></a>#100-same-tree-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSameTree</span><span class="params">(TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="keyword">null</span> &amp;&amp; q==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(p==<span class="keyword">null</span> || q==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(p.val == q.val)</span><br><span class="line">        <span class="keyword">return</span> isSameTree(p.left,q.left) &amp;&amp; isSameTree(p.right,q.right);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="101-symmetric-tree-easy"><a href="#101-symmetric-tree-easy" class="headerlink" title="#101-symmetric-tree-easy"></a>#101-symmetric-tree-easy</h4><p><strong>recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root == <span class="keyword">null</span> || isSymmetric(root.left,root.right);        </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode left,TreeNode right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="keyword">null</span> || right == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(left.val == right.val)</span><br><span class="line">        <span class="keyword">return</span> isSymmetric(left.left,right.right) &amp;&amp;</span><br><span class="line">                isSymmetric(left.right,right.left);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root.left);</span><br><span class="line">    queue.offer(root.right);</span><br><span class="line">    <span class="keyword">while</span>(queue.size() &gt;= <span class="number">2</span>)&#123;</span><br><span class="line">        TreeNode left = queue.poll();</span><br><span class="line">        TreeNode right = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(left==<span class="keyword">null</span> &amp;&amp; right==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(left==<span class="keyword">null</span> || right==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(left.val != right.val)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        queue.add(left.left);</span><br><span class="line">        queue.add(right.right);</span><br><span class="line">        queue.add(left.right);</span><br><span class="line">        queue.add(right.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="102-level-order-traversal-medium"><a href="#102-level-order-traversal-medium" class="headerlink" title="#102-level-order-traversal-medium"></a>#102-level-order-traversal-medium</h4><p><strong>Iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        List&lt;Integer&gt; level = <span class="keyword">new</span> ArrayList&lt;&gt;(size);</span><br><span class="line">        result.add(level);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            level.add(curr.val);</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>DFS recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    dfs(result,root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, TreeNode root,<span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(result.size() &lt; level + <span class="number">1</span>)</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    result.get(level).add(root.val);</span><br><span class="line">    dfs(result,root.left,level+<span class="number">1</span>);</span><br><span class="line">    dfs(result,root.right,level+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>DFS iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Map&lt;TreeNode,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    map.put(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode node = stack.pop();</span><br><span class="line">        <span class="keyword">int</span> level = map.get(node);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(level + <span class="number">1</span> &gt; result.size())</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        </span><br><span class="line">        result.get(level).add(node.val);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(node.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(node.right);</span><br><span class="line">            map.put(node.right,level+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(node.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(node.left);</span><br><span class="line">            map.put(node.left,level+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Level order II</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrderBottom(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        List&lt;Integer&gt; level = <span class="keyword">new</span> ArrayList&lt;&gt;(size);</span><br><span class="line">        result.add(<span class="number">0</span>,level);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            level.add(curr.val);</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="103-zigzag-level-order-traversal-medium"><a href="#103-zigzag-level-order-traversal-medium" class="headerlink" title="#103-zigzag-level-order-traversal-medium"></a>#103-zigzag-level-order-traversal-medium</h4><p>Given a binary tree, return the <em>zigzag level order</em> traversal of its nodes’ values. (ie, from left to right, then right to left for the next level and alternate between).</p><p>For example:<br>Given binary tree <code>[3,9,20,null,null,15,7]</code>,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><p>return its zigzag level order traversal as:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [20,9],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; zigzagLevelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        List&lt;Integer&gt; level = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        result.add(level);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(cnt % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                level.add(curr.val);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                level.add(<span class="number">0</span>,curr.val);</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">        cnt ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="105-construct-tree-preorder-inorder-medium"><a href="#105-construct-tree-preorder-inorder-medium" class="headerlink" title="#105-construct-tree-preorder-inorder-medium"></a>#105-construct-tree-preorder-inorder-medium</h4><p>Given preorder and inorder traversal of a tree, construct the binary tree.</p><p><strong>Note:</strong><br>You may assume that duplicates do not exist in the tree.</p><p>For example, given</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">preorder = [3,9,20,15,7]</span><br><span class="line">inorder = [9,3,15,20,7]</span><br></pre></td></tr></table></figure><p>Return the following binary tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use preorder traverse root, inorder find left &amp; right</span></span><br><span class="line">    <span class="keyword">return</span> helper(preorder,inorder,<span class="number">0</span>,<span class="number">0</span>,inorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] preorder,<span class="keyword">int</span>[] inorder,<span class="keyword">int</span> preTail,<span class="keyword">int</span> inHead,<span class="keyword">int</span> inTail)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(inHead &gt; inTail || preTail==preorder.length)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(preorder[preTail]);</span><br><span class="line">    <span class="comment">// search node in inorder</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=inHead; i&lt;=inTail; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(inorder[i] == node.val)</span><br><span class="line">            idx = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// [inHead, i-1] left part, [i+1,inTail] right part</span></span><br><span class="line">    <span class="keyword">int</span> leftNode = preTail + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> rightNode = preTail + <span class="number">1</span> + idx - inHead;</span><br><span class="line">    node.left = helper(preorder,inorder,leftNode,inHead,idx-<span class="number">1</span>);</span><br><span class="line">    node.right = helper(preorder,inorder,rightNode,idx+<span class="number">1</span>,inTail);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="106-construct-tree-inorder-postorder-medium"><a href="#106-construct-tree-inorder-postorder-medium" class="headerlink" title="#106-construct-tree-inorder-postorder-medium"></a>#106-construct-tree-inorder-postorder-medium</h4><p>Given inorder and postorder traversal of a tree, construct the binary tree.</p><p><strong>Note:</strong><br>You may assume that duplicates do not exist in the tree.</p><p>For example, given</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inorder = [9,3,15,20,7]</span><br><span class="line">postorder = [9,15,7,20,3]</span><br></pre></td></tr></table></figure><p>Return the following binary tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// from postorder define root, left child,</span></span><br><span class="line">    <span class="comment">// from inorder define left half, right half</span></span><br><span class="line">    <span class="keyword">return</span> helper(inorder, postorder, <span class="number">0</span>, inorder.length-<span class="number">1</span>, <span class="number">0</span>, postorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder, <span class="keyword">int</span> inHead, <span class="keyword">int</span> inTail, <span class="keyword">int</span> postHead, <span class="keyword">int</span> postTail)</span></span>&#123;</span><br><span class="line">    <span class="comment">// postHead,postTail not matter</span></span><br><span class="line">    <span class="keyword">if</span>(inHead &gt; inTail || postHead &gt; postTail)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// use postTail define root</span></span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(postorder[postTail]);</span><br><span class="line">    <span class="comment">// define left half and right half, search in inorder</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=inHead; i&lt;=inTail; i++)</span><br><span class="line">        <span class="keyword">if</span>(inorder[i] == node.val)&#123;</span><br><span class="line">            idx = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// define left child and right child</span></span><br><span class="line">    <span class="keyword">int</span> leftNode = postHead + (idx - inHead - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> rightNode = leftNode + <span class="number">1</span>;</span><br><span class="line">    node.left = helper(inorder,postorder,inHead,idx-<span class="number">1</span>,postHead,leftNode);</span><br><span class="line">    node.right = helper(inorder,postorder,idx+<span class="number">1</span>,inTail,rightNode,postTail-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="109-sorted-list-to-bst-medium"><a href="#109-sorted-list-to-bst-medium" class="headerlink" title="#109-sorted-list-to-bst-medium"></a>#109-sorted-list-to-bst-medium</h4><p>Given a singly linked list where elements are sorted in ascending order, convert it to a height balanced BST.</p><p>For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of <em>every</em> node never differ by more than 1.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Given the sorted linked list: [-10,-3,0,5,9],</span><br><span class="line"></span><br><span class="line">One possible answer is: [0,-3,9,-10,null,5], which represents the following height balanced BST:</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     / \</span><br><span class="line">   -3   9</span><br><span class="line">   /   /</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// from here see tail init null, exclude</span></span><br><span class="line">    <span class="keyword">return</span> helper(head,<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">helper</span><span class="params">(ListNode head,ListNode tail)</span></span>&#123;</span><br><span class="line">    <span class="comment">// tail exclude</span></span><br><span class="line">    <span class="keyword">if</span>(head == tail)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="comment">// find mid when fast reach tail</span></span><br><span class="line">    <span class="keyword">while</span>(fast != tail &amp;&amp; fast.next != tail)&#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// mid is slow</span></span><br><span class="line">    TreeNode node = <span class="keyword">new</span> TreeNode(slow.val);</span><br><span class="line">    node.left = helper(head,slow);<span class="comment">// mid exclude</span></span><br><span class="line">    node.right = helper(slow.next,tail);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="110-balanced-binary-tree-easy"><a href="#110-balanced-binary-tree-easy" class="headerlink" title="#110-balanced-binary-tree-easy"></a>#110-balanced-binary-tree-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">int</span> left = depth(root.left);</span><br><span class="line">    <span class="keyword">int</span> right = depth(root.right);</span><br><span class="line">    <span class="keyword">if</span>(Math.abs(left - right) &gt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> isBalanced(root.left) &amp;&amp; isBalanced(root.right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">depth</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root == <span class="keyword">null</span> ? <span class="number">0</span> :</span><br><span class="line">          <span class="number">1</span> + Math.max(depth(root.left),depth(root.right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="111-min-depth-of-binary-tree-easy"><a href="#111-min-depth-of-binary-tree-easy" class="headerlink" title="#111-min-depth-of-binary-tree-easy"></a>#111-min-depth-of-binary-tree-easy</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left = minDepth(root.left);</span><br><span class="line">    <span class="keyword">int</span> right = minDepth(root.right);</span><br><span class="line">    <span class="keyword">if</span>(left == <span class="number">0</span> || right == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> left + right + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Math.min(left,right) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="112-path-sum-easy"><a href="#112-path-sum-easy" class="headerlink" title="#112-path-sum-easy"></a>#112-path-sum-easy</h4><p>Given a binary tree and a sum, determine if the tree has a root-to-leaf path such that adding up all the values along the path equals the given sum.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// when leaf node</span></span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==sum)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> hasPathSum(root.left,sum-root.val) || hasPathSum(root.right,sum-root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="113-path-sum-ii-medium"><a href="#113-path-sum-ii-medium" class="headerlink" title="#113-path-sum-ii-medium"></a>#113-path-sum-ii-medium</h4><p>Given a binary tree and a sum, find all root-to-leaf paths where each path’s sum equals the given sum.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, <span class="keyword">int</span> sum) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    helper(root,sum,result,<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(TreeNode root,<span class="keyword">int</span> sum,List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; temp)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// add here, add when null=&gt;duplicate result</span></span><br><span class="line">    temp.add(root.val);</span><br><span class="line">    <span class="comment">// valid result added</span></span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==sum)</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    <span class="comment">// left and right</span></span><br><span class="line">    helper(root.left,sum-root.val,result,temp);</span><br><span class="line">    helper(root.right,sum-root.val,result,temp);</span><br><span class="line">    <span class="comment">// remove curr</span></span><br><span class="line">    temp.remove(temp.size()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="114-flatten-binary-tree-to-linked-list-medium"><a href="#114-flatten-binary-tree-to-linked-list-medium" class="headerlink" title="#114-flatten-binary-tree-to-linked-list-medium"></a>#114-flatten-binary-tree-to-linked-list-medium</h4><p>Given a binary tree, flatten it to a linked list in-place.</p><p>For example, given the following tree:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \   \</span><br><span class="line">3   4   6</span><br></pre></td></tr></table></figure><p>The flattened tree should look like:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line">   \</span><br><span class="line">    3</span><br><span class="line">     \</span><br><span class="line">      4</span><br><span class="line">       \</span><br><span class="line">        5</span><br><span class="line">         \</span><br><span class="line">          6</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    TreeNode prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// use reverse post order</span></span><br><span class="line">        flatten(root.right);</span><br><span class="line">        flatten(root.left);</span><br><span class="line">        root.right = prev;</span><br><span class="line">        root.left = <span class="keyword">null</span>;</span><br><span class="line">        prev = root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="115-distinct-subsequences-hard"><a href="#115-distinct-subsequences-hard" class="headerlink" title="#115-distinct-subsequences-hard"></a>#115-distinct-subsequences-hard</h4><p>Given a string <strong>S</strong> and a string <strong>T</strong>, count the number of distinct subsequences of <strong>S</strong> which equals <strong>T</strong>.</p><p>A subsequence of a string is a new string which is formed from the original string by deleting some (can be none) of the characters without disturbing the relative positions of the remaining characters. (ie, <code>&quot;ACE&quot;</code> is a subsequence of <code>&quot;ABCDE&quot;</code> while <code>&quot;AEC&quot;</code> is not).</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Input: S = &quot;rabbbit&quot;, T = &quot;rabbit&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation:</span><br><span class="line"></span><br><span class="line">As shown below, there are 3 ways you can generate &quot;rabbit&quot; from S.</span><br><span class="line">(The caret symbol ^ means the chosen letters)</span><br><span class="line"></span><br><span class="line">rabbbit</span><br><span class="line">^^^^ ^^</span><br><span class="line">rabbbit</span><br><span class="line">^^ ^^^^</span><br><span class="line">rabbbit</span><br><span class="line">^^^ ^^^</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinct</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to regex 10</span></span><br><span class="line">    <span class="comment">// use dp</span></span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || t==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// rows t, columns s, remove char from s</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[t.length()+<span class="number">1</span>][s.length()+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// init first row: remove all to get ""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>; col&lt;=s.length(); col++)</span><br><span class="line">        dp[<span class="number">0</span>][col] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// init first col: should all be 0: "" cannot get un-""</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;t.length(); i++)&#123;    <span class="comment">// for t</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;s.length(); j++)&#123; <span class="comment">// for s</span></span><br><span class="line">            <span class="comment">// 1. if same char: keep it || remove it</span></span><br><span class="line">            <span class="comment">// if keep dp[i][j] = dp[i-1][j-1];</span></span><br><span class="line">            <span class="comment">// if remove dp[i][j] = dp[i][j-1];</span></span><br><span class="line">            <span class="keyword">if</span>(s.charAt(j) == t.charAt(i))&#123;</span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j] + dp[i+<span class="number">1</span>][j];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;  <span class="comment">// 2. if not same: remove it</span></span><br><span class="line">                dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i+<span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[t.length()][s.length()];        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="116-populating-next-right-pointer-medium"><a href="#116-populating-next-right-pointer-medium" class="headerlink" title="#116-populating-next-right-pointer-medium"></a>#116-populating-next-right-pointer-medium</h4><p>Given a binary tree</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">struct TreeLinkNode &#123;</span><br><span class="line">  TreeLinkNode *left;</span><br><span class="line">  TreeLinkNode *right;</span><br><span class="line">  TreeLinkNode *next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to <code>NULL</code>.</p><p>Initially, all next pointers are set to <code>NULL</code>.</p><p>After calling your function, the tree should look like:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     1 -&gt; NULL</span><br><span class="line">   /  \</span><br><span class="line">  2 -&gt; 3 -&gt; NULL</span><br><span class="line"> / \  / \</span><br><span class="line">4-&gt;5-&gt;6-&gt;7 -&gt; NULL</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(TreeLinkNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    TreeLinkNode level = root, curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(level != <span class="keyword">null</span>)&#123;</span><br><span class="line">        curr = level;</span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                curr.left.next = curr.right;</span><br><span class="line">                <span class="keyword">if</span>(curr.next != <span class="keyword">null</span>)</span><br><span class="line">                    curr.right.next = curr.next.left;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        level = level.left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="117-populating-next-right-pointer-ii-medium"><a href="#117-populating-next-right-pointer-ii-medium" class="headerlink" title="#117-populating-next-right-pointer-ii-medium"></a>#117-populating-next-right-pointer-ii-medium</h4><p>Given the following binary tree,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     1</span><br><span class="line">   /  \</span><br><span class="line">  2    3</span><br><span class="line"> / \    \</span><br><span class="line">4   5    7</span><br></pre></td></tr></table></figure><p>After calling your function, the tree should look like:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     1 -&gt; NULL</span><br><span class="line">   /  \</span><br><span class="line">  2 -&gt; 3 -&gt; NULL</span><br><span class="line"> / \    \</span><br><span class="line">4-&gt; 5 -&gt; 7 -&gt; NULL</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(TreeLinkNode root)</span> </span>&#123;</span><br><span class="line">    TreeLinkNode curr = root;   <span class="comment">// one high level</span></span><br><span class="line">    TreeLinkNode head = <span class="keyword">null</span>, prev = <span class="keyword">null</span>; <span class="comment">// two low level</span></span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// in curr level</span></span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(prev == <span class="keyword">null</span>)&#123;   <span class="comment">// no head found</span></span><br><span class="line">                    head = curr.left;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    prev.next = curr.left;</span><br><span class="line">                &#125;</span><br><span class="line">                prev = curr.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(prev == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    head = curr.right;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    prev.next = curr.right;</span><br><span class="line">                &#125;</span><br><span class="line">                prev = curr.right;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// jump to next level head &amp; reset</span></span><br><span class="line">        curr = head;</span><br><span class="line">        head = <span class="keyword">null</span>;</span><br><span class="line">        prev = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="118-pascals-triangle-easy"><a href="#118-pascals-triangle-easy" class="headerlink" title="#118-pascals-triangle-easy"></a>#118-pascals-triangle-easy</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: 5</span><br><span class="line">Output:</span><br><span class="line">[</span><br><span class="line">     [1],</span><br><span class="line">    [1,1],</span><br><span class="line">   [1,2,1],</span><br><span class="line">  [1,3,3,1],</span><br><span class="line"> [1,4,6,4,1]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; generate(<span class="keyword">int</span> numRows) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">1</span>; row&lt;=numRows; row++)&#123;</span><br><span class="line">        temp.add(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=temp.size()-<span class="number">2</span>; i&gt;<span class="number">0</span>; i--)</span><br><span class="line">            temp.set(i,temp.get(i)+temp.get(i-<span class="number">1</span>));</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(temp));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="120-triangle-medium"><a href="#120-triangle-medium" class="headerlink" title="#120-triangle-medium"></a>#120-triangle-medium</h4><p>Given a triangle, find the minimum path sum from top to bottom. Each step you may move to adjacent numbers on the row below.</p><p>For example, given the following triangle</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">     [2],</span><br><span class="line">    [3,4],</span><br><span class="line">   [6,5,7],</span><br><span class="line">  [4,1,8,3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>The minimum path sum from top to bottom is <code>11</code> (i.e., 2 + 3 + 5 + 1 = 11).</p><p><strong>Note:</strong><br>Bonus point if you are able to do this using only <em>O</em>(<em>n</em>) extra space, where <em>n</em> is the total number of rows in the triangle.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTotal</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; triangle)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// add bottom up, so that space O(1)</span></span><br><span class="line">    <span class="keyword">if</span>(triangle.size() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = triangle.size();</span><br><span class="line">    <span class="comment">// n+1 for the last line</span></span><br><span class="line">    <span class="keyword">int</span>[] memo = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// for location i, check i &amp; i+1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;triangle.get(i).size(); j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> curr = triangle.get(i).get(j);</span><br><span class="line">            <span class="comment">// memo is init as 0s</span></span><br><span class="line">            memo[j] = Math.min(memo[j],memo[j+<span class="number">1</span>]) + curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> memo[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="127-word-ladder-medium"><a href="#127-word-ladder-medium" class="headerlink" title="#127-word-ladder-medium"></a>#127-word-ladder-medium</h4><p>Given two words (<em>beginWord</em> and <em>endWord</em>), and a dictionary’s word list, find the length of shortest transformation sequence from <em>beginWord</em> to <em>endWord</em>, such that:</p><ol><li>Only one letter can be changed at a time.</li><li>Each transformed word must exist in the word list. Note that <em>beginWord</em> is <em>not</em> a transformed word.</li></ol><p><strong>Note:</strong></p><ul><li>Return 0 if there is no such transformation sequence.</li><li>All words have the same length.</li><li>All words contain only lowercase alphabetic characters.</li><li>You may assume no duplicates in the word list.</li><li>You may assume <em>beginWord</em> and <em>endWord</em> are non-empty and are not the same.</li></ul><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = &quot;hit&quot;,</span><br><span class="line">endWord = &quot;cog&quot;,</span><br><span class="line">wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]</span><br><span class="line"></span><br><span class="line">Output: 5</span><br><span class="line"></span><br><span class="line">Explanation: As one shortest transformation is &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;,</span><br><span class="line">return its length 5.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = &quot;hit&quot;</span><br><span class="line">endWord = &quot;cog&quot;</span><br><span class="line">wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]</span><br><span class="line"></span><br><span class="line">Output: 0</span><br><span class="line"></span><br><span class="line">Explanation: The endWord &quot;cog&quot; is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs</span></span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(String word : wordList)</span><br><span class="line">        dict.add(word);</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(beginWord);</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">1</span>;    <span class="comment">// return depth of level to reach endword</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        len ++;</span><br><span class="line">        <span class="comment">// remember use level, otherwise wrong</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> level=<span class="number">0</span>; level&lt;size; ++level)&#123;</span><br><span class="line">            <span class="keyword">char</span>[] curr = queue.poll().toCharArray();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;curr.length; ++i)&#123;</span><br><span class="line">                <span class="comment">// replace curr[i] with a to z</span></span><br><span class="line">                <span class="keyword">char</span> prev = curr[i];</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'a'</span>; c&lt;=<span class="string">'z'</span>; ++c)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(c != prev)&#123;</span><br><span class="line">                        curr[i] = c;</span><br><span class="line">                        String newWord = String.valueOf(curr);</span><br><span class="line">                        <span class="keyword">if</span>(dict.contains(newWord))&#123;</span><br><span class="line">                            <span class="keyword">if</span>(newWord.equals(endWord))</span><br><span class="line">                                <span class="keyword">return</span> len;</span><br><span class="line">                            queue.offer(newWord);</span><br><span class="line">                            dict.remove(newWord);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                curr[i] = prev;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="128-longest-consecutive-sequence-hard"><a href="#128-longest-consecutive-sequence-hard" class="headerlink" title="#128-longest-consecutive-sequence-hard"></a>#128-longest-consecutive-sequence-hard</h4><p>Given an unsorted array of integers, find the length of the longest consecutive elements sequence.</p><p>Your algorithm should run in O(<em>n</em>) complexity.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [100, 4, 200, 1, 3, 2]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// union find using set</span></span><br><span class="line">    <span class="comment">// find the head (head - 1 not exist)</span></span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)</span><br><span class="line">        set.add(num);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="comment">// find a head</span></span><br><span class="line">        <span class="keyword">if</span>(!set.contains(num - <span class="number">1</span>))&#123;</span><br><span class="line">            <span class="keyword">int</span> len = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(set.contains(++num))</span><br><span class="line">                len ++;</span><br><span class="line">            result = Math.max(result,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="130-surrounded-regions"><a href="#130-surrounded-regions" class="headerlink" title="#130-surrounded-regions"></a>#130-surrounded-regions</h4><p>Given a 2D board containing <code>&#39;X&#39;</code> and <code>&#39;O&#39;</code> (the <strong>letter</strong> O), capture all regions surrounded by <code>&#39;X&#39;</code>.</p><p>A region is captured by flipping all <code>&#39;O&#39;</code>s into <code>&#39;X&#39;</code>s in that surrounded region.</p><p>For example,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X O O X</span><br><span class="line">X X O X</span><br><span class="line">X O X X</span><br></pre></td></tr></table></figure><p>After running your function, the board should be:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X X X X</span><br><span class="line">X X X X</span><br><span class="line">X O X X</span><br></pre></td></tr></table></figure><p><strong>Notice overflow case: </strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">OOOOOOOOOO</span><br><span class="line">XXXXXXXXXO</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">OXXXXXXXXX</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">XXXXXXXXXO</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">OXXXXXXXXX</span><br><span class="line">OOOOOOOOOO</span><br><span class="line">XXXXXXXXXO</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">OOOOOOOOOOOX</span><br><span class="line">XXXXXXXXXXOX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XOXXXXXXXXXX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XXXXXXXXXXOX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XOXXXXXXXXXX</span><br><span class="line">XOOOOOOOOOOX</span><br><span class="line">XXXXXXXXXXOX</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// if surrounded, must at edge</span></span><br><span class="line">    <span class="comment">// check edge set 0 to 1</span></span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span>||board.length==<span class="number">0</span>||board[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// set first last row</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)&#123;</span><br><span class="line">        check(board,m,n,<span class="number">0</span>,j);</span><br><span class="line">        <span class="keyword">if</span>(m &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,m-<span class="number">1</span>,j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set left right col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;m; i++)&#123;</span><br><span class="line">        check(board,m,n,i,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(n &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i,n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set 1 to 0, 0 to X</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'1'</span>)</span><br><span class="line">                board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(board[i][j] == <span class="string">'O'</span>)</span><br><span class="line">                board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="keyword">char</span>[][] board,<span class="keyword">int</span> m,<span class="keyword">int</span> n,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="comment">// use trick avoid TLE, skip first row and left col</span></span><br><span class="line">    <span class="comment">// skip only one not both for best performance</span></span><br><span class="line">    <span class="keyword">if</span>(board[i][j] == <span class="string">'O'</span>)&#123;</span><br><span class="line">        board[i][j] = <span class="string">'1'</span>;</span><br><span class="line">        <span class="comment">// use i&gt;1 instead of i&gt;=1</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i-<span class="number">1</span>,j);</span><br><span class="line">        <span class="keyword">if</span>(i &lt; m-<span class="number">1</span>)</span><br><span class="line">        check(board,m,n,i+<span class="number">1</span>,j);</span><br><span class="line">        <span class="comment">// use j&gt;1 instead of j&gt;=1</span></span><br><span class="line">        <span class="keyword">if</span>(j &gt; <span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i,j-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(j &lt; n-<span class="number">1</span>)</span><br><span class="line">            check(board,m,n,i,j+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="133-clone-graph-medium"><a href="#133-clone-graph-medium" class="headerlink" title="#133-clone-graph-medium"></a>#133-clone-graph-medium</h4><p>Clone an undirected graph. Each node in the graph contains a <code>label</code> and a list of its <code>neighbors</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for undirected graph.</span></span><br><span class="line"><span class="comment"> * class UndirectedGraphNode &#123;</span></span><br><span class="line"><span class="comment"> *     int label;</span></span><br><span class="line"><span class="comment"> *     List&lt;UndirectedGraphNode&gt; neighbors;</span></span><br><span class="line"><span class="comment"> *     UndirectedGraphNode(int x) &#123; label = x; neighbors = new ArrayList&lt;UndirectedGraphNode&gt;(); &#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UndirectedGraphNode <span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode node)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer,UndirectedGraphNode&gt; visited = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> clone(node,visited);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> UndirectedGraphNode <span class="title">clone</span><span class="params">(UndirectedGraphNode node, Map&lt;Integer,UndirectedGraphNode&gt; visited)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(visited.containsKey(node.label))</span><br><span class="line">            <span class="keyword">return</span> visited.get(node.label);</span><br><span class="line">        UndirectedGraphNode newNode = <span class="keyword">new</span> UndirectedGraphNode(node.label);</span><br><span class="line">        visited.put(node.label,newNode);</span><br><span class="line">        <span class="keyword">for</span>(UndirectedGraphNode n : node.neighbors)&#123;</span><br><span class="line">            newNode.neighbors.add(clone(n,visited));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newNode;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="136-single-number-easy"><a href="#136-single-number-easy" class="headerlink" title="#136-single-number-easy"></a>#136-single-number-easy</h4><p>Given a <strong>non-empty</strong> array of integers, every element appears <em>twice</em> except for one. Find that single one.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)</span><br><span class="line">        result ^= num;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="141-linked-list-cycle-easy"><a href="#141-linked-list-cycle-easy" class="headerlink" title="#141-linked-list-cycle-easy"></a>#141-linked-list-cycle-easy</h4><p>Given a linked list, determine if it has a cycle in it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(fast==<span class="keyword">null</span> || fast.next==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">while</span>(fast !=<span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">        <span class="keyword">if</span>(slow == fast)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="142-linked-list-cycle-ii-medium"><a href="#142-linked-list-cycle-ii-medium" class="headerlink" title="#142-linked-list-cycle-ii-medium"></a>#142-linked-list-cycle-ii-medium</h4><p>Given a linked list, return the node where the cycle begins. If there is no cycle, return <code>null</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="keyword">null</span> || head.next==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode slow = head, fast = head;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(fast==<span class="keyword">null</span> || fast.next==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">while</span>(head != fast)&#123;</span><br><span class="line">        head = head.next;</span><br><span class="line">        fast = fast.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="146-lru-cache-hard"><a href="#146-lru-cache-hard" class="headerlink" title="#146-lru-cache-hard"></a>#146-lru-cache-hard</h4><p>Design and implement a data structure for <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU" target="_blank" rel="noopener">Least Recently Used (LRU) cache</a>. It should support the following operations: <code>get</code> and <code>put</code>.</p><p><code>get(key)</code> - Get the value (will always be positive) of the key if the key exists in the cache, otherwise return -1.<br><code>put(key, value)</code> - Set or insert the value if the key is not already present. When the cache reached its capacity, it should invalidate the least recently used item before inserting a new item.</p><p><strong>Follow up:</strong><br>Could you do both operations in <strong>O(1)</strong> time complexity?</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">LRUCache cache = new LRUCache( 2 /* capacity */ );</span><br><span class="line"></span><br><span class="line">cache.put(1, 1);</span><br><span class="line">cache.put(2, 2);</span><br><span class="line">cache.get(1);       // returns 1</span><br><span class="line">cache.put(3, 3);    // evicts key 2</span><br><span class="line">cache.get(2);       // returns -1 (not found)</span><br><span class="line">cache.put(4, 4);    // evicts key 1</span><br><span class="line">cache.get(1);       // returns -1 (not found)</span><br><span class="line">cache.get(3);       // returns 3</span><br><span class="line">cache.get(4);       // returns 4</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="comment">// implement double linked list</span></span><br><span class="line">    <span class="comment">// most recent at head</span></span><br><span class="line">    <span class="comment">// least recent at tail</span></span><br><span class="line">    DListNode head = <span class="keyword">null</span>;</span><br><span class="line">    DListNode tail = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">int</span> capacity = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer,DListNode&gt; map; <span class="comment">// save key, node</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// init head tail</span></span><br><span class="line">        head = <span class="keyword">new</span> DListNode();</span><br><span class="line">        tail = <span class="keyword">new</span> DListNode();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(key))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        DListNode node = map.get(key);</span><br><span class="line">        moveToHead(node);   <span class="comment">// most recent</span></span><br><span class="line">        <span class="keyword">return</span> node.val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// notice when same key, diff val</span></span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(key))&#123;</span><br><span class="line">            DListNode node = map.get(key);</span><br><span class="line">            node.setVal(value);</span><br><span class="line">            moveToHead(node);   <span class="comment">// active</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        DListNode node = <span class="keyword">new</span> DListNode(key,value);</span><br><span class="line">        <span class="keyword">if</span>(capacity == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> removeKey = removeLast();</span><br><span class="line">            <span class="comment">// remove least from list and map</span></span><br><span class="line">            map.remove(removeKey);</span><br><span class="line">            capacity ++;</span><br><span class="line">        &#125;</span><br><span class="line">        addFirst(node);</span><br><span class="line">        map.put(key,node);</span><br><span class="line">        capacity --;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// add most recent to head    </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(DListNode node)</span></span>&#123;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = head.next;</span><br><span class="line">        head.next.prev = node;</span><br><span class="line">        head.next = node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// remove a node</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(DListNode node)</span></span>&#123;</span><br><span class="line">        node.prev.next = node.next;</span><br><span class="line">        node.next.prev = node.prev;</span><br><span class="line">        node.prev = <span class="keyword">null</span>;</span><br><span class="line">        node.next = <span class="keyword">null</span>;            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// remove least recent node, return key</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DListNode last = tail.prev;</span><br><span class="line">        remove(tail.prev);</span><br><span class="line">        <span class="keyword">return</span> last.key;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set to head</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(DListNode node)</span></span>&#123;</span><br><span class="line">        remove(node);</span><br><span class="line">        addFirst(node);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">DListNode</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        DListNode prev;</span><br><span class="line">        DListNode next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DListNode</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DListNode</span><span class="params">(<span class="keyword">int</span> key,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// use when put with same key</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVal</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="149-max-points-on-a-line-hard"><a href="#149-max-points-on-a-line-hard" class="headerlink" title="#149-max-points-on-a-line-hard"></a>#149-max-points-on-a-line-hard</h4><p>Given <em>n</em> points on a 2D plane, find the maximum number of points that lie on the same straight line.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a point.</span></span><br><span class="line"><span class="comment"> * class Point &#123;</span></span><br><span class="line"><span class="comment"> *     int x;</span></span><br><span class="line"><span class="comment"> *     int y;</span></span><br><span class="line"><span class="comment"> *     Point() &#123; x = 0; y = 0; &#125;</span></span><br><span class="line"><span class="comment"> *     Point(int a, int b) &#123; x = a; y = b; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(Point[] points)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// use O(n^2) to find all pair, store slope as key</span></span><br><span class="line">        <span class="keyword">if</span>(points == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// map: slope as key, count as val</span></span><br><span class="line">        Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">// loop over all points</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;points.length; ++i)&#123;</span><br><span class="line">            <span class="comment">// check all lines with i and j</span></span><br><span class="line">            <span class="comment">// find max point on a line except i and overlap</span></span><br><span class="line">            <span class="keyword">int</span> max = <span class="number">0</span>, overlap = <span class="number">0</span>;</span><br><span class="line">            map.clear();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;points.length; ++j)&#123;</span><br><span class="line">                <span class="comment">// x,y pair as slope</span></span><br><span class="line">                <span class="keyword">int</span> x = points[j].x - points[i].x;</span><br><span class="line">                <span class="keyword">int</span> y = points[j].y - points[i].y;</span><br><span class="line">                <span class="keyword">if</span>(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>)&#123;   <span class="comment">// points overlap</span></span><br><span class="line">                    overlap ++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> gcd = getGCD(x,y);</span><br><span class="line">                <span class="comment">// vertical and horizontal covered</span></span><br><span class="line">                x /= gcd;</span><br><span class="line">                y /= gcd;</span><br><span class="line">                String key = x + <span class="string">","</span> + y;</span><br><span class="line">                <span class="keyword">if</span>(map.containsKey(key))</span><br><span class="line">                    map.put(key,map.get(key)+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    map.put(key,<span class="number">1</span>);</span><br><span class="line">                <span class="comment">// max for one start point</span></span><br><span class="line">                max = Math.max(max,map.get(key));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// start point + other point on line + same as start</span></span><br><span class="line">            result = Math.max(result,max+overlap+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getGCD</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a == <span class="number">0</span> ? b : getGCD(b%a,a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="151-reverse-words-in-a-string-medium"><a href="#151-reverse-words-in-a-string-medium" class="headerlink" title="#151-reverse-words-in-a-string-medium"></a>#151-reverse-words-in-a-string-medium</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">reverseWords</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>[] input = s.toCharArray();    </span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(r &lt; input.length)&#123;</span><br><span class="line">        <span class="comment">// find head</span></span><br><span class="line">        l = r;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;input.length &amp;&amp; input[l]==<span class="string">' '</span>) l++;</span><br><span class="line">        <span class="comment">// find tail</span></span><br><span class="line">        r = l;</span><br><span class="line">        <span class="keyword">while</span>(r&lt;input.length &amp;&amp; input[r]!=<span class="string">' '</span>) r++;</span><br><span class="line">        <span class="comment">// reverse</span></span><br><span class="line">        reverse(input,l,r-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// reverse whole</span></span><br><span class="line">    reverse(input,<span class="number">0</span>,input.length-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> reduce(input);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">reduce</span><span class="params">(<span class="keyword">char</span>[] c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>; tail&lt;c.length; tail++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c[tail]==<span class="string">' '</span> &amp;&amp; (head==<span class="number">0</span> || c[tail-<span class="number">1</span>]==<span class="string">' '</span>))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        c[head++] = c[tail];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case last " "</span></span><br><span class="line">    <span class="keyword">if</span>(head &gt; <span class="number">0</span> &amp;&amp; c[head-<span class="number">1</span>] == <span class="string">' '</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(c,<span class="number">0</span>,head-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(c,<span class="number">0</span>,head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] c,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">char</span> temp = c[i];</span><br><span class="line">        c[i] = c[j];</span><br><span class="line">        c[j] = temp;</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="156-binary-tree-upside-down-medium"><a href="#156-binary-tree-upside-down-medium" class="headerlink" title="#156-binary-tree-upside-down-medium"></a>#156-binary-tree-upside-down-medium</h4><p>Given a binary tree where all the right nodes are either leaf nodes with a sibling (a left node that shares the same parent node) or empty, flip it upside down and turn it into a tree where the original right nodes turned into left leaf nodes. Return the new root.</p><p>For example:<br>Given a binary tree <code>{1,2,3,4,5}</code>,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    1</span><br><span class="line">   / \</span><br><span class="line">  2   3</span><br><span class="line"> / \</span><br><span class="line">4   5</span><br></pre></td></tr></table></figure><p>return the root of the binary tree <code>[4,5,2,#,#,3,1]</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   4</span><br><span class="line">  / \</span><br><span class="line"> 5   2</span><br><span class="line">    / \</span><br><span class="line">   3   1  </span><br><span class="line">   </span><br><span class="line">    1</span><br><span class="line">   / </span><br><span class="line">  2 -- 3</span><br><span class="line"> / </span><br><span class="line">4 -- 5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">upsideDownBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//     1</span></span><br><span class="line">    <span class="comment">//    / \</span></span><br><span class="line">    <span class="comment">//   2 - 3</span></span><br><span class="line">    <span class="comment">//  / \</span></span><br><span class="line">    <span class="comment">// 4 - 5    </span></span><br><span class="line">    TreeNode curr = root;</span><br><span class="line">    TreeNode next = <span class="keyword">null</span>, prev = <span class="keyword">null</span>, right = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(curr != <span class="keyword">null</span>)&#123;</span><br><span class="line">        next = curr.left;   <span class="comment">// save left</span></span><br><span class="line">        </span><br><span class="line">        curr.left = right;</span><br><span class="line">        right = curr.right;</span><br><span class="line">        curr.right = prev;</span><br><span class="line">        </span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="159-longest-substring-with-at-most-2-distince-characters-hard"><a href="#159-longest-substring-with-at-most-2-distince-characters-hard" class="headerlink" title="#159-longest-substring-with-at-most-2-distince-characters-hard"></a>#159-longest-substring-with-at-most-2-distince-characters-hard</h4><p>Given a string <strong>s</strong> , find the length of the longest substring <strong>t</strong>  that contains <strong>at most</strong> 2 distinct characters.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;eceba&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: t is &quot;ece&quot; which its length is 3.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;ccaabbb&quot;</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: t is &quot;aabbb&quot; which its length is 5.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// sliding window</span></span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] bin = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, maxLen = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> tail=<span class="number">0</span>; tail&lt;s.length(); tail++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(bin[s.charAt(tail)] == <span class="number">0</span>)    <span class="comment">// new char</span></span><br><span class="line">            count ++;</span><br><span class="line">        bin[s.charAt(tail)] ++;</span><br><span class="line">        <span class="keyword">while</span>(count &gt; <span class="number">2</span>)&#123;   <span class="comment">// make it most 2</span></span><br><span class="line">            <span class="keyword">if</span>(bin[s.charAt(head)] == <span class="number">1</span>)</span><br><span class="line">                <span class="comment">// remove a distinct char</span></span><br><span class="line">                count --;</span><br><span class="line">            bin[s.charAt(head)] --;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line">        maxLen = Math.max(maxLen,tail-head+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="160-intersection-of-two-linked-list-easy"><a href="#160-intersection-of-two-linked-list-easy" class="headerlink" title="#160-intersection-of-two-linked-list-easy"></a>#160-intersection-of-two-linked-list-easy</h4><p>Write a program to find the node at which the intersection of two singly linked lists begins.</p><p>For example, the following two linked lists: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A:          a1 → a2</span><br><span class="line">                   ↘</span><br><span class="line">                     c1 → c2 → c3</span><br><span class="line">                   ↗            </span><br><span class="line">B:     b1 → b2 → b3</span><br></pre></td></tr></table></figure><p><strong>O(n) &amp; O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(headA==<span class="keyword">null</span> || headB==<span class="keyword">null</span>)    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    ListNode pointer1 = headA;</span><br><span class="line">    ListNode pointer2 = headB;</span><br><span class="line">    <span class="comment">// 2 iterations to overcome the difference</span></span><br><span class="line">    <span class="keyword">while</span>(pointer1 != pointer2)&#123;</span><br><span class="line">        pointer1 = pointer1==<span class="keyword">null</span>? headB:pointer1.next;</span><br><span class="line">        pointer2 = pointer2==<span class="keyword">null</span>? headA:pointer2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pointer1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="163-missing-ranges-medium"><a href="#163-missing-ranges-medium" class="headerlink" title="#163-missing-ranges-medium"></a>#163-missing-ranges-medium</h4><p>Given a sorted integer array where <strong>the range of elements are in the inclusive range [lower, upper]</strong>, return its missing ranges.</p><p>For example, given <code>[0, 1, 3, 50, 75]</code>, <em>lower</em> = 0 and <em>upper</em> = 99, return <code>[&quot;2&quot;, &quot;4-&gt;49&quot;, &quot;51-&gt;74&quot;, &quot;76-&gt;99&quot;].</code></p><p><strong>Corner cases:  Integer.min, Integer.max</strong>  <a href="#228-summary-ranges-medium">#228-summary-ranges-medium</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findMissingRanges</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> head = lower;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="comment">// deal with corner case</span></span><br><span class="line">        <span class="comment">// [-2147483648,-2147483648,0,2147483647,2147483647]</span></span><br><span class="line">        <span class="comment">// -2147483648</span></span><br><span class="line">        <span class="comment">// 2147483647</span></span><br><span class="line">        <span class="keyword">if</span>(nums[i] == Integer.MIN_VALUE)&#123;</span><br><span class="line">            <span class="comment">// tail cannot be nums[i] - 1</span></span><br><span class="line">            head = nums[i] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tail = nums[i] - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(tail &gt;= head)</span><br><span class="line">            result.add(head + (tail&gt;head? <span class="string">"-&gt;"</span>+tail : <span class="string">""</span>));           </span><br><span class="line">        <span class="comment">// deal with corner case, return here</span></span><br><span class="line">        <span class="keyword">if</span>(nums[i] == Integer.MAX_VALUE)</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        head = nums[i] + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// deal with last num</span></span><br><span class="line">    <span class="keyword">if</span>(head &lt;= upper)</span><br><span class="line">        result.add(head + (upper&gt;head? <span class="string">"-&gt;"</span>+upper : <span class="string">""</span>));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="165-compare-version-numbers-medium"><a href="#165-compare-version-numbers-medium" class="headerlink" title="#165-compare-version-numbers-medium"></a>#165-compare-version-numbers-medium</h4><p>Compare two version numbers <em>version1</em> and <em>version2</em>.<br>If <em>version1</em> &gt; <em>version2</em> return 1, if <em>version1</em> &lt; <em>version2</em> return -1, otherwise return 0.</p><p>You may assume that the version strings are non-empty and contain only digits and the <code>.</code> character.<br>The <code>.</code> character does not represent a decimal point and is used to separate number sequences.<br>For instance, <code>2.5</code> is not “two and a half” or “half way to version three”, it is the fifth second-level revision of the second first-level revision.</p><p>Here is an example of version numbers ordering:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0.1 &lt; 1.1 &lt; 1.2 &lt; 13.37  </span><br><span class="line">01 = 1, 1.0 = 1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareVersion</span><span class="params">(String version1, String version2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// . match a char</span></span><br><span class="line">    String[] v1 = version1.split(<span class="string">"\\."</span>);</span><br><span class="line">    String[] v2 = version2.split(<span class="string">"\\."</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;v1.length||j&lt;v2.length;)&#123;</span><br><span class="line">        <span class="keyword">int</span> num1 = i &gt;= v1.length ? <span class="number">0</span> : Integer.parseInt(v1[i++]);</span><br><span class="line">        <span class="keyword">int</span> num2 = j &gt;= v2.length ? <span class="number">0</span> : Integer.parseInt(v2[j++]);</span><br><span class="line">        <span class="keyword">if</span>(num1 == num2)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(num1 &lt; num2)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="169-majority-element-easy"><a href="#169-majority-element-easy" class="headerlink" title="#169-majority-element-easy"></a>#169-majority-element-easy</h4><p>Given an array of size <em>n</em>, find the majority element. The majority element is the element that appears <strong>more than</strong> <code>⌊ n/2 ⌋</code> times.</p><p>You may assume that the array is non-empty and the majority element always exist in the array.</p><p><strong>Can use sorting as well</strong> <a href="#229-majority-element-ii-medium">#229-majority-element-ii-medium</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Boyer-Moore Voting Algorithm</span></span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(count == <span class="number">0</span>)</span><br><span class="line">            result = num;</span><br><span class="line">        count += num == result ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="200-Number-of-Islands-medium"><a href="#200-Number-of-Islands-medium" class="headerlink" title="200. Number of Islands (medium)"></a>200. Number of Islands (medium)</h4><p>Given a 2d grid map of <code>&#39;1&#39;</code>s (land) and <code>&#39;0&#39;</code>s (water), count the number of islands. An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically. You may assume all four edges of the grid are all surrounded by water.</p><p><strong>*Example 1:* Answer: 1</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">11110</span><br><span class="line">11010</span><br><span class="line">11000</span><br><span class="line">00000</span><br></pre></td></tr></table></figure><p><strong>*Example 2:*</strong> Answer: 3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">11000</span><br><span class="line">11000</span><br><span class="line">00100</span><br><span class="line">00011</span><br></pre></td></tr></table></figure><p><strong>dfs approach time O(mn), space O(mn) worst</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// dfs approach, connected component idea</span></span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="comment">// if 1, count ++, traverse neighbor</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                count ++;</span><br><span class="line">                dfs(grid,i,j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] grid,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// if out of bound, or not island</span></span><br><span class="line">    <span class="keyword">if</span>(i&lt;<span class="number">0</span> || i&gt;=m || j&lt;<span class="number">0</span> || j&gt;=n || grid[i][j]==<span class="string">'0'</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    grid[i][j] = <span class="string">'0'</span>;   <span class="comment">// set visited</span></span><br><span class="line">    <span class="comment">// visit up down left right</span></span><br><span class="line">    dfs(grid,i-<span class="number">1</span>,j);</span><br><span class="line">    dfs(grid,i+<span class="number">1</span>,j);</span><br><span class="line">    dfs(grid,i,j-<span class="number">1</span>);</span><br><span class="line">    dfs(grid,i,j+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BFS approach, time O(mn), space O(min(m,n))</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bfs approach</span></span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length, n = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="comment">// only care about 1</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                count ++;</span><br><span class="line">                grid[i][j] = <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">int</span>[] curr = &#123;i,j&#125;;</span><br><span class="line">                Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">                queue.offer(curr);</span><br><span class="line">                <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">                    curr = queue.poll();</span><br><span class="line">                    <span class="keyword">int</span> row = curr[<span class="number">0</span>], col = curr[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span>(row-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; grid[row-<span class="number">1</span>][col] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row-<span class="number">1</span>,col&#125;);</span><br><span class="line">                        grid[row-<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(row+<span class="number">1</span>&lt;m &amp;&amp; grid[row+<span class="number">1</span>][col] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row+<span class="number">1</span>,col&#125;);</span><br><span class="line">                        grid[row+<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(col-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; grid[row][col-<span class="number">1</span>] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row,col-<span class="number">1</span>&#125;);</span><br><span class="line">                        grid[row][col-<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(col+<span class="number">1</span>&lt;n &amp;&amp; grid[row][col+<span class="number">1</span>] == <span class="string">'1'</span>)&#123;</span><br><span class="line">                        queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row,col+<span class="number">1</span>&#125;);</span><br><span class="line">                        grid[row][col+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                    &#125;                        </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="201-bitwise-and-of-numbers-range-medium"><a href="#201-bitwise-and-of-numbers-range-medium" class="headerlink" title="#201-bitwise-and-of-numbers-range-medium"></a>#201-bitwise-and-of-numbers-range-medium</h4><p>Given a range [m, n] where 0 &lt;= m &lt;= n &lt;= 2147483647, return the bitwise AND of all numbers in this range, inclusive.</p><p>For example, given the range [5, 7], you should return 4.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rangeBitwiseAnd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// right shift, all tail digits are 0</span></span><br><span class="line">    <span class="comment">// until m == n, this is the head</span></span><br><span class="line">    <span class="comment">// append 0 tail to head</span></span><br><span class="line">    <span class="keyword">if</span>(m == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// 0 &amp; x == 0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tailLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(m != n)&#123;</span><br><span class="line">        m &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        tailLen ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m &lt;&lt; tailLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="204-count-primes-easy"><a href="#204-count-primes-easy" class="headerlink" title="#204-count-primes-easy"></a>#204-count-primes-easy</h4><p><strong>Description:</strong></p><p>Count the number of prime numbers less than a non-negative number, <strong>n</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// indicate whether prime</span></span><br><span class="line">    <span class="keyword">boolean</span>[] prime = <span class="keyword">new</span> <span class="keyword">boolean</span>[n]; </span><br><span class="line">    Arrays.fill(prime,<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prime[i])&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>; i*j&lt;n; j++)&#123;</span><br><span class="line">                prime[i * j] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="207-course-schedule-medium"><a href="#207-course-schedule-medium" class="headerlink" title="#207-course-schedule-medium"></a>#207-course-schedule-medium</h4><p>There are a total of <em>n</em> courses you have to take, labeled from <code>0</code> to <code>n-1</code>.</p><p>Some courses may have prerequisites, for example to take course 0 you have to first take course 1, which is expressed as a pair: <code>[0,1]</code></p><p>Given the total number of courses and a list of prerequisite <strong>pairs</strong>, is it possible for you to finish all courses?</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: 2, [[1,0]] </span><br><span class="line">Output: true</span><br><span class="line">Explanation: There are a total of 2 courses to take. </span><br><span class="line">             To take course 1 you should have finished course 0. So it is possible.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// detect cycle</span></span><br><span class="line">    <span class="comment">// use adjacency list, assume input valid</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] prerequisite : prerequisites)&#123;</span><br><span class="line">        graph.get(prerequisite[<span class="number">0</span>]).add(prerequisite[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// track visited node</span></span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="comment">// track along a path for one start</span></span><br><span class="line">    Set&lt;Integer&gt; path = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(graph,visited,path,i))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph,Set&lt;Integer&gt; visited,Set&lt;Integer&gt; path,<span class="keyword">int</span> node)</span></span>&#123;</span><br><span class="line">    <span class="comment">// visited in path, cycle</span></span><br><span class="line">    <span class="keyword">if</span>(path.contains(node))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// no need to visit</span></span><br><span class="line">    <span class="keyword">if</span>(visited.contains(node))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    visited.add(node);  <span class="comment">// set visited</span></span><br><span class="line">    path.add(node); <span class="comment">// add to path</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> child : graph.get(node))&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(graph,visited,path,child))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    path.remove(node);  <span class="comment">// path finish, remove</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="210-course-schedule-ii-medium"><a href="#210-course-schedule-ii-medium" class="headerlink" title="#210-course-schedule-ii-medium"></a>#210-course-schedule-ii-medium</h4><p><strong>topological sort a directed graph</strong></p><p><strong>dfs with check cycle:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">    <span class="comment">// dfs topological, stack result</span></span><br><span class="line">    <span class="comment">// no outcome node bottom, no income top</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// graph save cout come edge</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)</span><br><span class="line">        graph.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p : prerequisites)</span><br><span class="line">        graph.get(p[<span class="number">1</span>]).add(p[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">//  check path, and visited (in result)</span></span><br><span class="line">    <span class="comment">// use stack to save visited node</span></span><br><span class="line">    <span class="keyword">boolean</span>[] path = <span class="keyword">new</span> <span class="keyword">boolean</span>[numCourses];</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[numCourses];</span><br><span class="line">    Stack&lt;Integer&gt; order = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// start dfs</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(graph,order,visited,path,i))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!order.isEmpty())</span><br><span class="line">        result[idx++] = order.pop();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph,Stack&lt;Integer&gt; order,<span class="keyword">boolean</span>[] visited,<span class="keyword">boolean</span>[] path,<span class="keyword">int</span> curr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(visited[curr])</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;        </span><br><span class="line">    <span class="keyword">if</span>(path[curr])</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    path[curr] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> child : graph.get(curr))&#123;</span><br><span class="line">        <span class="keyword">if</span>(hasCycle(graph,order,visited,path,child))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    path[curr] = <span class="keyword">false</span>;</span><br><span class="line">    visited[curr] = <span class="keyword">true</span>;</span><br><span class="line">    order.push(curr);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BFS: ADJ list save outcome, then count income</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">    <span class="comment">// topological output: no income node firse, this case no pre</span></span><br><span class="line">    <span class="comment">// check degree 0 node (no prerequisites), add to queue,</span></span><br><span class="line">    <span class="comment">// adj list save out edge [0,1] =&gt; 1 -&gt; 0, when save 1 : 0</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// graph saved is node and outcome</span></span><br><span class="line">    <span class="comment">// but countPre save income number</span></span><br><span class="line">    <span class="keyword">int</span>[] countPre = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numCourses; i++)</span><br><span class="line">        graph.add(<span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p : prerequisites)&#123;</span><br><span class="line">        graph.get(p[<span class="number">1</span>]).add(p[<span class="number">0</span>]); <span class="comment">// save outcome</span></span><br><span class="line">        countPre[p[<span class="number">0</span>]]++; <span class="comment">// count income (pre)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// init queue, find course with no pre</span></span><br><span class="line">    <span class="keyword">int</span>[] order = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;countPre.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(countPre[i] == <span class="number">0</span>)</span><br><span class="line">            queue.offer(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// start bfs</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = queue.poll();</span><br><span class="line">        order[idx++] = curr; <span class="comment">// no income(pre)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> child : graph.get(curr))&#123;</span><br><span class="line">            <span class="comment">// for all outcome node, income --</span></span><br><span class="line">            countPre[child]--;</span><br><span class="line">            <span class="keyword">if</span>(countPre[child] == <span class="number">0</span>)</span><br><span class="line">                queue.offer(child);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx == numCourses ? order : <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="211-add-and-search-word-medium"><a href="#211-add-and-search-word-medium" class="headerlink" title="#211-add-and-search-word-medium"></a>#211-add-and-search-word-medium</h4><p>Design a data structure that supports the following two operations:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void addWord(word)</span><br><span class="line">bool search(word)</span><br></pre></td></tr></table></figure><p>search(word) can search a literal word or a regular expression string containing only letters <code>a-z</code> or <code>.</code>. A <code>.</code> means it can represent any one letter.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">addWord(&quot;bad&quot;)</span><br><span class="line">addWord(&quot;dad&quot;)</span><br><span class="line">addWord(&quot;mad&quot;)</span><br><span class="line">search(&quot;pad&quot;) -&gt; false</span><br><span class="line">search(&quot;bad&quot;) -&gt; true</span><br><span class="line">search(&quot;.ad&quot;) -&gt; true</span><br><span class="line">search(&quot;b..&quot;) -&gt; true</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>You may assume that all words are consist of lowercase letters <code>a-z</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span></span>&#123;</span><br><span class="line">        TrieNode[] children;</span><br><span class="line">        <span class="keyword">boolean</span> isEnd;</span><br><span class="line">        TrieNode()&#123;</span><br><span class="line">            children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">            isEnd = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> TrieNode root;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Adds a word into the data structure. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        TrieNode curr = root;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : word.toCharArray())&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)&#123;</span><br><span class="line">                child = <span class="keyword">new</span> TrieNode();</span><br><span class="line">                curr.children[c - <span class="string">'a'</span>] = child;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = child;</span><br><span class="line">        &#125;</span><br><span class="line">        curr.isEnd = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> search(root,word,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(TrieNode curr,String word,<span class="keyword">int</span> idx)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(idx == word.length())</span><br><span class="line">            <span class="keyword">return</span> curr.isEnd;</span><br><span class="line">        <span class="keyword">char</span> c = word.charAt(idx);</span><br><span class="line">        <span class="keyword">if</span>(c != <span class="string">'.'</span>)&#123;</span><br><span class="line">            TrieNode child = curr.children[c - <span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">if</span>(child == <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">return</span> search(child,word,idx+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">26</span>; i++)&#123;</span><br><span class="line">                TrieNode child = curr.children[i];</span><br><span class="line">                <span class="keyword">if</span>(child!=<span class="keyword">null</span> &amp;&amp; search(child,word,idx+<span class="number">1</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="217-contains-duplicate-easy"><a href="#217-contains-duplicate-easy" class="headerlink" title="#217-contains-duplicate-easy"></a>#217-contains-duplicate-easy</h4><p>Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct.</p><p><strong>Use HashSet: time O(n), space O(n)</strong></p><p><strong>Use Sort: time O(nlgn), space O(1)</strong></p><hr><h4 id="219-contains-duplicate-ii-easy"><a href="#219-contains-duplicate-ii-easy" class="headerlink" title="#219-contains-duplicate-ii-easy"></a>#219-contains-duplicate-ii-easy</h4><p>Given an array of integers and an integer <em>k</em>, find out whether there are two distinct indices <em>i</em> and <em>j</em> in the array such that <strong>nums[i] = nums[j]</strong> and the <strong>absolute</strong> difference between <em>i</em> and <em>j</em> is at most <em>k</em>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i-k&gt;<span class="number">0</span>) visited.remove(nums[i-k-<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span>(!visited.add(nums[i])) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="220-contains-duplicate-iii-medium"><a href="#220-contains-duplicate-iii-medium" class="headerlink" title="#220-contains-duplicate-iii-medium"></a>#220-contains-duplicate-iii-medium</h4><p>Given an array of integers, find out whether there are two distinct indices <em>i</em> and <em>j</em> in the array such that the <strong>absolute</strong> difference between <strong>nums[i]</strong> and <strong>nums[j]</strong> is at most <em>t</em> and the <strong>absolute</strong> difference between <em>i</em> and <em>j</em> is at most <em>k</em>. <strong>Use TreeSet</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyAlmostDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// abs(nums[i] - nums[j]) &lt;= t</span></span><br><span class="line">    <span class="comment">// abs(i - j) &lt;= k</span></span><br><span class="line">    <span class="comment">// O(n log k)</span></span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span> || t&lt;<span class="number">0</span> || k&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="comment">// maintance a window</span></span><br><span class="line">        <span class="keyword">if</span>(i - k &gt; <span class="number">0</span>)</span><br><span class="line">            set.remove(nums[i - k - <span class="number">1</span>]);</span><br><span class="line">        <span class="comment">// floor: greatest less or equal to</span></span><br><span class="line">        <span class="comment">// ceiling: smallest greater or equal to</span></span><br><span class="line">        <span class="comment">// NOTICE: overflow</span></span><br><span class="line">        Integer left = set.ceiling(Integer.MIN_VALUE + t &lt; nums[i] ? </span><br><span class="line">                                   nums[i] - t : Integer.MIN_VALUE);</span><br><span class="line">        Integer right = set.floor(Integer.MAX_VALUE - t &gt; nums[i] ?</span><br><span class="line">                                 nums[i] + t : Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">if</span>(left != <span class="keyword">null</span> &amp;&amp; left &lt;= nums[i] ||</span><br><span class="line">          right != <span class="keyword">null</span> &amp;&amp; right &gt;= nums[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// add set</span></span><br><span class="line">        set.add(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="223-rectangle-area-medium"><a href="#223-rectangle-area-medium" class="headerlink" title="#223-rectangle-area-medium"></a>#223-rectangle-area-medium</h4><p>Find the total area covered by two <strong>rectilinear</strong> rectangles in a <strong>2D</strong> plane.</p><p>Each rectangle is defined by its bottom left corner and top right corner as shown in the figure.</p><p><img src="https://leetcode.com/static/images/problemset/rectangle_area.png" alt="Rectangle Area"></p><p>Assume that the total area is never beyond the maximum possible value of <strong>int</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">computeArea</span><span class="params">(<span class="keyword">int</span> A, <span class="keyword">int</span> B, <span class="keyword">int</span> C, <span class="keyword">int</span> D, <span class="keyword">int</span> E, <span class="keyword">int</span> F, <span class="keyword">int</span> G, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// FIND INTERSECTION</span></span><br><span class="line">    <span class="comment">// x axis: A---C E---F</span></span><br><span class="line">    <span class="keyword">int</span> X = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(C-A&gt;G-E &amp;&amp; E&gt;=A &amp;&amp; G&lt;=C)</span><br><span class="line">        X = G - E;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(C-A&lt;=G-E &amp;&amp; A&gt;=E &amp;&amp; C&lt;=G)</span><br><span class="line">        X = C - A;</span><br><span class="line">    <span class="comment">// after above 2, low priority</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(G&gt;A &amp;&amp; E&lt;A)</span><br><span class="line">        X = G - A;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(E&lt;C &amp;&amp; G&gt;C)</span><br><span class="line">        X = C - E;</span><br><span class="line">    <span class="comment">// y axis: B---D F---H</span></span><br><span class="line">    <span class="keyword">int</span> Y = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// check include relation first</span></span><br><span class="line">    <span class="keyword">if</span>(D-B&gt;H-F &amp;&amp; F&gt;=B &amp;&amp; H&lt;=D)</span><br><span class="line">        Y = H - F;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(D-B&lt;=H-F &amp;&amp; B&gt;=F &amp;&amp; D&lt;=H)</span><br><span class="line">        Y = D - B;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(H&gt;B &amp;&amp; F&lt;B)</span><br><span class="line">        Y = H - B;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(F&lt;D &amp;&amp; H&gt;D)</span><br><span class="line">        Y = D - F;        </span><br><span class="line">    <span class="comment">// compute</span></span><br><span class="line">    <span class="keyword">int</span> area1 = (C-A) * (D-B);</span><br><span class="line">    <span class="keyword">int</span> area2 = (G-E) * (H-F);</span><br><span class="line">    <span class="keyword">int</span> area3 = X * Y;</span><br><span class="line">    <span class="keyword">return</span> area1 + area2 - area3;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="227-basic-calculator-ii-medium"><a href="#227-basic-calculator-ii-medium" class="headerlink" title="#227-basic-calculator-ii-medium"></a>#227-basic-calculator-ii-medium</h4><p>Implement a basic calculator to evaluate a simple expression string.</p><p>The expression string contains only <strong>non-negative</strong> integers, <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> operators and empty spaces <code></code>. The integer division should truncate toward zero.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;3+2*2&quot;</span><br><span class="line">Output: 7</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot; 3/2 &quot;</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot; 3+5 / 2 &quot;</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">char</span> sign = <span class="string">'+'</span>;    <span class="comment">// for first number;</span></span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;s.length(); ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Character.isDigit(s.charAt(i)))</span><br><span class="line">            num = num * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">        <span class="comment">// when to add prev val</span></span><br><span class="line">        <span class="comment">// cannot use else if</span></span><br><span class="line">        <span class="keyword">if</span>(!Character.isDigit(s.charAt(i)) &amp;&amp; s.charAt(i) != <span class="string">' '</span> || i == s.length()-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">switch</span>(sign)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'+'</span>: stack.push(num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'-'</span>: stack.push(-num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'*'</span>: stack.push(stack.pop()*num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'/'</span>: stack.push(stack.pop()/num); <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sign = s.charAt(i);</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        num += stack.pop();</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="228-summary-ranges-medium"><a href="#228-summary-ranges-medium" class="headerlink" title="#228-summary-ranges-medium"></a>#228-summary-ranges-medium</h4><p>Given a sorted integer array without duplicates, return the summary of its ranges.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [0,1,2,4,5,7]</span><br><span class="line">Output: [&quot;0-&gt;2&quot;,&quot;4-&gt;5&quot;,&quot;7&quot;]</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [0,2,3,4,6,8,9]</span><br><span class="line">Output: [&quot;0&quot;,&quot;2-&gt;4&quot;,&quot;6&quot;,&quot;8-&gt;9&quot;]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">summaryRanges</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Integer head = <span class="keyword">null</span>;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span>)</span><br><span class="line">            head = nums[i];</span><br><span class="line">        <span class="keyword">if</span>(i&lt;nums.length-<span class="number">1</span> &amp;&amp; nums[i]+<span class="number">1</span>==nums[i+<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;   <span class="comment">// last one or new range</span></span><br><span class="line">            sb.append(head);</span><br><span class="line">            <span class="comment">// notice one num</span></span><br><span class="line">            <span class="keyword">if</span>(head != nums[i])</span><br><span class="line">                sb.append(<span class="string">"-&gt;"</span>+nums[i]);</span><br><span class="line">            result.add(sb.toString());</span><br><span class="line">            sb.setLength(<span class="number">0</span>);</span><br><span class="line">            head = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">summaryRanges</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> head=<span class="number">0</span>; head&lt;nums.length; head++)&#123;</span><br><span class="line">        <span class="keyword">int</span> tail = head;</span><br><span class="line">        <span class="keyword">while</span>(tail&lt;nums.length-<span class="number">1</span> &amp;&amp; nums[tail]+<span class="number">1</span>==nums[tail+<span class="number">1</span>])</span><br><span class="line">            tail ++;</span><br><span class="line">        <span class="keyword">if</span>(head != tail)</span><br><span class="line">            result.add(nums[head] + <span class="string">"-&gt;"</span> + nums[tail]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result.add(nums[head] + <span class="string">""</span>);</span><br><span class="line">        head = tail;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="229-majority-element-ii-medium"><a href="#229-majority-element-ii-medium" class="headerlink" title="#229-majority-element-ii-medium"></a>#229-majority-element-ii-medium</h4><p>Given an integer array of size <em>n</em>, find all elements that appear more than <code>⌊ n/3 ⌋</code> times. The algorithm should run in linear time and in O(1) space.</p><p><strong>Check existence first!!</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// majority vote</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">int</span> major1 = <span class="number">0</span>, major2 = <span class="number">0</span>, cnt1 = <span class="number">0</span>, cnt2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="comment">// order matters</span></span><br><span class="line">        <span class="keyword">if</span>(major1 == num)</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(major2 == num)</span><br><span class="line">            cnt2 ++;             </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cnt1 == <span class="number">0</span>)&#123;</span><br><span class="line">            major1 = num;</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cnt2 == <span class="number">0</span>)&#123;</span><br><span class="line">            major2 = num;  </span><br><span class="line">            cnt2 ++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cnt1 --;</span><br><span class="line">            cnt2 --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2nd pass, cnt accurance</span></span><br><span class="line">    cnt1 = cnt2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(major1 == num)</span><br><span class="line">            cnt1 ++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(major2 == num)</span><br><span class="line">            cnt2 ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// add to result</span></span><br><span class="line">    <span class="keyword">if</span>(cnt1 &gt; nums.length / <span class="number">3</span>)</span><br><span class="line">        result.add(major1);</span><br><span class="line">    <span class="keyword">if</span>(cnt2 &gt; nums.length / <span class="number">3</span>)</span><br><span class="line">        result.add(major2);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="235-lca-of-a-bst-easy"><a href="#235-lca-of-a-bst-easy" class="headerlink" title="#235-lca-of-a-bst-easy"></a>#235-lca-of-a-bst-easy</h4><p>Given a binary search tree (BST), find the lowest common ancestor (LCA) of two given nodes in the BST.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(root.val &lt; p.val &amp;&amp; root.val &lt; q.val)</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.right,p,q);</span><br><span class="line">    <span class="keyword">if</span>(root.val &gt; p.val &amp;&amp; root.val &gt; q.val)</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.left,p,q);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="236-lca-of-a-binay-tree-medium"><a href="#236-lca-of-a-binay-tree-medium" class="headerlink" title="#236-lca-of-a-binay-tree-medium"></a>#236-lca-of-a-binay-tree-medium</h4><p>Given a binary tree, find the lowest common ancestor (LCA) of two given nodes in the tree.</p><p>According to the <a href="https://en.wikipedia.org/wiki/Lowest_common_ancestor" target="_blank" rel="noopener">definition of LCA on Wikipedia</a>: “The lowest common ancestor is defined between two nodes v and w as the lowest node in T that has both v and w as descendants (where we allow <strong>a node to be a descendant of itself</strong>).”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(root == <span class="keyword">null</span> || root == p || root == q)</span><br><span class="line">           <span class="keyword">return</span> root;</span><br><span class="line">       TreeNode left = lowestCommonAncestor(root.left,p,q);</span><br><span class="line">       TreeNode right = lowestCommonAncestor(root.right,p,q);</span><br><span class="line">       <span class="keyword">if</span>(left == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> right;</span><br><span class="line">       <span class="keyword">if</span>(right == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> left;</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><hr><h4 id="239-sliding-window-maxmum-hard"><a href="#239-sliding-window-maxmum-hard" class="headerlink" title="#239-sliding-window-maxmum-hard"></a>#239-sliding-window-maxmum-hard</h4><p>Given an array <em>nums</em>, there is a sliding window of size <em>k</em> which is moving from the very left of the array to the very right. You can only see the <em>k</em> numbers in the window. Each time the sliding window moves right by one position. Return the max sliding window.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,3,-1,-3,5,3,6,7], and k = 3</span><br><span class="line">Output: [3,3,5,5,6,7] </span><br><span class="line">Explanation: </span><br><span class="line"></span><br><span class="line">Window position                Max</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use deque maintains max at head</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length - k + <span class="number">1</span>];</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k-<span class="number">1</span>;i++)</span><br><span class="line">        inQueue(deque,nums[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=k-<span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        inQueue(deque,nums[i]);</span><br><span class="line">        result[i-k+<span class="number">1</span>] = deque.peekFirst();</span><br><span class="line">        outQueue(deque,nums[i-k+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inQueue</span><span class="params">(Deque&lt;Integer&gt; deque,<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast()&lt;num)</span><br><span class="line">        deque.pollLast();</span><br><span class="line">    deque.offerLast(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">outQueue</span><span class="params">(Deque&lt;Integer&gt; deque,<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(deque.peekFirst() == num)</span><br><span class="line">        deque.pollFirst();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="241-different-ways-to-add-parentheses-medium"><a href="#241-different-ways-to-add-parentheses-medium" class="headerlink" title="#241-different-ways-to-add-parentheses-medium"></a>#241-different-ways-to-add-parentheses-medium</h4><p>Given a string of numbers and operators, return all possible results from computing all the different possible ways to group numbers and operators. The valid operators are <code>+</code>, <code>-</code> and <code>*</code>.</p><p>Example 1</p><p>Input: <code>&quot;2-1-1&quot;</code>.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">((2-1)-1) = 0</span><br><span class="line">(2-(1-1)) = 2</span><br></pre></td></tr></table></figure><p>Output: <code>[0, 2]</code></p><p>Example 2</p><p>Input: <code>&quot;2*3-4*5&quot;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(2*(3-(4*5))) = -34</span><br><span class="line">((2*3)-(4*5)) = -14</span><br><span class="line">((2*(3-4))*5) = -10</span><br><span class="line">(2*((3-4)*5)) = -10</span><br><span class="line">(((2*3)-4)*5) = 10</span><br></pre></td></tr></table></figure><p>Output: <code>[-34, -14, -10, -10, 10]</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">diffWaysToCompute</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use recursion</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;input.length();i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = input.charAt(i);</span><br><span class="line">        <span class="comment">// divide input to two part</span></span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'+'</span> || c==<span class="string">'-'</span> || c==<span class="string">'*'</span>)&#123;</span><br><span class="line">            String left = input.substring(<span class="number">0</span>,i);</span><br><span class="line">            String right = input.substring(i+<span class="number">1</span>);</span><br><span class="line">            List&lt;Integer&gt; list1 = diffWaysToCompute(left);</span><br><span class="line">            List&lt;Integer&gt; list2 = diffWaysToCompute(right);</span><br><span class="line">            <span class="comment">// combine to subset</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> num1 : list1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> num2 : list2)&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">                            temp = num1 + num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                            temp = num1 - num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                            temp = num1 * num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// one possible result</span></span><br><span class="line">                    result.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case theres no operator in input</span></span><br><span class="line">    <span class="keyword">if</span>(result.size() == <span class="number">0</span>)</span><br><span class="line">        result.add(Integer.parseInt(input));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>add memory and optimization</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">diffWaysToCompute</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    Map&lt;String,List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">return</span> dfs(input,map,<span class="number">0</span>,input.length());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;Integer&gt; <span class="title">dfs</span><span class="params">(String input,Map&lt;String,List&lt;Integer&gt;&gt; map,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="comment">// use recursion</span></span><br><span class="line">    <span class="comment">// if this expression is saved</span></span><br><span class="line">    String expression = input.substring(start,end);</span><br><span class="line">    <span class="keyword">if</span>(map.containsKey(expression))</span><br><span class="line">        <span class="keyword">return</span> map.get(expression);</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=start;i&lt;end;i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = input.charAt(i);</span><br><span class="line">        <span class="comment">// divide input to two part</span></span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'+'</span> || c==<span class="string">'-'</span> || c==<span class="string">'*'</span>)&#123;</span><br><span class="line">            List&lt;Integer&gt; list1 = dfs(input,map,start,i);</span><br><span class="line">            List&lt;Integer&gt; list2 = dfs(input,map,i+<span class="number">1</span>,end);</span><br><span class="line">            <span class="comment">// combine to subset</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> num1 : list1)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> num2 : list2)&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'+'</span>: </span><br><span class="line">                            temp = num1 + num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                            temp = num1 - num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                            temp = num1 * num2;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// one possible result</span></span><br><span class="line">                    result.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// case theres no operator in input</span></span><br><span class="line">    <span class="keyword">if</span>(result.size() == <span class="number">0</span>)</span><br><span class="line">        result.add(Integer.parseInt(expression));</span><br><span class="line">    map.put(expression,result);</span><br><span class="line">    <span class="keyword">return</span> result;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="243-shortest-word-distance-easy"><a href="#243-shortest-word-distance-easy" class="headerlink" title="#243-shortest-word-distance-easy"></a>#243-shortest-word-distance-easy</h4><p>Given a list of words and two words <em>word1</em> and <em>word2</em>, return the shortest distance between these two words in the list.</p><p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p><p>Given <em>word1</em> = <code>“coding”</code>, <em>word2</em> = <code>“practice”</code>, return 3.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;coding&quot;</code>, return 1.</p><p><strong>Note:</strong><br>You may assume that <em>word1</em> <strong>does not equal to</strong> <em>word2</em>, and <em>word1</em> and <em>word2</em> are both in the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>, min = words.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">            idx1 = i;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(words[i].equals(word2))</span><br><span class="line">            idx2 = i;</span><br><span class="line">        <span class="comment">// need to check whether idx are set</span></span><br><span class="line">        <span class="keyword">if</span>(idx1!=-<span class="number">1</span> &amp;&amp; idx2!=-<span class="number">1</span>)</span><br><span class="line">            min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="244-shortest-word-distance-ii-medium"><a href="#244-shortest-word-distance-ii-medium" class="headerlink" title="#244-shortest-word-distance-ii-medium"></a>#244-shortest-word-distance-ii-medium</h4><p>This is a <strong>follow up</strong> of <a href="https://leetcode.com/problems/shortest-word-distance" target="_blank" rel="noopener">Shortest Word Distance</a>. The only difference is now you are given the list of words and your method will be called <em>repeatedly</em> many times with different parameters. How would you optimize it?</p><p>Design a class which receives a list of words in the constructor, and implements a method that takes two words <em>word1</em> and <em>word2</em> and return the shortest distance between these two words in the list.</p><p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p><p>Given <em>word1</em> = <code>“coding”</code>, <em>word2</em> = <code>“practice”</code>, return 3.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;coding&quot;</code>, return 1.</p><p><strong>Note:</strong><br>You may assume that <em>word1</em> <strong>does not equal to</strong> <em>word2</em>, and <em>word1</em> and <em>word2</em> are both in the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDistance</span> </span>&#123;</span><br><span class="line">    Map&lt;String,List&lt;Integer&gt;&gt; map;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDistance</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!map.containsKey(words[i]))</span><br><span class="line">                map.put(words[i],<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            map.get(words[i]).add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortest</span><span class="params">(String word1, String word2)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; l1 = map.get(word1);</span><br><span class="line">        List&lt;Integer&gt; l2 = map.get(word2);</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// utilize two pointer to optimize</span></span><br><span class="line">        <span class="keyword">while</span>(idx1&lt;l1.size() &amp;&amp; idx2&lt;l2.size())&#123;</span><br><span class="line">            min = Math.min(min,Math.abs(l1.get(idx1)-l2.get(idx2)));</span><br><span class="line">            <span class="keyword">if</span>(l1.get(idx1) &lt; l2.get(idx2))</span><br><span class="line">                idx1++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                idx2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="245-shortest-word-distance-iii-medium"><a href="#245-shortest-word-distance-iii-medium" class="headerlink" title="#245-shortest-word-distance-iii-medium"></a>#245-shortest-word-distance-iii-medium</h4><p>This is a <strong>follow up</strong> of <a href="https://leetcode.com/problems/shortest-word-distance" target="_blank" rel="noopener">Shortest Word Distance</a>. The only difference is now <em>word1</em> could be the same as <em>word2</em>.</p><p>Given a list of words and two words <em>word1</em> and <em>word2</em>, return the shortest distance between these two words in the list.</p><p><em>word1</em> and <em>word2</em> may be the same and they represent two individual words in the list.</p><p>For example,<br>Assume that words = <code>[&quot;practice&quot;, &quot;makes&quot;, &quot;perfect&quot;, &quot;coding&quot;, &quot;makes&quot;]</code>.</p><p>Given <em>word1</em> = <code>“makes”</code>, <em>word2</em> = <code>“coding”</code>, return 1.<br>Given <em>word1</em> = <code>&quot;makes&quot;</code>, <em>word2</em> = <code>&quot;makes&quot;</code>, return 3.</p><p><strong>Note:</strong><br>You may assume <em>word1</em> and <em>word2</em> are both in the list.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min = words.length;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;words.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">            idx1 = i;</span><br><span class="line">        <span class="keyword">if</span>(words[i].equals(word2))&#123;</span><br><span class="line">            <span class="keyword">if</span>(word1.equals(word2))</span><br><span class="line">            <span class="comment">// set idx1 to prev idx2</span></span><br><span class="line">                idx1 = idx2;</span><br><span class="line">            idx2 = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(idx1 != -<span class="number">1</span> &amp;&amp; idx2 != -<span class="number">1</span>)&#123;</span><br><span class="line">            min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>quicker</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(String[] words, String word1, String word2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min = words.length;</span><br><span class="line">    <span class="keyword">int</span> idx1 = -<span class="number">1</span>, idx2 = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(word1.equals(word2))&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(words[i].equals(word1))&#123;</span><br><span class="line">                <span class="keyword">if</span>(idx1 == -<span class="number">1</span>)</span><br><span class="line">                    idx1 = i;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    min = Math.min(min,i-idx1);</span><br><span class="line">                    idx1 = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;            </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;words.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(words[i].equals(word1))</span><br><span class="line">                idx1 = i;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(words[i].equals(word2))</span><br><span class="line">                idx2 = i;</span><br><span class="line">            <span class="keyword">if</span>(idx1!=-<span class="number">1</span> &amp;&amp; idx2!=-<span class="number">1</span>)</span><br><span class="line">                min = Math.min(min,Math.abs(idx1-idx2));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="248-strobogrammatic-number-iii-hard"><a href="#248-strobogrammatic-number-iii-hard" class="headerlink" title="#248-strobogrammatic-number-iii-hard"></a>#248-strobogrammatic-number-iii-hard</h4><p>A strobogrammatic number is a number that looks the same when rotated 180 degrees (looked at upside down).</p><p>Write a function to count the total strobogrammatic numbers that exist in the range of low &lt;= num &lt;= high.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: low = &quot;50&quot;, high = &quot;100&quot;</span><br><span class="line">Output: 3 </span><br><span class="line">Explanation: 69, 88, and 96 are three strobogrammatic numbers.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong><br>Because the range might be a large number, the <em>low</em> and <em>high</em> numbers are represented as string.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">strobogrammaticInRange</span><span class="params">(String low, String high)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=low.length(); i&lt;=high.length(); i++)&#123;</span><br><span class="line">        list.addAll(findStrobogrammatic(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length()==low.length() &amp;&amp; s.compareTo(low)&lt;<span class="number">0</span> || </span><br><span class="line">           s.length()==high.length() &amp;&amp; s.compareTo(high)&gt;<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        count ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findStrobogrammatic</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        result = Arrays.asList(<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        result = Arrays.asList(<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"8"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=(n%<span class="number">2</span>)+<span class="number">2</span>; i&lt;=n; i+=<span class="number">2</span>)&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String s : result)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != n)</span><br><span class="line">                list.add(<span class="string">"0"</span> + s + <span class="string">"0"</span>);</span><br><span class="line">            list.add(<span class="string">"1"</span> + s + <span class="string">"1"</span>);</span><br><span class="line">            list.add(<span class="string">"8"</span> + s + <span class="string">"8"</span>);</span><br><span class="line">            list.add(<span class="string">"6"</span> + s + <span class="string">"9"</span>);</span><br><span class="line">            list.add(<span class="string">"9"</span> + s + <span class="string">"6"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        result = list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="253-meeting-rooms-ii-medium"><a href="#253-meeting-rooms-ii-medium" class="headerlink" title="#253-meeting-rooms-ii-medium"></a>#253-meeting-rooms-ii-medium</h4><p>Given an array of meeting time intervals consisting of start and end times <code>[[s1,e1],[s2,e2],...]</code> (si &lt; ei), find the minimum number of conference rooms required.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[0, 30],[5, 10],[15, 20]]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[7,10],[2,4]]</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// seperate array of start and end then sort</span></span><br><span class="line">    <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] starts = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">    <span class="keyword">int</span>[] ends = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++)&#123;</span><br><span class="line">        starts[i] = intervals[i].start;</span><br><span class="line">        ends[i] = intervals[i].end;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(starts);</span><br><span class="line">    Arrays.sort(ends);</span><br><span class="line">    <span class="comment">// if start &lt; end add room, else update end</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;starts.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(starts[i] &lt; ends[end])</span><br><span class="line">            count ++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            end ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Greedy: </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// greedy, sort on start first</span></span><br><span class="line">      <span class="comment">// then use heap on end time to track rooms</span></span><br><span class="line">      <span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// sort start time and init end sorted heap</span></span><br><span class="line">      Arrays.sort(intervals,(o1,o2)-&gt;o1.start-o2.start);</span><br><span class="line">      PriorityQueue&lt;Interval&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1.end-o2.end);</span><br><span class="line"><span class="comment">// start</span></span><br><span class="line">      heap.offer(intervals[<span class="number">0</span>]);</span><br><span class="line">Interval prev = intervals[<span class="number">0</span>], curr = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line"><span class="comment">// find min end room, cannot use peek</span></span><br><span class="line">prev = heap.poll();</span><br><span class="line">curr = intervals[i];</span><br><span class="line"><span class="comment">// can put in this min end room, update end time</span></span><br><span class="line"><span class="keyword">if</span>(curr.start &gt;= prev.end)</span><br><span class="line">prev.end = curr.end;</span><br><span class="line"><span class="keyword">else</span><span class="comment">// sign a new room</span></span><br><span class="line">heap.offer(curr);</span><br><span class="line">heap.offer(prev);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> heap.size();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><strong>count max schedules</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSchedules</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">// sort on end time</span></span><br><span class="line">Arrays.sort(intervals, (o1,o2)-&gt;o1.end-o2.end);</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">Interval prev = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(prev == <span class="keyword">null</span> || intervals[i].start&gt;=prev.end) &#123;</span><br><span class="line">count ++;</span><br><span class="line">prev = intervals[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="263-ugly-number-easy"><a href="#263-ugly-number-easy" class="headerlink" title="#263-ugly-number-easy"></a>#263-ugly-number-easy</h4><p>Write a program to check whether a given number is an ugly number.</p><p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>6, 8</code> are ugly while <code>14</code> is not ugly since it includes another prime factor <code>7</code>.</p><p><strong>Note:</strong></p><ol><li><code>1</code> is typically treated as an ugly number.</li><li>Input is within the 32-bit signed integer range.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">2</span> == <span class="number">0</span>) num /= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">3</span> == <span class="number">0</span>) num /= <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span>(num % <span class="number">5</span> == <span class="number">0</span>) num /= <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="264-ugly-number-ii-medium"><a href="#264-ugly-number-ii-medium" class="headerlink" title="#264-ugly-number-ii-medium"></a>#264-ugly-number-ii-medium</h4><p>Write a program to find the <code>n</code>-th ugly number.</p><p>Ugly numbers are positive numbers whose prime factors only include <code>2, 3, 5</code>. For example, <code>1, 2, 3, 4, 5, 6, 8, 9, 10, 12</code> is the sequence of the first <code>10</code> ugly numbers.</p><p>Note that <code>1</code> is typically treated as an ugly number, and <em>n</em> <strong>does not exceed 1690</strong>.</p><p>The idea of this solution is from this page:<a href="http://www.geeksforgeeks.org/ugly-numbers/" target="_blank" rel="noopener">http://www.geeksforgeeks.org/ugly-numbers/</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// pointer for multi of 2,3,5</span></span><br><span class="line">    <span class="keyword">int</span> i2 = <span class="number">0</span>, i3 = <span class="number">0</span>, i5 = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// dp </span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> ugly = Math.min(dp[i5]*<span class="number">5</span>,</span><br><span class="line">                   Math.min(dp[i2]*<span class="number">2</span>,</span><br><span class="line">                            dp[i3]*<span class="number">3</span>));</span><br><span class="line">        dp[i] = ugly;</span><br><span class="line">        <span class="comment">// check to increase pointer</span></span><br><span class="line">        <span class="keyword">if</span>(dp[i2]*<span class="number">2</span> == ugly) i2++;</span><br><span class="line">        <span class="keyword">if</span>(dp[i3]*<span class="number">3</span> == ugly) i3++;</span><br><span class="line">        <span class="keyword">if</span>(dp[i5]*<span class="number">5</span> == ugly) i5++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="268-missing-number-easy"><a href="#268-missing-number-easy" class="headerlink" title="#268-missing-number-easy"></a>#268-missing-number-easy</h4><p>Given an array containing <em>n</em> distinct numbers taken from <code>0, 1, 2, ..., n</code>, find the one that is missing from the array.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [3,0,1]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [9,6,4,2,3,5,7,0,1]</span><br><span class="line">Output: 8</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(nums[i]!=nums.length &amp;&amp; nums[i]!=nums[nums[i]])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = nums[nums[i]];</span><br><span class="line">            nums[nums[i]] = nums[i];</span><br><span class="line">            nums[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != i)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="271-encode-and-decode-strings-medium"><a href="#271-encode-and-decode-strings-medium" class="headerlink" title="#271-encode-and-decode-strings-medium"></a>#271-encode-and-decode-strings-medium</h4><p>Design an algorithm to encode <strong>a list of strings</strong> to <strong>a string</strong>. The encoded string is then sent over the network and is decoded back to the original list of strings.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// count#str</span></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(String str : strs)&#123;</span><br><span class="line">            <span class="comment">// append one by one</span></span><br><span class="line">            sb.append(str.length() + <span class="string">"#"</span> + str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; s.length())&#123;</span><br><span class="line">            <span class="keyword">int</span> j = i;</span><br><span class="line">            <span class="keyword">while</span>(s.charAt(j) != <span class="string">'#'</span>)</span><br><span class="line">                j ++;</span><br><span class="line">            <span class="keyword">int</span> len = Integer.parseInt(s.substring(i,j));</span><br><span class="line">            result.add(s.substring(j+<span class="number">1</span>,j+<span class="number">1</span>+len));</span><br><span class="line">            i = j + <span class="number">1</span> + len;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Your Codec object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// Codec codec = new Codec();</span></span><br><span class="line"><span class="comment">// codec.decode(codec.encode(strs));</span></span><br></pre></td></tr></table></figure><p><strong>num#len1#len2#12</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    sb.append(strs.size() + <span class="string">"#"</span>);</span><br><span class="line">    <span class="keyword">for</span>(String str : strs)</span><br><span class="line">        sb.append(str.length() + <span class="string">"#"</span>);</span><br><span class="line">    <span class="keyword">for</span>(String str : strs)</span><br><span class="line">        sb.append(str);</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// find count</span></span><br><span class="line">    <span class="keyword">while</span>(tail&lt;s.length() &amp;&amp; s.charAt(tail)!=<span class="string">'#'</span>)</span><br><span class="line">        tail++;</span><br><span class="line">    <span class="keyword">int</span> count = Integer.parseInt(s.substring(head,tail));</span><br><span class="line">    <span class="keyword">int</span>[] len = <span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; i++)&#123;</span><br><span class="line">        head = tail + <span class="number">1</span>;</span><br><span class="line">        tail = head;</span><br><span class="line">        <span class="keyword">while</span>(tail&lt;s.length() &amp;&amp; s.charAt(tail)!=<span class="string">'#'</span>)</span><br><span class="line">            tail++;</span><br><span class="line">        len[i] = Integer.parseInt(s.substring(head,tail));</span><br><span class="line">    &#125;</span><br><span class="line">    head = tail + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;count; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == s.length())</span><br><span class="line">            result.add(<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            result.add(s.substring(head,head+len[i]));</span><br><span class="line">            head += len[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="272-closest-bst-value-ii-hard"><a href="#272-closest-bst-value-ii-hard" class="headerlink" title="#272-closest-bst-value-ii-hard"></a>#272-closest-bst-value-ii-hard</h4><p>Given a non-empty binary search tree and a target value, find <em>k</em> values in the BST that are closest to the target.</p><p><strong>Note:</strong></p><ul><li>Given target value is a floating point.</li><li>You may assume <em>k</em> is always valid, that is: <em>k</em> ≤ total nodes.</li><li>You are guaranteed to have only one unique set of <em>k</em> values in the BST that are closest to the target.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [4,2,5,1,3], target = 3.714286, and k = 2</span><br><span class="line"></span><br><span class="line">    4</span><br><span class="line">   / \</span><br><span class="line">  2   5</span><br><span class="line"> / \</span><br><span class="line">1   3</span><br><span class="line"></span><br><span class="line">Output: [4,3]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">closestKValues</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two stack, one for pre one for suc</span></span><br><span class="line">    <span class="comment">// 12345, 3,7</span></span><br><span class="line">    <span class="comment">// =&gt; pres 1,2,3</span></span><br><span class="line">    <span class="comment">// =&gt; succ 5,4</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    Stack&lt;Integer&gt; pres = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; sucs = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">// notice one of should have equal condition</span></span><br><span class="line">    inorderPre(root,target,pres);</span><br><span class="line">    inorderSuc(root,target,sucs);</span><br><span class="line">    <span class="comment">// then find k</span></span><br><span class="line">    <span class="keyword">while</span>(k-- &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(pres.isEmpty())</span><br><span class="line">            result.add(sucs.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sucs.isEmpty())</span><br><span class="line">            result.add(pres.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(Math.abs(pres.peek()-target) &lt; Math.abs(sucs.peek()-target))</span><br><span class="line">            result.add(pres.pop());</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            result.add(sucs.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorderPre</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, Stack&lt;Integer&gt; pres)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    inorderPre(root.left, target, pres);</span><br><span class="line">    <span class="comment">// push all smaller pred, choose equal (or sucs equal)</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &gt;= target)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    pres.push(root.val);</span><br><span class="line">    inorderPre(root.right, target, pres);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorderSuc</span><span class="params">(TreeNode root, <span class="keyword">double</span> target, Stack&lt;Integer&gt; sucs)</span></span>&#123;</span><br><span class="line">    <span class="comment">// reverse inorder</span></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    inorderSuc(root.right, target, sucs);</span><br><span class="line">    <span class="comment">// find all larger suc</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &lt; target)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    sucs.push(root.val);</span><br><span class="line">    inorderSuc(root.left, target, sucs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="279-perfect-squares-medium"><a href="#279-perfect-squares-medium" class="headerlink" title="#279-perfect-squares-medium"></a>#279-perfect-squares-medium</h4><p>Given a positive integer <em>n</em>, find the least number of perfect square numbers (for example, <code>1, 4, 9, 16, ...</code>) which sum to <em>n</em>.</p><p>For example, given <em>n</em> = <code>12</code>, return <code>3</code> because <code>12 = 4 + 4 + 4</code>; given <em>n</em> = <code>13</code>, return <code>2</code> because <code>13 = 4 + 9</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use dp check prev sum</span></span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// dp iteration</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        <span class="comment">// for num i, check all squares</span></span><br><span class="line">        <span class="comment">// curr square + (i-square)</span></span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j*j&lt;=i; j++)&#123;</span><br><span class="line">            <span class="comment">// dp[j*j] is 1</span></span><br><span class="line">            <span class="comment">// so population not needed</span></span><br><span class="line">            min = Math.min(min, dp[i-j*j] + <span class="number">1</span>);</span><br><span class="line">        &#125;      </span><br><span class="line">        dp[i] = min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="285-inorder-successor-in-bst-medium"><a href="#285-inorder-successor-in-bst-medium" class="headerlink" title="#285-inorder-successor-in-bst-medium"></a>#285-inorder-successor-in-bst-medium</h4><p>Given a binary search tree and a node in it, find the in-order successor of that node in the BST.</p><p><strong>Note</strong>: If the given node has no in-order successor in the tree, return <code>null</code>.</p><p><strong>recursion: </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderSuccessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// if root &lt;= p, just check right side</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &lt;= p.val)</span><br><span class="line">        <span class="keyword">return</span> inorderSuccessor(root.right,p);</span><br><span class="line">    <span class="comment">// if root &gt; p, root is possible result</span></span><br><span class="line">    TreeNode result = inorderSuccessor(root.left,p);</span><br><span class="line">    <span class="keyword">return</span> result == <span class="keyword">null</span>? root : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderSuccessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// if root.val &gt; p, it's possible result</span></span><br><span class="line">    TreeNode result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(root != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.val &gt; p.val)&#123;</span><br><span class="line">            result = root;</span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            root = root.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>predecessor:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">inorderPredecessor</span><span class="params">(TreeNode root, TreeNode p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// if root.val &lt; p, possible result</span></span><br><span class="line">    <span class="keyword">if</span>(root.val &gt;= p)</span><br><span class="line">        <span class="keyword">return</span> inorderPredecessor(root.left,p);</span><br><span class="line">    TreeNode result = inorderPredecessor(root.right,p);</span><br><span class="line">    <span class="keyword">return</span> result == <span class="keyword">null</span> ? root : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="287-find-duplicate-number-medium"><a href="#287-find-duplicate-number-medium" class="headerlink" title="#287-find-duplicate-number-medium"></a>#287-find-duplicate-number-medium</h4><p>Given an array <em>nums</em> containing <em>n</em> + 1 integers where each integer is between 1 and <em>n</em> (inclusive), prove that at least one duplicate number must exist. Assume that there is only one duplicate number, find the duplicate one.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,3,4,2,2]</span><br><span class="line">Output: 2</span><br><span class="line">[2,2,2,2]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// find entrance of cycle</span></span><br><span class="line">    <span class="keyword">int</span> slow = nums[<span class="number">0</span>], fast = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">    &#125;<span class="keyword">while</span>(slow != fast);</span><br><span class="line">    <span class="keyword">int</span> idx1 = nums[<span class="number">0</span>], idx2 = slow;</span><br><span class="line">    <span class="keyword">while</span>(idx1 != idx2)&#123;</span><br><span class="line">        idx1 = nums[idx1];</span><br><span class="line">        idx2 = nums[idx2];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> idx1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="295-find-median-from-data-stream-hard"><a href="#295-find-median-from-data-stream-hard" class="headerlink" title="#295-find-median-from-data-stream-hard"></a>#295-find-median-from-data-stream-hard</h4><p>Median is the middle value in an ordered integer list. If the size of the list is even, there is no middle value. So the median is the mean of the two middle value.</p><p>For example,</p><p><code>[2,3,4]</code>, the median is <code>3</code></p><p><code>[2,3]</code>, the median is <code>(2 + 3) / 2 = 2.5</code></p><p>Design a data structure that supports the following two operations:</p><ul><li>void addNum(int num) - Add a integer number from the data stream to the data structure.</li><li>double findMedian() - Return the median of all elements so far.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addNum(1)</span><br><span class="line">addNum(2)</span><br><span class="line">findMedian() -&gt; 1.5</span><br><span class="line">addNum(3) </span><br><span class="line">findMedian() -&gt; 2</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use two heap (min &amp; max)</span></span><br><span class="line">    PriorityQueue&lt;Long&gt; minHeap, maxHeap;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MedianFinder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        minHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">        maxHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// left max heap, right min heap</span></span><br><span class="line">        <span class="comment">// every time add to left, </span></span><br><span class="line">        maxHeap.offer((<span class="keyword">long</span>)num);</span><br><span class="line">        minHeap.offer(maxHeap.poll());</span><br><span class="line">        <span class="comment">// keep max heap larger</span></span><br><span class="line">        <span class="keyword">if</span>(maxHeap.size() &lt; minHeap.size())</span><br><span class="line">            maxHeap.offer(minHeap.poll());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedian</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(minHeap.size() == maxHeap.size())</span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">double</span>)(minHeap.peek() + maxHeap.peek()) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">double</span>)maxHeap.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="297-encode-and-decode-binary-tree-hard"><a href="#297-encode-and-decode-binary-tree-hard" class="headerlink" title="#297-encode-and-decode-binary-tree-hard"></a>#297-encode-and-decode-binary-tree-hard</h4><p>Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.</p><p>Design an algorithm to serialize and deserialize a binary tree. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary tree can be serialized to a string and this string can be deserialized to the original tree structure.</p><p><strong>preorder bfs recursion</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use preorder dfs</span></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        buildString(root,sb);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildString</span><span class="params">(TreeNode root,StringBuilder sb)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">            sb.append(<span class="string">"X"</span>).append(<span class="string">","</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(root.val).append(<span class="string">","</span>);</span><br><span class="line">        buildString(root.left,sb);</span><br><span class="line">        buildString(root.right,sb);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.addAll(Arrays.asList(data.split(<span class="string">","</span>)));</span><br><span class="line">        <span class="keyword">return</span> buildTree(queue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(Queue&lt;String&gt; queue)</span></span>&#123;</span><br><span class="line">        String val = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(val==<span class="keyword">null</span> || val.equals(<span class="string">"X"</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.parseInt(val));</span><br><span class="line">        root.left = buildTree(queue);</span><br><span class="line">        root.right = buildTree(queue);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>bfs iteration</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            TreeNode node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(node == <span class="keyword">null</span>)&#123;</span><br><span class="line">                sb.append(<span class="string">"X,"</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(node.val+<span class="string">","</span>);</span><br><span class="line">            queue.offer(node.left);</span><br><span class="line">            queue.offer(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data==<span class="keyword">null</span> || data.length()==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        String[] values = data.split(<span class="string">","</span>);</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[<span class="number">0</span>]));</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            TreeNode node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(!values[idx].equals(<span class="string">"X"</span>))&#123;</span><br><span class="line">                node.left = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[idx]));</span><br><span class="line">                queue.offer(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;</span><br><span class="line">            <span class="keyword">if</span>(!values[idx].equals(<span class="string">"X"</span>))&#123;</span><br><span class="line">                node.right = <span class="keyword">new</span> TreeNode(Integer.parseInt(values[idx]));</span><br><span class="line">                queue.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            idx++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="300-longest-increasing-subsequence-medium"><a href="#300-longest-increasing-subsequence-medium" class="headerlink" title="#300-longest-increasing-subsequence-medium"></a>#300-longest-increasing-subsequence-medium</h4><p>Given an unsorted array of integers, find the length of longest increasing subsequence.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [10,9,2,5,3,7,101,18]</span><br><span class="line">Output: 4 </span><br><span class="line">Explanation: The longest increasing subsequence is [2,3,7,101], therefore the length is 4.</span><br></pre></td></tr></table></figure><p><strong>n^2 dp:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; nums[j])</span><br><span class="line">                maxLen = Math.max(maxLen,dp[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[i] = maxLen + <span class="number">1</span>;</span><br><span class="line">        result = Math.max(result,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>binary search dp:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="comment">// maintain an increasing dp array</span></span><br><span class="line">    <span class="comment">// use maxLen as tail</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = maxLen;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(dp[mid] &lt; num)</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[left] = num;</span><br><span class="line">        <span class="keyword">if</span>(left == maxLen)</span><br><span class="line">            maxLen ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="313-supper-ugly-number-medium"><a href="#313-supper-ugly-number-medium" class="headerlink" title="#313-supper-ugly-number-medium"></a>#313-supper-ugly-number-medium</h4><p>Write a program to find the nth super ugly number.</p><p>Super ugly numbers are positive numbers whose all prime factors are in the given prime list <code>primes</code> of size <code>k</code>. For example, <code>[1, 2, 4, 7, 8, 13, 14, 16, 19, 26, 28, 32]</code>is the sequence of the first 12 super ugly numbers given <code>primes</code> = <code>[2, 7, 13, 19]</code> of size 4.</p><p><strong>Note:</strong><br>(1) <code>1</code> is a super ugly number for any given <code>primes</code>.<br>(2) The given numbers in <code>primes</code> are in ascending order.<br>(3) 0 &lt; <code>k</code> ≤ 100, 0 &lt; <code>n</code> ≤ 106, 0 &lt; <code>primes[i]</code> &lt; 1000.<br>(4) The nth super ugly number is guaranteed to fit in a 32-bit signed integer.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use idea of ugly number ii</span></span><br><span class="line">    <span class="comment">// array to save result, first is 1</span></span><br><span class="line">    <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// array to save index</span></span><br><span class="line">    <span class="keyword">int</span>[] idx = <span class="keyword">new</span> <span class="keyword">int</span>[primes.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="comment">// find min to be curr ugly num</span></span><br><span class="line">        <span class="keyword">int</span> ugly = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;idx.length; j++)&#123;</span><br><span class="line">            <span class="comment">// nums[idx for j] * primes[j]</span></span><br><span class="line">            <span class="keyword">int</span> candidate = primes[j] * nums[idx[j]];</span><br><span class="line">            ugly = Math.min(ugly,candidate);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// set curr result</span></span><br><span class="line">        nums[i] = ugly;</span><br><span class="line">        <span class="comment">// update index for all primes</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;idx.length; j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> prev = nums[idx[j]];</span><br><span class="line">            <span class="keyword">if</span>(prev * primes[j] == ugly)</span><br><span class="line">                idx[j] ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[n-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="325-max-size-subarray-sum-equals-k-medium"><a href="#325-max-size-subarray-sum-equals-k-medium" class="headerlink" title="#325-max-size-subarray-sum-equals-k-medium"></a>#325-max-size-subarray-sum-equals-k-medium</h4><p>Given an array <em>nums</em> and a target value <em>k</em>, find the maximum length of a subarray that sums to <em>k</em>. If there isn’t one, return 0 instead.</p><p><strong>Note:</strong><br>The sum of the entire <em>nums</em> array is guaranteed to fit within the 32-bit signed integer range.</p><p><strong>Example 1:</strong></p><p>Given <em>nums</em> = <code>[1, -1, 5, -2, 3]</code>, <em>k</em> = <code>3</code>,<br>return <code>4</code>. (because the subarray <code>[1, -1, 5, -2]</code> sums to 3 and is the longest)</p><p><strong>Example 2:</strong></p><p>Given <em>nums</em> = <code>[-2, -1, 2, 1]</code>, <em>k</em> = <code>1</code>,<br>return <code>2</code>. (because the subarray <code>[-1, 2]</code> sums to 1 and is the longest)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArrayLen</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>, maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        <span class="keyword">if</span>(sum == k)</span><br><span class="line">            maxLen = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(map.containsKey(sum - k))</span><br><span class="line">            maxLen = Math.max(maxLen,i-map.get(sum-k));</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(sum))</span><br><span class="line">            map.put(sum,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="335-self-crossing-hard"><a href="#335-self-crossing-hard" class="headerlink" title="#335-self-crossing-hard"></a>#335-self-crossing-hard</h4><p>You are given an array <em>x</em> of <code>n</code> positive numbers. You start at point <code>(0,0)</code> and moves <code>x[0]</code> metres to the north, then <code>x[1]</code> metres to the west, <code>x[2]</code> metres to the south, <code>x[3]</code> metres to the east and so on. In other words, after each move your direction changes counter-clockwise.</p><p>Write a one-pass algorithm with <code>O(1)</code> extra space to determine, if your path crosses itself, or not.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Given x = [2, 1, 1, 2],</span><br><span class="line">?????</span><br><span class="line">?   ?</span><br><span class="line">???????&gt;</span><br><span class="line">    ?</span><br><span class="line"></span><br><span class="line">Return true (self crossing)</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Given x = [1, 2, 3, 4],</span><br><span class="line">????????</span><br><span class="line">?      ?</span><br><span class="line">?</span><br><span class="line">?</span><br><span class="line">?????????????&gt;</span><br><span class="line"></span><br><span class="line">Return false (not self crossing)</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given x = [1, 1, 1, 1],</span><br><span class="line">?????</span><br><span class="line">?   ?</span><br><span class="line">?????&gt;</span><br><span class="line"></span><br><span class="line">Return true (self crossing)</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSelfCrossing</span><span class="params">(<span class="keyword">int</span>[] x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// i could cross with i-3, i-4, i-5</span></span><br><span class="line">    <span class="keyword">if</span>(x==<span class="keyword">null</span> || x.length&lt;=<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="comment">// start from 3</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>; i&lt;x.length; i++)&#123;</span><br><span class="line">        <span class="comment">// check i &amp; i-3</span></span><br><span class="line">        <span class="comment">// 7 4: 7&gt;=5, 6&gt;=4</span></span><br><span class="line">        <span class="keyword">if</span>(x[i]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">1</span>]&lt;=x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// check i &amp; i-4</span></span><br><span class="line">        <span class="comment">// 7 3: 7+3&gt;=5, 6==4</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=<span class="number">4</span> &amp;&amp; x[i]+x[i-<span class="number">4</span>]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">1</span>]==x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// check i &amp; i-5</span></span><br><span class="line">        <span class="comment">// 7 2: 7+3&gt;=5, 5&gt;=3, 6+2&gt;=4, 6&lt;=4 !(4&gt;=2)</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;=<span class="number">5</span> &amp;&amp; x[i]+x[i-<span class="number">4</span>]&gt;=x[i-<span class="number">2</span>] &amp;&amp; x[i-<span class="number">2</span>]&gt;=x[i-<span class="number">4</span>] &amp;&amp;</span><br><span class="line">          x[i-<span class="number">1</span>]+x[i-<span class="number">5</span>]&gt;=x[i-<span class="number">3</span>] &amp;&amp; x[i-<span class="number">1</span>]&lt;=x[i-<span class="number">3</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="350-intersection-of-two-arrays-easy"><a href="#350-intersection-of-two-arrays-easy" class="headerlink" title="#350-intersection-of-two-arrays-easy"></a>#350-intersection-of-two-arrays-easy</h4><p>Given two arrays, write a function to compute their intersection.</p><p><strong>Example:</strong><br>Given <em>nums1</em> = <code>[1, 2, 2, 1]</code>, <em>nums2</em> = <code>[2, 2]</code>, return <code>[2, 2]</code>.</p><p><strong>sort O(nlogn)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    Arrays.sort(nums1);</span><br><span class="line">    Arrays.sort(nums2);</span><br><span class="line">    <span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(idx1 &lt; nums1.length &amp;&amp; idx2 &lt; nums2.length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums1[idx1] == nums2[idx2])&#123;</span><br><span class="line">            list.add(nums1[idx1]);</span><br><span class="line">            idx1++;idx2++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums1[idx1] &lt; nums2[idx2])</span><br><span class="line">            idx1 ++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            idx2 ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; i++)</span><br><span class="line">        result[i] = list.get(i);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>map count O(1)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums1.length &gt; nums2.length)</span><br><span class="line">        <span class="keyword">return</span> intersect(nums2,nums1);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums1)</span><br><span class="line">        map.put(num,map.getOrDefault(num,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.getOrDefault(num,<span class="number">0</span>) != <span class="number">0</span>)&#123;</span><br><span class="line">            list.add(num);</span><br><span class="line">            map.put(num,map.get(num)-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; i++)</span><br><span class="line">        result[i] = list.get(i);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="371-sum-of-two-integers-easy"><a href="#371-sum-of-two-integers-easy" class="headerlink" title="#371-sum-of-two-integers-easy"></a>#371-sum-of-two-integers-easy</h4><p>Calculate the sum of two integers <em>a</em> and <em>b</em>, but you are <strong>not allowed</strong> to use the operator <code>+</code> and <code>-</code>.</p><p><strong>Example:</strong><br>Given <em>a</em> = 1 and <em>b</em> = 2, return 3.</p><p><strong>Iteration:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = a, carry = b;</span><br><span class="line">    <span class="keyword">while</span>(carry != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> nextSum = sum ^ carry;</span><br><span class="line">        <span class="keyword">int</span> nextCarry = (sum &amp; carry) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        sum = nextSum;</span><br><span class="line">        carry = nextCarry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Recursion:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">int</span> sum = a ^ b;</span><br><span class="line">    <span class="keyword">int</span> carry = (a &amp; b) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> getSum(sum,carry);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="373-find-k-pairs-with-smallest-sum-medium"><a href="#373-find-k-pairs-with-smallest-sum-medium" class="headerlink" title="#373-find-k-pairs-with-smallest-sum-medium"></a>#373-find-k-pairs-with-smallest-sum-medium</h4><p>You are given two integer arrays <strong>nums1</strong> and <strong>nums2</strong> sorted in ascending order and an integer <strong>k</strong>. </p><p>Define a pair <strong>(u,v)</strong> which consists of one element from the first array and one element from the second array.</p><p>Find the k pairs <strong>(u1,v1),(u2,v2) …(uk,vk)</strong> with the smallest sums.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Given nums1 = [1,7,11], nums2 = [2,4,6],  k = 3</span><br><span class="line"></span><br><span class="line">Return: [1,2],[1,4],[1,6]</span><br><span class="line"></span><br><span class="line">The first 3 pairs are returned from the sequence:</span><br><span class="line">[1,2],[1,4],[1,6],[7,2],[7,4],[11,2],[7,6],[11,4],[11,6]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; kSmallestPairs(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(nums1.length==<span class="number">0</span> || nums2.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(k,<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1,<span class="keyword">int</span>[] o2)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o1[<span class="number">0</span>] + o1[<span class="number">1</span>] - o2[<span class="number">0</span>] - o2[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// populate first array first, curr[2] save index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums1.length &amp;&amp; i&lt;k;i++)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nums1[i],nums2[<span class="number">0</span>],<span class="number">0</span>&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!heap.isEmpty() &amp;&amp; result.size()&lt;k)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] curr = heap.poll();</span><br><span class="line">        <span class="keyword">int</span> n1 = curr[<span class="number">0</span>], n2 = curr[<span class="number">1</span>], idx2 = curr[<span class="number">2</span>];</span><br><span class="line">        result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;n1,n2&#125;);</span><br><span class="line">        <span class="keyword">if</span>(idx2 == nums2.length - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;n1,nums2[idx2+<span class="number">1</span>],idx2+<span class="number">1</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="378-k-th-smallest-element-in-a-sorted-matrix-medium"><a href="#378-k-th-smallest-element-in-a-sorted-matrix-medium" class="headerlink" title="#378-k-th-smallest-element-in-a-sorted-matrix-medium"></a>#378-k-th-smallest-element-in-a-sorted-matrix-medium</h4><p>Given a <em>n</em> x <em>n</em> matrix where each of the rows and columns are sorted in ascending order, find the kth smallest element in the matrix.</p><p>Note that it is the kth smallest element in the sorted order, not the kth distinct element.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">matrix = [</span><br><span class="line">   [ 1,  5,  9],</span><br><span class="line">   [10, 11, 13],</span><br><span class="line">   [12, 13, 15]</span><br><span class="line">],</span><br><span class="line">k = 8,</span><br><span class="line"></span><br><span class="line">return 13.</span><br></pre></td></tr></table></figure><p><strong>Could use Dijkstra</strong></p><p><strong>Use heap init with row</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to #373</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// use [val,i,j] to save cell</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// init heap with first row, space O(c)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[<span class="number">0</span>][j],<span class="number">0</span>,j&#125;);</span><br><span class="line">    <span class="comment">// push cell below</span></span><br><span class="line">    <span class="keyword">int</span>[] curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty())&#123;</span><br><span class="line">        curr = heap.poll();</span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">int</span> val = curr[<span class="number">0</span>], i = curr[<span class="number">1</span>], j = curr[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i + <span class="number">1</span> &lt; m)</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[i+<span class="number">1</span>][j],i+<span class="number">1</span>,j&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>if k th distinct:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// similar to #373</span></span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">// use [val,i,j] to save cell</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((o1,o2)-&gt;o1[<span class="number">0</span>]-o2[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// init heap with first row, space O(c)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[<span class="number">0</span>][j],<span class="number">0</span>,j&#125;);</span><br><span class="line">    <span class="comment">// push cell below</span></span><br><span class="line">    <span class="keyword">int</span>[] curr = <span class="keyword">null</span>, prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty())&#123;</span><br><span class="line">        curr = heap.poll();</span><br><span class="line">        <span class="keyword">if</span>(prev==<span class="keyword">null</span> || prev!=<span class="keyword">null</span> &amp;&amp; curr[<span class="number">0</span>]!=prev[<span class="number">0</span>])</span><br><span class="line">            k--;</span><br><span class="line">        prev = curr;</span><br><span class="line">        <span class="keyword">int</span> val = curr[<span class="number">0</span>], i = curr[<span class="number">1</span>], j = curr[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span>(i + <span class="number">1</span> &lt; m)</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;matrix[i+<span class="number">1</span>][j],i+<span class="number">1</span>,j&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Binary Search:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> low = matrix[<span class="number">0</span>][<span class="number">0</span>], high = matrix[row-<span class="number">1</span>][col-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(low &lt; high)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = low + (high - low)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;  <span class="comment">// count smallest num</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> j = col - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; matrix[i][j] &gt; mid)</span><br><span class="line">                j --;</span><br><span class="line">            count += j + <span class="number">1</span>; <span class="comment">// count &lt;= mid</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(count &lt; k) <span class="comment">// mid too small</span></span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            high = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="384-shuffle-an-array-medium"><a href="#384-shuffle-an-array-medium" class="headerlink" title="#384-shuffle-an-array-medium"></a>#384-shuffle-an-array-medium</h4><p>Shuffle a set of numbers without duplicates.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// Init an array with set 1, 2, and 3.</span><br><span class="line">int[] nums = &#123;1,2,3&#125;;</span><br><span class="line">Solution solution = new Solution(nums);</span><br><span class="line"></span><br><span class="line">// Shuffle the array [1,2,3] and return its result. Any permutation of [1,2,3] must equally likely to be returned.</span><br><span class="line">solution.shuffle();</span><br><span class="line"></span><br><span class="line">// Resets the array back to its original configuration [1,2,3].</span><br><span class="line">solution.reset();</span><br><span class="line"></span><br><span class="line">// Returns the random shuffling of array [1,2,3].</span><br><span class="line">solution.shuffle();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nums = <span class="keyword">null</span>;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">        random = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Resets the array to its original configuration and return it. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] reset() &#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns a random shuffling of the array. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] shuffle() &#123;</span><br><span class="line">        <span class="keyword">int</span>[] copy = nums.clone();</span><br><span class="line">        <span class="comment">// i is at i P = 1/i+1</span></span><br><span class="line">        <span class="comment">// i is not at i P = 1-1/i+1 = i/i+1</span></span><br><span class="line">        <span class="comment">// i at the other i P = 1/ i;</span></span><br><span class="line">        <span class="comment">// i at each location 0 to i is 1/i+1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;copy.length;i++)&#123;</span><br><span class="line">            <span class="comment">// nextInt(a) a is exclusive</span></span><br><span class="line">            <span class="keyword">int</span> j = random.nextInt(i+<span class="number">1</span>);</span><br><span class="line">            swap(copy,i,j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> copy;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="388-longest-absolute-file-path-medium"><a href="#388-longest-absolute-file-path-medium" class="headerlink" title="#388-longest-absolute-file-path-medium"></a>#388-longest-absolute-file-path-medium</h4><p>Suppose we abstract our file system by a string in the following manner:</p><p>The string <code>&quot;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&quot;</code> represents:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br><span class="line">    subdir1</span><br><span class="line">    subdir2</span><br><span class="line">        file.ext</span><br></pre></td></tr></table></figure><p>The directory <code>dir</code> contains an empty sub-directory <code>subdir1</code> and a sub-directory <code>subdir2</code> containing a file <code>file.ext</code>.</p><p>The string <code>&quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot;</code> represents:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br><span class="line">    subdir1</span><br><span class="line">        file1.ext</span><br><span class="line">        subsubdir1</span><br><span class="line">    subdir2</span><br><span class="line">        subsubdir2</span><br><span class="line">            file2.ext</span><br></pre></td></tr></table></figure><p>The directory <code>dir</code> contains two sub-directories <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and an empty second-level sub-directory <code>subsubdir1</code>. <code>subdir2</code> contains a second-level sub-directory <code>subsubdir2</code> containing a file <code>file2.ext</code>.</p><p>We are interested in finding the longest (number of characters) absolute path to a file within our file system. For example, in the second example above, the longest absolute path is <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>, and its length is <code>32</code> (not including the double quotes).</p><p>Given a string representing the file system in the above format, return the length of the longest absolute path to file in the abstracted file system. If there is no file in the system, return <code>0</code>.</p><p><strong>Note:</strong></p><ul><li>The name of a file contains at least a <code>.</code> and an extension.</li><li>The name of a directory or sub-directory will not contain a <code>.</code>.</li></ul><p>Time complexity required: <code>O(n)</code> where <code>n</code> is the size of the input string.</p><p>Notice that <code>a/aa/aaa/file1.txt</code> is not the longest file path, if there is another path <code>aaaaaaaaaaaaaaaaaaaaa/sth.png</code>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthLongestPath</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use stack, </span></span><br><span class="line">    <span class="comment">// for a level, stack saves only higher level len</span></span><br><span class="line">    <span class="comment">// if same level exit then pop</span></span><br><span class="line">    <span class="keyword">if</span>(input == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="number">0</span>);  <span class="comment">// dummy bottom</span></span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// every \n =&gt; a folder or a file</span></span><br><span class="line">    <span class="keyword">for</span>(String s : input.split(<span class="string">"\n"</span>))&#123;</span><br><span class="line">        <span class="comment">// define the level</span></span><br><span class="line">        <span class="comment">// first level -1+1=0, \t=&gt;1, \t\t=&gt;2</span></span><br><span class="line">        <span class="keyword">int</span> level = s.lastIndexOf(<span class="string">"\t"</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// check whether stack has only higher level</span></span><br><span class="line">        <span class="comment">// l0=&gt;size 1,l1=&gt;size 2,l2=&gt;size 3</span></span><br><span class="line">        <span class="keyword">while</span>(stack.size() &gt; level+<span class="number">1</span>) <span class="comment">// find parent</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        <span class="comment">// push curr level len to stack, remove \t, add /</span></span><br><span class="line">        <span class="keyword">int</span> len = stack.peek() + s.length() - level + <span class="number">1</span>;</span><br><span class="line">        stack.push(len);</span><br><span class="line">        <span class="comment">// if it's a file, compute maxlen</span></span><br><span class="line">        <span class="keyword">if</span>(s.contains(<span class="string">"."</span>))</span><br><span class="line">            maxLen = Math.max(maxLen,len - <span class="number">1</span>);  <span class="comment">// remove /</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="406-queue-reconstruction-by-height-medium"><a href="#406-queue-reconstruction-by-height-medium" class="headerlink" title="#406-queue-reconstruction-by-height-medium"></a>#406-queue-reconstruction-by-height-medium</h4><p>Suppose you have a random list of people standing in a queue. Each person is described by a pair of integers <code>(h, k)</code>, where <code>h</code> is the height of the person and <code>k</code> is the number of people in front of this person who have a height greater than or equal to <code>h</code>. Write an algorithm to reconstruct the queue.</p><p><strong>Note:</strong><br>The number of people is less than 1,100.</p><p><strong>Example</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[[7,0], [4,4], [7,1], [5,0], [6,1], [5,2]]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[[5,0], [7,0], [5,2], [6,1], [4,4], [7,1]]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] reconstructQueue(<span class="keyword">int</span>[][] people) &#123;</span><br><span class="line">    <span class="comment">// height decrease, count increase, insert</span></span><br><span class="line">    <span class="keyword">if</span>(people==<span class="keyword">null</span> || people.length==<span class="number">0</span> || people[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> people;</span><br><span class="line">    Arrays.sort(people,<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] a,<span class="keyword">int</span>[] b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[<span class="number">0</span>] != b[<span class="number">0</span>])    <span class="comment">// decrease</span></span><br><span class="line">                <span class="keyword">return</span> b[<span class="number">0</span>] - a[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">else</span>    <span class="comment">// increase</span></span><br><span class="line">                <span class="keyword">return</span> a[<span class="number">1</span>] - b[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p : people)</span><br><span class="line">        result.add(p[<span class="number">1</span>],p);</span><br><span class="line">    <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[people.length][<span class="number">2</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="419-Battleships-in-a-Board-medium"><a href="#419-Battleships-in-a-Board-medium" class="headerlink" title="419. Battleships in a Board (medium)"></a>419. Battleships in a Board (medium)</h4><p>Given an 2D board, count how many battleships are in it. The battleships are represented with </p><p><code>&#39;X&#39;</code>s, empty slots are represented with <code>&#39;.&#39;</code>s. You may assume the following rules:</p><ul><li>You receive a valid board, made of only battleships or empty slots.</li><li>Battleships can only be placed horizontally or vertically. In other words, they can only be made of the shape <code>1xN</code> (1 row, N columns) or <code>Nx1</code> (N rows, 1 column), where N can be of any size.</li><li>At least one horizontal or vertical cell separates between two battleships - there are no adjacent battleships.</li></ul><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X..X</span><br><span class="line">...X</span><br><span class="line">...X</span><br></pre></td></tr></table></figure><p>In the above board there are 2 battleships.</p><p><strong>Invalid Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...X</span><br><span class="line">XXXX</span><br><span class="line">...X</span><br></pre></td></tr></table></figure><p>This is an invalid board that you will not receive - as battleships will always have a cell separating between them.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countBattleships</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// idea only find ship head, left top cell</span></span><br><span class="line">    <span class="keyword">if</span>(board==<span class="keyword">null</span> || board.length==<span class="number">0</span> || board[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; board[i-<span class="number">1</span>][j] == <span class="string">'X'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(j&gt;<span class="number">0</span> &amp;&amp; board[i][j-<span class="number">1</span>] == <span class="string">'X'</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            count ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="443-string-compression-easy"><a href="#443-string-compression-easy" class="headerlink" title="#443-string-compression-easy"></a>#443-string-compression-easy</h4><p>Given an array of characters, compress it <a href="https://en.wikipedia.org/wiki/In-place_algorithm" target="_blank" rel="noopener"><strong>in-place</strong></a>.</p><p>The length after compression must always be smaller than or equal to the original array.</p><p>Every element of the array should be a <strong>character</strong> (not int) of length 1.</p><p>After you are done <strong>modifying the input array in-place</strong>, return the new length of the array.</p><p><strong>Follow up:</strong><br>Could you solve it using only O(1) extra space?</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">Return 4, and the first 4 characters of the input array should be: [&quot;a&quot;,&quot;b&quot;,&quot;1&quot;,&quot;2&quot;].</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">Since the character &quot;a&quot; does not repeat, it is not compressed. &quot;bbbbbbbbbbbb&quot; is replaced by &quot;b12&quot;.</span><br><span class="line">Notice each digit has it&apos;s own entry in the array.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>All characters have an ASCII value in <code>[35, 126]</code>.</li><li><code>1 &lt;= len(chars) &lt;= 1000</code>.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compress</span><span class="params">(<span class="keyword">char</span>[] chars)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(chars==<span class="keyword">null</span> || chars.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// start for result tail, end for curr</span></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(end &lt; chars.length)&#123;</span><br><span class="line">        <span class="keyword">char</span> curr = chars[end];</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// count same char</span></span><br><span class="line">        <span class="keyword">while</span>(end&lt;chars.length-<span class="number">1</span> &amp;&amp; chars[end]==chars[end+<span class="number">1</span>])&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            end ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// put curr char down</span></span><br><span class="line">        chars[start++] = chars[end++];</span><br><span class="line">        <span class="comment">// then add count</span></span><br><span class="line">        <span class="keyword">if</span>(count != <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">char</span> c : String.valueOf(count).toCharArray())</span><br><span class="line">                chars[start++] = c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="448-find-all-disappeared-number-easy"><a href="#448-find-all-disappeared-number-easy" class="headerlink" title="#448-find-all-disappeared-number-easy"></a>#448-find-all-disappeared-number-easy</h4><p>Given an array of integers where 1 ≤ a[i] ≤ <em>n</em> (<em>n</em> = size of array), some elements appear twice and others appear once.</p><p>Find all the elements of [1, <em>n</em>] inclusive that do not appear in this array.</p><p>Could you do it without extra space and in O(<em>n</em>) runtime? You may assume the returned list does not count as extra space.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[4,3,2,7,8,2,3,1]</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">[5,6]</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findDisappearedNumbers</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// 2 passes</span></span><br><span class="line">    <span class="comment">// 1 pass to set negative</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">int</span> index = Math.abs(num) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[index] &gt; <span class="number">0</span>)</span><br><span class="line">            nums[index] *= -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// second pass find positive index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] &gt; <span class="number">0</span>)</span><br><span class="line">            result.add(i+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="463-island-perimeter-easy"><a href="#463-island-perimeter-easy" class="headerlink" title="#463-island-perimeter-easy"></a>#463-island-perimeter-easy</h4><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[[0,1,0,0],</span><br><span class="line"> [1,1,1,0],</span><br><span class="line"> [0,1,0,0],</span><br><span class="line"> [1,1,0,0]]</span><br><span class="line"></span><br><span class="line">Answer: 16</span><br><span class="line">Explanation: The perimeter is the 16 yellow stripes in the image below:</span><br></pre></td></tr></table></figure><p><img src="https://leetcode.com/static/images/problemset/island.png" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">islandPerimeter</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grid==<span class="keyword">null</span> || grid.length==<span class="number">0</span> || grid[<span class="number">0</span>].length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> row = grid.length;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> col = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;row; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;col; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// check up and left, if nei is 1, remove edge</span></span><br><span class="line">            count += <span class="number">4</span>; <span class="comment">// default 4 added first</span></span><br><span class="line">            <span class="comment">// -2 : two block double edge remove</span></span><br><span class="line">            <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; grid[i-<span class="number">1</span>][j] == <span class="number">1</span>)</span><br><span class="line">                count -= <span class="number">2</span>; </span><br><span class="line">            <span class="keyword">if</span>(j &gt; <span class="number">0</span> &amp;&amp; grid[i][j-<span class="number">1</span>] == <span class="number">1</span>)</span><br><span class="line">                count -= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="476-number-complement-easy"><a href="#476-number-complement-easy" class="headerlink" title="#476-number-complement-easy"></a>#476-number-complement-easy</h4><p>Given a positive integer, output its complement number. The complement strategy is to flip the bits of its binary representation.</p><p><strong>Note:</strong></p><ol><li>The given integer is guaranteed to fit within the range of a 32-bit signed integer.</li><li>You could assume no leading zero bit in the integer’s binary representation.</li></ol><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 5</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: The binary representation of 1 is 1 (no leading zero bits), and its complement is 0. So you need to output 0.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findComplement</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use 11111 - num</span></span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(n &lt; num)</span><br><span class="line">        n = n &lt;&lt; <span class="number">1</span> | <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> n - num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="500-keyboard-row-easy"><a href="#500-keyboard-row-easy" class="headerlink" title="#500-keyboard-row-easy"></a>#500-keyboard-row-easy</h4><p>Given a List of words, return the words that can be typed using letters of <strong>alphabet</strong> on only one row’s of American keyboard like the image below. </p><p><img src="https://leetcode.com/static/images/problemset/keyboard.png" alt="American keyboard"></p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;Hello&quot;, &quot;Alaska&quot;, &quot;Dad&quot;, &quot;Peace&quot;]</span><br><span class="line">Output: [&quot;Alaska&quot;, &quot;Dad&quot;]</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>You may use one character in the keyboard more than once.</li><li>You may assume the input string will only contain letters of alphabet.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] findWords(String[] words) &#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// build map</span></span><br><span class="line">    String[] rows = &#123;<span class="string">"QWERTYUIOP"</span>,<span class="string">"ASDFGHJKL"</span>,<span class="string">"ZXCVBNM"</span>&#125;;</span><br><span class="line">    Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rows.length;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : rows[i].toCharArray())</span><br><span class="line">            map.put(c,i);</span><br><span class="line">    <span class="comment">// add to result</span></span><br><span class="line">    WORDS:</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="keyword">if</span>(word.equals(<span class="string">""</span>))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> idx = map.get(Character.toUpperCase(word.charAt(<span class="number">0</span>)));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;word.length();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.get(Character.toUpperCase(word.charAt(i))) != idx)</span><br><span class="line">                <span class="keyword">continue</span> WORDS;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(word);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[result.size()]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String[] findWords(String[] words) &#123;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[<span class="number">0</span>]);</span><br><span class="line">    String regex = <span class="string">"[QWERTYUIOP]*|[ASDFGHJKL]*|[ZXCVBNM]*"</span>;</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="keyword">if</span>(word.toUpperCase().matches(regex))&#123;</span><br><span class="line">            result.add(word);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> String[result.size()]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="496-next-greater-element-i-easy"><a href="#496-next-greater-element-i-easy" class="headerlink" title="#496-next-greater-element-i-easy"></a>#496-next-greater-element-i-easy</h4><p>You are given two arrays <strong>(without duplicates)</strong> <code>nums1</code> and <code>nums2</code> where <code>nums1</code>’s elements are subset of <code>nums2</code>. Find all the next greater numbers for <code>nums1</code>‘s elements in the corresponding places of <code>nums2</code>. </p><p>The Next Greater Number of a number <strong>x</strong> in <code>nums1</code> is the first greater number to its right in <code>nums2</code>. If it does not exist, output -1 for this number.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [4,1,2], nums2 = [1,3,4,2].</span><br><span class="line">Output: [-1,3,-1]</span><br><span class="line">Explanation:</span><br><span class="line">    For number 4 in the first array, you cannot find the next greater number for it in the second array, so output -1.</span><br><span class="line">    For number 1 in the first array, the next greater number for it in the second array is 3.</span><br><span class="line">    For number 2 in the first array, there is no next greater number for it in the second array, so output -1.</span><br></pre></td></tr></table></figure><p><strong>1. brute force</strong> <strong>2. stack</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElement(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    <span class="comment">// if decreasing, keep pushing stack]</span></span><br><span class="line">    <span class="comment">// if increase, find result, pop and put</span></span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums2)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; num &gt; stack.peek())&#123;</span><br><span class="line">            map.put(stack.pop(),num);</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        map.put(stack.pop(),-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums1.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;result.length; ++i)</span><br><span class="line">        result[i] = map.get(nums1[i]);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="503-next-greater-element-ii-medium"><a href="#503-next-greater-element-ii-medium" class="headerlink" title="#503-next-greater-element-ii-medium]"></a>#503-next-greater-element-ii-medium]</h4><p>Given a circular array (the next element of the last element is the first element of the array), print the Next Greater Number for every element. The Next Greater Number of a number x is the first greater number to its traversing-order next in the array, which means you could search circularly to find its next greater number. If it doesn’t exist, output -1 for this number.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,1]</span><br><span class="line">Output: [2,-1,2]</span><br><span class="line">Explanation: The first 1&apos;s next greater number is 2; </span><br><span class="line">The number 2 can&apos;t find next greater number; </span><br><span class="line">The second 1&apos;s next greater number needs to search circularly, which is also 2.</span><br></pre></td></tr></table></figure><p><strong>iterate twice for circular arrays</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElements(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(result,-<span class="number">1</span>);</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();<span class="comment">// index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n*<span class="number">2</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums[i%n]&gt;nums[stack.peek()])</span><br><span class="line">            result[stack.pop()] = nums[i%n];</span><br><span class="line">        stack.push(i % n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="516-longest-palindromic-subsequence-medium"><a href="#516-longest-palindromic-subsequence-medium" class="headerlink" title="#516-longest-palindromic-subsequence-medium"></a>#516-longest-palindromic-subsequence-medium</h4><p>Given a string s, find the longest palindromic subsequence’s length in s. You may assume that the maximum length of s is 1000.</p><p><strong>Example 1:</strong><br>Input: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;bbbab&quot;</span><br></pre></td></tr></table></figure><p>Output: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><p>One possible longest palindromic subsequence is “bbbb”.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestPalindromeSubseq</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[s.length()][s.length()];</span><br><span class="line">    <span class="comment">// row need to bottom up, to make i+1 available</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=s.length()-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">        dp[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;s.length(); j++)&#123;</span><br><span class="line">            <span class="comment">// head + tail + len(head to tail)</span></span><br><span class="line">            <span class="comment">// 2 + dp[i+1][j-1]</span></span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) == s.charAt(j))</span><br><span class="line">                dp[i][j] = <span class="number">2</span> + dp[i+<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">else</span>    <span class="comment">// [i-1][j] or [i][j-1]</span></span><br><span class="line">                dp[i][j] = Math.max(dp[i+<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][s.length()-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="556-next-greater-element-iii-medium"><a href="#556-next-greater-element-iii-medium" class="headerlink" title="#556-next-greater-element-iii-medium"></a>#556-next-greater-element-iii-medium</h4><p>Given a positive <strong>32-bit</strong> integer <strong>n</strong>, you need to find the smallest <strong>32-bit</strong> integer which has exactly the same digits existing in the integer <strong>n</strong>and is greater in value than n. If no such positive <strong>32-bit</strong> integer exists, you need to return -1.</p><p><strong><a href="#31-next-permutation-medium">#31-next-permutation-medium</a></strong></p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 12</span><br><span class="line">Output: 21</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//123987421, similar to #31-next-permutation-medium</span></span><br><span class="line">    <span class="keyword">char</span>[] num = String.valueOf(n).toCharArray();</span><br><span class="line">    <span class="keyword">int</span> idx1 = num.length - <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span>(idx1 &gt;=<span class="number">0</span> &amp;&amp; num[idx1] &gt;= num[idx1+<span class="number">1</span>])</span><br><span class="line">        idx1 --;</span><br><span class="line">    <span class="keyword">if</span>(idx1 &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> idx2 = num.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(num[idx2] &lt;= num[idx1])</span><br><span class="line">        idx2 --;</span><br><span class="line">    swap(num,idx1,idx2);</span><br><span class="line">    reverse(num,idx1+<span class="number">1</span>,num.length-<span class="number">1</span>);</span><br><span class="line">    String s = <span class="keyword">new</span> String(num);</span><br><span class="line">    <span class="comment">// handle overflow</span></span><br><span class="line">    String threshold = String.valueOf(Integer.MAX_VALUE);</span><br><span class="line">    <span class="comment">// string compare consider length first</span></span><br><span class="line">    <span class="keyword">if</span>(s.length() &gt;= threshold.length() &amp;&amp; s.compareTo(threshold) &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> Integer.parseInt(s);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span>[] num,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> temp = num[i];</span><br><span class="line">    num[i] = num[j];</span><br><span class="line">    num[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] num,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        swap(num,i,j);</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="560-subarray-sum-equals-k-medium"><a href="#560-subarray-sum-equals-k-medium" class="headerlink" title="#560-subarray-sum-equals-k-medium"></a>#560-subarray-sum-equals-k-medium</h4><p>Given an array of integers and an integer <strong>k</strong>, you need to find the total number of continuous subarrays whose sum equals to <strong>k</strong>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input:nums = [1,1,1], k = 2</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>The length of the array is in range [1, 20,000].</li><li>The range of numbers in the array is [-1000, 1000] and the range of the integer <strong>k</strong> is [-1e7, 1e7].</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subarraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// use map to save curr sum &amp; count</span></span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>,<span class="number">1</span>);   <span class="comment">// </span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">        sum += num;</span><br><span class="line">        count += map.getOrDefault(sum-k,<span class="number">0</span>);</span><br><span class="line">        map.put(sum,map.getOrDefault(sum,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="604-compressed-string-iterator-easy"><a href="#604-compressed-string-iterator-easy" class="headerlink" title="#604-compressed-string-iterator-easy"></a>#604-compressed-string-iterator-easy</h4><p>Design and implement a data structure for a compressed string iterator. It should support the following operations: <code>next</code> and <code>hasNext</code>.</p><p>The given compressed string will be in the form of each letter followed by a positive integer representing the number of this letter existing in the original uncompressed string.</p><p><code>next()</code> - if the original string still has uncompressed characters, return the next letter; Otherwise return a white space.<br><code>hasNext()</code> - Judge whether there is any letter needs to be uncompressed.</p><p><strong>Note:</strong><br>Please remember to <strong>RESET</strong> your class variables declared in StringIterator, as static/class variables are <strong>persisted across multiple test cases</strong>. Please see <a href="https://leetcode.com/faq/#different-output" target="_blank" rel="noopener">here</a> for more details.</p><p><strong>Example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">StringIterator iterator = new StringIterator(&quot;L1e2t1C1o1d1e1&quot;);</span><br><span class="line"></span><br><span class="line">iterator.next(); // return &apos;L&apos;</span><br><span class="line">iterator.next(); // return &apos;e&apos;</span><br><span class="line">iterator.next(); // return &apos;e&apos;</span><br><span class="line">iterator.next(); // return &apos;t&apos;</span><br><span class="line">iterator.next(); // return &apos;C&apos;</span><br><span class="line">iterator.next(); // return &apos;o&apos;</span><br><span class="line">iterator.next(); // return &apos;d&apos;</span><br><span class="line">iterator.hasNext(); // return true</span><br><span class="line">iterator.next(); // return &apos;e&apos;</span><br><span class="line">iterator.hasNext(); // return false</span><br><span class="line">iterator.next(); // return &apos; &apos;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringIterator</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use int[2] save char, count</span></span><br><span class="line">    <span class="comment">// use queue</span></span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringIterator</span><span class="params">(String compressedString)</span> </span>&#123;</span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = compressedString.length();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len;)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] pair = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">            pair[<span class="number">0</span>] = compressedString.charAt(i);</span><br><span class="line">            <span class="keyword">int</span> j = i + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// num is before letters</span></span><br><span class="line">            String cnt = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&lt;len &amp;&amp; compressedString.charAt(j)&lt;<span class="string">'A'</span>)&#123;</span><br><span class="line">                cnt += compressedString.charAt(j);</span><br><span class="line">                j ++;</span><br><span class="line">            &#125;</span><br><span class="line">            pair[<span class="number">1</span>] = Integer.parseInt(cnt);</span><br><span class="line">            queue.offer(pair);</span><br><span class="line">            i = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> <span class="string">' '</span>;</span><br><span class="line">        <span class="keyword">int</span>[] pair = queue.peek();</span><br><span class="line">        <span class="keyword">if</span>(--pair[<span class="number">1</span>] == <span class="number">0</span>)</span><br><span class="line">            queue.poll();</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">char</span>) pair[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><hr><h4 id="625-minimun-factorization-medium"><a href="#625-minimun-factorization-medium" class="headerlink" title="#625-minimun-factorization-medium"></a>#625-minimun-factorization-medium</h4><p>Given a positive integer <code>a</code>, find the smallest positive integer <code>b</code> whose multiplication of each digit equals to <code>a</code>. </p><p>If there is no answer or the answer is not fit in 32-bit signed integer, then return 0.</p><p><strong>Example 1</strong><br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">48</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">68</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smallestFactorization</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a &lt; <span class="number">9</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="comment">// try larger first</span></span><br><span class="line">    <span class="keyword">long</span> result = <span class="number">0</span>, multi = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">9</span>; i&gt;=<span class="number">2</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">while</span>(a % i == <span class="number">0</span>)&#123;</span><br><span class="line">            a /= i;</span><br><span class="line">            result += multi * i;</span><br><span class="line">            <span class="keyword">if</span>(result &gt; Integer.MAX_VALUE)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            multi *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a != <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="632-smallest-range-hard"><a href="#632-smallest-range-hard" class="headerlink" title="#632-smallest-range-hard"></a>#632-smallest-range-hard</h4><p>You have <code>k</code> lists of sorted integers in ascending order. Find the <strong>smallest</strong> range that includes at least one number from each of the <code>k</code>lists. </p><p>We define the range [a,b] is smaller than range [c,d] if <code>b-a &lt; d-c</code> or <code>a &lt; c</code> if <code>b-a == d-c</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input:[[4,10,15,24,26], [0,9,12,20], [5,18,22,30]]</span><br><span class="line">Output: [20,24]</span><br><span class="line">Explanation: </span><br><span class="line">List 1: [4, 10, 15, 24,26], 24 is in range [20,24].</span><br><span class="line">List 2: [0, 9, 12, 20], 20 is in range [20,24].</span><br><span class="line">List 3: [5, 18, 22, 30], 22 is in range [20,24].</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] smallestRange(List&lt;List&lt;Integer&gt;&gt; nums) &#123;</span><br><span class="line">    <span class="comment">// use heap similar to merge k sorted list</span></span><br><span class="line">    <span class="comment">// maintain a max, when poll a min, update result, offer its next</span></span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.size() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// use int[3] save: &#123;row,idx,val&#125;</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] o1,<span class="keyword">int</span>[] o2)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o1[<span class="number">2</span>] - o2[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">int</span> min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">int</span> minRange = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="comment">// init max and heap use first col</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>; row&lt;nums.size(); row++)&#123;</span><br><span class="line">        <span class="keyword">int</span> value = nums.get(row).get(<span class="number">0</span>);</span><br><span class="line">        max = Math.max(max,value);</span><br><span class="line">        heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;row,<span class="number">0</span>,value&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// start, condition: heap size </span></span><br><span class="line">    <span class="keyword">while</span>(heap.size() == nums.size())&#123;</span><br><span class="line">        <span class="keyword">int</span>[] curr = heap.poll();</span><br><span class="line">        <span class="comment">// update result</span></span><br><span class="line">        <span class="keyword">if</span>(max - curr[<span class="number">2</span>] &lt; minRange)&#123;</span><br><span class="line">            minRange = max - curr[<span class="number">2</span>];</span><br><span class="line">            result = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;curr[<span class="number">2</span>],max&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// offer min's next, update max</span></span><br><span class="line">        <span class="keyword">if</span>(curr[<span class="number">1</span>] + <span class="number">1</span> &lt; nums.get(curr[<span class="number">0</span>]).size())&#123;</span><br><span class="line">            <span class="keyword">int</span> next = nums.get(curr[<span class="number">0</span>]).get(curr[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">            max = Math.max(max,next);</span><br><span class="line">            heap.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;curr[<span class="number">0</span>],curr[<span class="number">1</span>]+<span class="number">1</span>,next&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="809-expressive-word-medium"><a href="#809-expressive-word-medium" class="headerlink" title="#809-expressive-word-medium"></a>#809-expressive-word-medium</h4><p>Sometimes people repeat letters to represent extra feeling, such as “hello” -&gt; “heeellooo”, “hi” -&gt; “hiiii”.  Here, we have groups, of adjacent letters that are all the same character, and adjacent characters to the group are different.  A group is extended if that group is length 3 or more, so “e” and “o” would be extended in the first example, and “i” would be extended in the second example.  As another example, the groups of “abbcccaaaa” would be “a”, “bb”, “ccc”, and “aaaa”; and “ccc” and “aaaa” are the extended groups of that string.</p><p>For some given string S, a query word is <em>stretchy</em> if it can be made to be equal to S by extending some groups.  Formally, we are allowed to repeatedly choose a group (as defined above) of characters <code>c</code>, and add some number of the same character <code>c</code> to it so that the length of the group is 3 or more.  Note that we cannot extend a group of size one like “h” to a group of size two like “hh” - all extensions must leave the group extended - ie., at least 3 characters long.</p><p>Given a list of query words, return the number of words that are stretchy. </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Example:</span><br><span class="line">Input: </span><br><span class="line">S = &quot;heeellooo&quot;</span><br><span class="line">words = [&quot;hello&quot;, &quot;hi&quot;, &quot;helo&quot;]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: </span><br><span class="line">We can extend &quot;e&quot; and &quot;o&quot; in the word &quot;hello&quot; to get &quot;heeellooo&quot;.</span><br><span class="line">We can&apos;t extend &quot;helo&quot; to get &quot;heeellooo&quot; because the group &quot;ll&quot; is not extended.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">expressiveWords</span><span class="params">(String S, String[] words)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(S==<span class="keyword">null</span> || S.length()==<span class="number">0</span> || words==<span class="keyword">null</span> || words.length==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="comment">// i for S &lt;= j for word</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; S.length())&#123;</span><br><span class="line">            <span class="comment">// S.char == word.char, keep going</span></span><br><span class="line">            <span class="keyword">if</span>(j&lt;word.length() &amp;&amp; S.charAt(i)==word.charAt(j))&#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            <span class="comment">// check S.char is extend?</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; S.charAt(i)==S.charAt(i-<span class="number">1</span>) &amp;&amp; </span><br><span class="line">                    i&lt;S.length()-<span class="number">1</span> &amp;&amp; S.charAt(i)==S.charAt(i+<span class="number">1</span>))&#123; </span><br><span class="line">                    i += <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// check S when j reach word tail</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i&gt;<span class="number">1</span> &amp;&amp; S.charAt(i)==S.charAt(i-<span class="number">1</span>) &amp;&amp; S.charAt(i)==S.charAt(i-<span class="number">2</span>))&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(i==S.length() &amp;&amp; j==word.length())</span><br><span class="line">                count++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="814-binary-tree-pruning-medium"><a href="#814-binary-tree-pruning-medium" class="headerlink" title="#814-binary-tree-pruning-medium"></a>#814-binary-tree-pruning-medium</h4><p>We are given the head node <code>root</code> of a binary tree, where additionally every node’s value is either a 0 or a 1.</p><p>Return the same tree where every subtree (of the given tree) not containing a 1 has been removed.</p><p>(Recall that the subtree of a node X is X, plus every node that is a descendant of X.)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">pruneTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// can use no helper</span></span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    root.left = pruneTree(root.left);</span><br><span class="line">    root.right = pruneTree(root.right);</span><br><span class="line">    <span class="comment">// post order</span></span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="817-linked-list-components-medium"><a href="#817-linked-list-components-medium" class="headerlink" title="#817-linked-list-components-medium"></a>#817-linked-list-components-medium</h4><p>We are given <code>head</code>, the head node of a linked list containing <strong>unique integer values</strong>.</p><p>We are also given the list <code>G</code>, a subset of the values in the linked list.</p><p>Return the number of connected components in <code>G</code>, where two values are connected if they appear consecutively in the linked list.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">head: 0-&gt;1-&gt;2-&gt;3</span><br><span class="line">G = [0, 1, 3]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line">0 and 1 are connected, so [0, 1] and [3] are the two connected components.</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line">head: 0-&gt;1-&gt;2-&gt;3-&gt;4</span><br><span class="line">G = [0, 3, 1, 4]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: </span><br><span class="line">0 and 1 are connected, 3 and 4 are connected, so [0, 1] and [3, 4] are the two connected components.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong> </p><ul><li>If <code>N</code> is the length of the linked list given by <code>head</code>, <code>1 &lt;= N &lt;= 10000</code>.</li><li>The value of each node in the linked list will be in the range<code>[0, N - 1]</code>.</li><li><code>1 &lt;= G.length &lt;= 10000</code>.</li><li><code>G</code> is a subset of all values in the linked list.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numComponents</span><span class="params">(ListNode head, <span class="keyword">int</span>[] G)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use set, count tail of components</span></span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> num : G)</span><br><span class="line">        set.add(num);</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(head != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// if contains curr:</span></span><br><span class="line">        <span class="comment">// 1. this is end</span></span><br><span class="line">        <span class="comment">// 2. not contain next (tail)</span></span><br><span class="line">        <span class="keyword">if</span>(set.contains(head.val) &amp;&amp; </span><br><span class="line">           (head.next==<span class="keyword">null</span> || !set.contains(head.next.val)))</span><br><span class="line">            count ++;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="855-exam-room-medium"><a href="#855-exam-room-medium" class="headerlink" title="#855-exam-room-medium"></a>#855-exam-room-medium</h4><p>In an exam room, there are <code>N</code> seats in a single row, numbered <code>0, 1, 2, ..., N-1</code>.</p><p>When a student enters the room, they must sit in the seat that maximizes the distance to the closest person.  If there are multiple such seats, they sit in the seat with the lowest number.  (Also, if no one is in the room, then the student sits at seat number 0.)</p><p>Return a class <code>ExamRoom(int N)</code> that exposes two functions: <code>ExamRoom.seat()</code> returning an <code>int</code> representing what seat the student sat in, and <code>ExamRoom.leave(int p)</code> representing that the student in seat number <code>p</code> now leaves the room.  It is guaranteed that any calls to <code>ExamRoom.leave(p)</code> have a student sitting in seat <code>p</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: [&quot;ExamRoom&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;leave&quot;,&quot;seat&quot;], [[10],[],[],[],[],[4],[]]</span><br><span class="line">Output: [null,0,9,4,2,null,5]</span><br><span class="line">Explanation:</span><br><span class="line">ExamRoom(10) -&gt; null</span><br><span class="line">seat() -&gt; 0, no one is in the room, then the student sits at seat number 0.</span><br><span class="line">seat() -&gt; 9, the student sits at the last seat number 9.</span><br><span class="line">seat() -&gt; 4, the student sits at the last seat number 4.</span><br><span class="line">seat() -&gt; 2, the student sits at the last seat number 2.</span><br><span class="line">leave(4) -&gt; null</span><br><span class="line">seat() -&gt; 5, the student sits at the last seat number 5.</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExamRoom</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    TreeSet&lt;Integer&gt; set;</span><br><span class="line">    <span class="comment">// use TreeSet to maintain increasing idx</span></span><br><span class="line">    <span class="comment">// idx = left + maxDist / 2;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExamRoom</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.N = N;</span><br><span class="line">        <span class="keyword">this</span>.set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">seat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// this way handles seat at 0</span></span><br><span class="line">        <span class="keyword">if</span>(set.size() &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> maxDist = set.first(); <span class="comment">// deal with first interval</span></span><br><span class="line">            <span class="keyword">int</span> prev = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> student : set)&#123; <span class="comment">// iteration in order</span></span><br><span class="line">                <span class="keyword">if</span>(prev != -<span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">int</span> dist = (student - prev) / <span class="number">2</span>;</span><br><span class="line">                    <span class="keyword">if</span>(dist &gt; maxDist)&#123;</span><br><span class="line">                        maxDist = dist;</span><br><span class="line">                        idx = prev + maxDist;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                prev = student;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// deal with last interval</span></span><br><span class="line">            <span class="keyword">if</span>(N - <span class="number">1</span> - set.last() &gt; maxDist)</span><br><span class="line">                idx = N - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        set.add(idx);</span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">leave</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        set.remove(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="856-score-of-parentheses-medium"><a href="#856-score-of-parentheses-medium" class="headerlink" title="#856-score-of-parentheses-medium"></a>#856-score-of-parentheses-medium</h4><p>Given a balanced parentheses string <code>S</code>, compute the score of the string based on the following rule:</p><ul><li><p><code>()</code> has score 1</p></li><li><p><code>AB</code> has score <code>A + B</code>, where A and B are balanced parentheses strings.</p></li><li><p><code>(A)</code> has score <code>2 * A</code>, where A is a balanced parentheses string.</p></li><li><p><strong>Example 4:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;(()(()))&quot;</span><br><span class="line">Output: 6</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// assume S is balanced</span></span><br><span class="line">    <span class="keyword">if</span>(S==<span class="keyword">null</span> || S.length()==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : S.toCharArray())&#123;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'('</span>)</span><br><span class="line">            <span class="comment">// use 0 mark (</span></span><br><span class="line">            stack.push(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// sum in same level</span></span><br><span class="line">             <span class="keyword">while</span>(stack.peek()!=<span class="number">0</span>) </span><br><span class="line">                 temp += stack.pop();</span><br><span class="line">            stack.pop();    <span class="comment">// pop the 0</span></span><br><span class="line">            <span class="comment">// if temp is 0, push 1, else push 2*temp</span></span><br><span class="line">            stack.push(Math.max(<span class="number">2</span>*temp,<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 0 level sum</span></span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())</span><br><span class="line">        result += stack.pop();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>space O(1): maintain level</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> level = <span class="number">0</span>, result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i)&#123;</span><br><span class="line">        <span class="comment">// maintain level</span></span><br><span class="line">        level += S.charAt(i)==<span class="string">'('</span> ? <span class="number">1</span>:-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">// add when find (), only () could add to result</span></span><br><span class="line">        <span class="keyword">if</span>(S.charAt(i) == <span class="string">'('</span> &amp;&amp; S.charAt(i+<span class="number">1</span>) == <span class="string">')'</span>)</span><br><span class="line">            result += <span class="number">1</span> &lt;&lt; (level-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="862-shortest-subarray-with-sum-at-least-k-hard"><a href="#862-shortest-subarray-with-sum-at-least-k-hard" class="headerlink" title="#862-shortest-subarray-with-sum-at-least-k-hard"></a>#862-shortest-subarray-with-sum-at-least-k-hard</h4><p>Return the <strong>length</strong> of the shortest, non-empty, contiguous subarray of <code>A</code> with sum at least <code>K</code>.</p><p>If there is no non-empty subarray with sum at least <code>K</code>, return <code>-1</code>.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [1], K = 1</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [1,2], K = 4</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure><p><strong>Example 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [2,-1,2], K = 3</span><br><span class="line">Output: 3</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestSubarray</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(A == <span class="keyword">null</span> || A.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] sums = <span class="keyword">new</span> <span class="keyword">int</span>[A.length + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// accumulated array</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;A.length; ++i)</span><br><span class="line">        sums[i+<span class="number">1</span>] = sums[i] + A[i];</span><br><span class="line">    <span class="keyword">int</span> minLen = A.length + <span class="number">1</span>;</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;sums.length; ++i)&#123;</span><br><span class="line">        <span class="comment">// sliding window, if only increasing then this case</span></span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; sums[i] - sums[deque.peekFirst()] &gt;= K)</span><br><span class="line">            minLen = Math.min(minLen,i - deque.pollFirst());</span><br><span class="line">        <span class="comment">// if i+1 negative value in A, sums will decrease at i</span></span><br><span class="line">        <span class="comment">// keep the deque increasing </span></span><br><span class="line">        <span class="comment">// smaller sum with larger idx could be result instead of large sum with small idx</span></span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; sums[i] &lt;= sums[deque.peekLast()])</span><br><span class="line">            deque.pollLast();</span><br><span class="line">        deque.offerLast(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen &gt; A.length ? -<span class="number">1</span> : minLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="863-all-nodes-distance-k-in-binary-tree-medium"><a href="#863-all-nodes-distance-k-in-binary-tree-medium" class="headerlink" title="#863-all-nodes-distance-k-in-binary-tree-medium"></a>#863-all-nodes-distance-k-in-binary-tree-medium</h4><p>We are given a binary tree (with root node <code>root</code>), a <code>target</code> node, and an integer value <code>K</code>.</p><p>Return a list of the values of all nodes that have a distance <code>K</code> from the <code>target</code> node.  The answer can be returned in any order.</p><p><strong>Example 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: root = [3,5,1,6,2,0,8,null,null,7,4], target = 5, K = 2</span><br><span class="line">Output: [7,4,1]</span><br><span class="line">Explanation: </span><br><span class="line">The nodes that are a distance 2 from the target node (with value 5)</span><br><span class="line">have values 7, 4, and 1.</span><br><span class="line"></span><br><span class="line">Note that the inputs &quot;root&quot; and &quot;target&quot; are actually TreeNodes.</span><br><span class="line">The descriptions of the inputs above are just serializations of these objects.</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><ol><li>The given tree is non-empty.</li><li>Each node in the tree has unique values <code>0 &lt;= node.val &lt;= 500</code>.</li><li>The <code>target</code> node is a node in the tree.</li><li><code>0 &lt;= K &lt;= 1000</code>.</li></ol><p><a href="https://www.geeksforgeeks.org/print-nodes-distance-k-given-node-binary-tree/" target="_blank" rel="noopener">geeks for geeks reference</a></p><p><strong>Undirected graph bfs:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">distanceK</span><span class="params">(TreeNode root, TreeNode target, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// use BFS, treat as undirected graph</span></span><br><span class="line">    <span class="comment">// nei of a node: left, right, parent</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span> || target == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    <span class="comment">// build parentMap</span></span><br><span class="line">    Map&lt;TreeNode,TreeNode&gt; parentMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    findParent(root,<span class="keyword">null</span>,parentMap);</span><br><span class="line">    <span class="comment">// init bfs</span></span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;TreeNode&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    queue.offer(target);</span><br><span class="line">    <span class="keyword">int</span> dist = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(dist == K)&#123;</span><br><span class="line">            <span class="keyword">while</span>(!queue.isEmpty())</span><br><span class="line">                result.add(queue.poll().val);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// level order</span></span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;size; ++i)&#123;</span><br><span class="line">            TreeNode curr = queue.poll();</span><br><span class="line">            visited.add(curr);</span><br><span class="line">            <span class="comment">// add left, right, parent</span></span><br><span class="line">            <span class="keyword">if</span>(curr.left != <span class="keyword">null</span> &amp;&amp; !visited.contains(curr.left))</span><br><span class="line">                queue.offer(curr.left);</span><br><span class="line">            <span class="keyword">if</span>(curr.right != <span class="keyword">null</span> &amp;&amp; !visited.contains(curr.right))</span><br><span class="line">                queue.offer(curr.right);</span><br><span class="line">            TreeNode parent = parentMap.get(curr);</span><br><span class="line">            <span class="keyword">if</span>(parent != <span class="keyword">null</span> &amp;&amp; !visited.contains(parent))</span><br><span class="line">                queue.offer(parent);</span><br><span class="line">        &#125;</span><br><span class="line">        dist ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">findParent</span><span class="params">(TreeNode root,TreeNode parent,Map&lt;TreeNode,TreeNode&gt; parentMap)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// child -&gt; parent</span></span><br><span class="line">    <span class="keyword">if</span>(parent != <span class="keyword">null</span>)</span><br><span class="line">        parentMap.put(root,parent);</span><br><span class="line">    findParent(root.left,root,parentMap);</span><br><span class="line">    findParent(root.right,root,parentMap);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>DFS consider subtree and ancestor:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">distanceK</span><span class="params">(TreeNode root, TreeNode target, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// dfs 2 cases:</span></span><br><span class="line">    <span class="comment">// first: subtree of target node</span></span><br><span class="line">    <span class="comment">// second: ancestor or other subtree</span></span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    getDist(root,target,K,result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for first case, no target found return -1, </span></span><br><span class="line"><span class="comment">// return 0 when find target, then backtrack increase dist</span></span><br><span class="line"><span class="comment">// backward get K, or search in the other subtree </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getDist</span><span class="params">(TreeNode root,TreeNode target,<span class="keyword">int</span> K,List&lt;Integer&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(root == target)&#123;</span><br><span class="line">        <span class="comment">// search subtree then search second case</span></span><br><span class="line">        findSubTree(root,K,result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> leftDist = getDist(root.left,target,K,result);</span><br><span class="line">    <span class="comment">// target in left subtree</span></span><br><span class="line">    <span class="keyword">if</span>(leftDist != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(leftDist + <span class="number">1</span> == K)</span><br><span class="line">            result.add(root.val);</span><br><span class="line">        <span class="keyword">else</span>    <span class="comment">// search right subtree</span></span><br><span class="line">            findSubTree(root.right,K-<span class="number">2</span>-leftDist,result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + leftDist;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> rightDist = getDist(root.right,target,K,result);</span><br><span class="line">    <span class="keyword">if</span>(rightDist != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(rightDist + <span class="number">1</span> == K)</span><br><span class="line">            result.add(root.val);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            findSubTree(root.left,K-<span class="number">2</span>-rightDist,result);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + rightDist;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for case search in target subtree</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">findSubTree</span><span class="params">(TreeNode root,<span class="keyword">int</span> K,List&lt;Integer&gt; result)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(K == <span class="number">0</span>)&#123;</span><br><span class="line">        result.add(root.val);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    findSubTree(root.left,K-<span class="number">1</span>,result);</span><br><span class="line">    findSubTree(root.right,K-<span class="number">1</span>,result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="864-random-pick-with-blacklist-hard"><a href="#864-random-pick-with-blacklist-hard" class="headerlink" title="#864-random-pick-with-blacklist-hard"></a>#864-random-pick-with-blacklist-hard</h4><p>Given a blacklist <code>B</code> containing unique integers from <code>[0, N)</code>, write a function to return a uniform random integer from <code>[0, N)</code> which is <strong>NOT</strong> in <code>B</code>.</p><p>Optimize it such that it minimizes the call to system’s <code>Math.random()</code>.</p><p><strong>Note:</strong></p><ol><li><code>1 &lt;= N &lt;= 1000000000</code></li><li><code>0 &lt;= B.length &lt; min(100000, N)</code></li><li><code>[0, N)</code> does NOT include N. See <a href="https://en.wikipedia.org/wiki/Interval_(mathematics" target="_blank" rel="noopener">interval notation</a>).</li></ol><p><img src="https://s3-lc-upload.s3.amazonaws.com/users/cafebaby/image_1530657902.png" alt="image"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    Set&lt;Integer&gt; blackSet;</span><br><span class="line">    Random random;</span><br><span class="line">    <span class="keyword">int</span> range;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span>[] blacklist)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// B black num, N total, N-B valid</span></span><br><span class="line">        <span class="comment">// map black num [0,N-B] to valid num  [N-B,N]</span></span><br><span class="line">        <span class="comment">// [0,N-B)[N-B,N)</span></span><br><span class="line">        <span class="keyword">this</span>.blackSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> B = blacklist.length;</span><br><span class="line">        <span class="comment">// save black num after N-B</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : blacklist)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &gt;= N-B)</span><br><span class="line">                blackSet.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> val = N - B;</span><br><span class="line">        <span class="comment">// map black num before N-B</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : blacklist)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &lt; N - B)&#123;</span><br><span class="line">                <span class="keyword">while</span>(blackSet.contains(val))</span><br><span class="line">                    val ++;</span><br><span class="line">                map.put(num,val++);<span class="comment">// notice ++</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.range = N - B;   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key = <span class="keyword">this</span>.random.nextInt(range);</span><br><span class="line">        <span class="comment">// if contains in black map, return val</span></span><br><span class="line">        <span class="comment">// otherwise valid, return directly</span></span><br><span class="line">        <span class="keyword">return</span> map.getOrDefault(key,key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;1-200&quot;&gt;&lt;a href=&quot;#1-200&quot; class=&quot;headerlink&quot; title=&quot;1 ~ 200&quot;&gt;&lt;/a&gt;1 ~ 200&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;1 ~ 100&lt;
      
    
    </summary>
    
      <category term="leetcode" scheme="https://jliao011.github.io/categories/leetcode/"/>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://jliao011.github.io/2018/05/27/hello-world/"/>
    <id>https://jliao011.github.io/2018/05/27/hello-world/</id>
    <published>2018-05-27T07:11:14.000Z</published>
    <updated>2018-05-27T12:41:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
